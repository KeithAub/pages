(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Tc={exports:{}},xo={},Cc={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function D0(){if(Sp)return Ge;Sp=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),h=Symbol.iterator;function x(_){return _===null||typeof _!="object"?null:(_=h&&_[h]||_["@@iterator"],typeof _=="function"?_:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,P={};function T(_,j,me){this.props=_,this.context=j,this.refs=P,this.updater=me||w}T.prototype.isReactComponent={},T.prototype.setState=function(_,j){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,j,"setState")},T.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function C(){}C.prototype=T.prototype;function L(_,j,me){this.props=_,this.context=j,this.refs=P,this.updater=me||w}var M=L.prototype=new C;M.constructor=L,b(M,T.prototype),M.isPureReactComponent=!0;var R=Array.isArray,G=Object.prototype.hasOwnProperty,Z={current:null},v={key:!0,ref:!0,__self:!0,__source:!0};function S(_,j,me){var se,ue={},fe=null,te=null;if(j!=null)for(se in j.ref!==void 0&&(te=j.ref),j.key!==void 0&&(fe=""+j.key),j)G.call(j,se)&&!v.hasOwnProperty(se)&&(ue[se]=j[se]);var oe=arguments.length-2;if(oe===1)ue.children=me;else if(1<oe){for(var ve=Array(oe),Oe=0;Oe<oe;Oe++)ve[Oe]=arguments[Oe+2];ue.children=ve}if(_&&_.defaultProps)for(se in oe=_.defaultProps,oe)ue[se]===void 0&&(ue[se]=oe[se]);return{$$typeof:e,type:_,key:fe,ref:te,props:ue,_owner:Z.current}}function E(_,j){return{$$typeof:e,type:_.type,key:j,ref:_.ref,props:_.props,_owner:_._owner}}function k(_){return typeof _=="object"&&_!==null&&_.$$typeof===e}function O(_){var j={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(me){return j[me]})}var U=/\/+/g;function W(_,j){return typeof _=="object"&&_!==null&&_.key!=null?O(""+_.key):j.toString(36)}function Q(_,j,me,se,ue){var fe=typeof _;(fe==="undefined"||fe==="boolean")&&(_=null);var te=!1;if(_===null)te=!0;else switch(fe){case"string":case"number":te=!0;break;case"object":switch(_.$$typeof){case e:case t:te=!0}}if(te)return te=_,ue=ue(te),_=se===""?"."+W(te,0):se,R(ue)?(me="",_!=null&&(me=_.replace(U,"$&/")+"/"),Q(ue,j,me,"",function(Oe){return Oe})):ue!=null&&(k(ue)&&(ue=E(ue,me+(!ue.key||te&&te.key===ue.key?"":(""+ue.key).replace(U,"$&/")+"/")+_)),j.push(ue)),1;if(te=0,se=se===""?".":se+":",R(_))for(var oe=0;oe<_.length;oe++){fe=_[oe];var ve=se+W(fe,oe);te+=Q(fe,j,me,ve,ue)}else if(ve=x(_),typeof ve=="function")for(_=ve.call(_),oe=0;!(fe=_.next()).done;)fe=fe.value,ve=se+W(fe,oe++),te+=Q(fe,j,me,ve,ue);else if(fe==="object")throw j=String(_),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return te}function ie(_,j,me){if(_==null)return _;var se=[],ue=0;return Q(_,se,"","",function(fe){return j.call(me,fe,ue++)}),se}function I(_){if(_._status===-1){var j=_._result;j=j(),j.then(function(me){(_._status===0||_._status===-1)&&(_._status=1,_._result=me)},function(me){(_._status===0||_._status===-1)&&(_._status=2,_._result=me)}),_._status===-1&&(_._status=0,_._result=j)}if(_._status===1)return _._result.default;throw _._result}var B={current:null},N={transition:null},D={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:N,ReactCurrentOwner:Z};function $(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:ie,forEach:function(_,j,me){ie(_,function(){j.apply(this,arguments)},me)},count:function(_){var j=0;return ie(_,function(){j++}),j},toArray:function(_){return ie(_,function(j){return j})||[]},only:function(_){if(!k(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Ge.Component=T,Ge.Fragment=n,Ge.Profiler=s,Ge.PureComponent=L,Ge.StrictMode=r,Ge.Suspense=f,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,Ge.act=$,Ge.cloneElement=function(_,j,me){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var se=b({},_.props),ue=_.key,fe=_.ref,te=_._owner;if(j!=null){if(j.ref!==void 0&&(fe=j.ref,te=Z.current),j.key!==void 0&&(ue=""+j.key),_.type&&_.type.defaultProps)var oe=_.type.defaultProps;for(ve in j)G.call(j,ve)&&!v.hasOwnProperty(ve)&&(se[ve]=j[ve]===void 0&&oe!==void 0?oe[ve]:j[ve])}var ve=arguments.length-2;if(ve===1)se.children=me;else if(1<ve){oe=Array(ve);for(var Oe=0;Oe<ve;Oe++)oe[Oe]=arguments[Oe+2];se.children=oe}return{$$typeof:e,type:_.type,key:ue,ref:fe,props:se,_owner:te}},Ge.createContext=function(_){return _={$$typeof:l,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:a,_context:_},_.Consumer=_},Ge.createElement=S,Ge.createFactory=function(_){var j=S.bind(null,_);return j.type=_,j},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(_){return{$$typeof:c,render:_}},Ge.isValidElement=k,Ge.lazy=function(_){return{$$typeof:g,_payload:{_status:-1,_result:_},_init:I}},Ge.memo=function(_,j){return{$$typeof:p,type:_,compare:j===void 0?null:j}},Ge.startTransition=function(_){var j=N.transition;N.transition={};try{_()}finally{N.transition=j}},Ge.unstable_act=$,Ge.useCallback=function(_,j){return B.current.useCallback(_,j)},Ge.useContext=function(_){return B.current.useContext(_)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(_){return B.current.useDeferredValue(_)},Ge.useEffect=function(_,j){return B.current.useEffect(_,j)},Ge.useId=function(){return B.current.useId()},Ge.useImperativeHandle=function(_,j,me){return B.current.useImperativeHandle(_,j,me)},Ge.useInsertionEffect=function(_,j){return B.current.useInsertionEffect(_,j)},Ge.useLayoutEffect=function(_,j){return B.current.useLayoutEffect(_,j)},Ge.useMemo=function(_,j){return B.current.useMemo(_,j)},Ge.useReducer=function(_,j,me){return B.current.useReducer(_,j,me)},Ge.useRef=function(_){return B.current.useRef(_)},Ge.useState=function(_){return B.current.useState(_)},Ge.useSyncExternalStore=function(_,j,me){return B.current.useSyncExternalStore(_,j,me)},Ge.useTransition=function(){return B.current.useTransition()},Ge.version="18.3.1",Ge}var bp;function gf(){return bp||(bp=1,Cc.exports=D0()),Cc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function B0(){if(Ep)return xo;Ep=1;var e=gf(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var g,h={},x=null,w=null;p!==void 0&&(x=""+p),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(w=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(h[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)h[g]===void 0&&(h[g]=f[g]);return{$$typeof:t,type:c,key:x,ref:w,props:h,_owner:s.current}}return xo.Fragment=n,xo.jsx=l,xo.jsxs=l,xo}var Ap;function z0(){return Ap||(Ap=1,Tc.exports=B0()),Tc.exports}var ws=z0(),Ct=gf(),Ja={},kc={exports:{}},Jt={},_c={exports:{}},Lc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function V0(){return Pp||(Pp=1,function(e){function t(N,D){var $=N.length;N.push(D);e:for(;0<$;){var _=$-1>>>1,j=N[_];if(0<s(j,D))N[_]=D,N[$]=j,$=_;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var D=N[0],$=N.pop();if($!==D){N[0]=$;e:for(var _=0,j=N.length,me=j>>>1;_<me;){var se=2*(_+1)-1,ue=N[se],fe=se+1,te=N[fe];if(0>s(ue,$))fe<j&&0>s(te,ue)?(N[_]=te,N[fe]=$,_=fe):(N[_]=ue,N[se]=$,_=se);else if(fe<j&&0>s(te,$))N[_]=te,N[fe]=$,_=fe;else break e}}return D}function s(N,D){var $=N.sortIndex-D.sortIndex;return $!==0?$:N.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var f=[],p=[],g=1,h=null,x=3,w=!1,b=!1,P=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(N){for(var D=n(p);D!==null;){if(D.callback===null)r(p);else if(D.startTime<=N)r(p),D.sortIndex=D.expirationTime,t(f,D);else break;D=n(p)}}function R(N){if(P=!1,M(N),!b)if(n(f)!==null)b=!0,I(G);else{var D=n(p);D!==null&&B(R,D.startTime-N)}}function G(N,D){b=!1,P&&(P=!1,C(S),S=-1),w=!0;var $=x;try{for(M(D),h=n(f);h!==null&&(!(h.expirationTime>D)||N&&!O());){var _=h.callback;if(typeof _=="function"){h.callback=null,x=h.priorityLevel;var j=_(h.expirationTime<=D);D=e.unstable_now(),typeof j=="function"?h.callback=j:h===n(f)&&r(f),M(D)}else r(f);h=n(f)}if(h!==null)var me=!0;else{var se=n(p);se!==null&&B(R,se.startTime-D),me=!1}return me}finally{h=null,x=$,w=!1}}var Z=!1,v=null,S=-1,E=5,k=-1;function O(){return!(e.unstable_now()-k<E)}function U(){if(v!==null){var N=e.unstable_now();k=N;var D=!0;try{D=v(!0,N)}finally{D?W():(Z=!1,v=null)}}else Z=!1}var W;if(typeof L=="function")W=function(){L(U)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ie=Q.port2;Q.port1.onmessage=U,W=function(){ie.postMessage(null)}}else W=function(){T(U,0)};function I(N){v=N,Z||(Z=!0,W())}function B(N,D){S=T(function(){N(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){b||w||(b=!0,I(G))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(N){switch(x){case 1:case 2:case 3:var D=3;break;default:D=x}var $=x;x=D;try{return N()}finally{x=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=x;x=N;try{return D()}finally{x=$}},e.unstable_scheduleCallback=function(N,D,$){var _=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?_+$:_):$=_,N){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=$+j,N={id:g++,callback:D,priorityLevel:N,startTime:$,expirationTime:j,sortIndex:-1},$>_?(N.sortIndex=$,t(p,N),n(f)===null&&N===n(p)&&(P?(C(S),S=-1):P=!0,B(R,$-_))):(N.sortIndex=j,t(f,N),b||w||(b=!0,I(G))),N},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(N){var D=x;return function(){var $=x;x=D;try{return N.apply(this,arguments)}finally{x=$}}}}(Lc)),Lc}var Tp;function U0(){return Tp||(Tp=1,_c.exports=V0()),_c.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function G0(){if(Cp)return Jt;Cp=1;var e=gf(),t=U0();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},h={};function x(i){return f.call(h,i)?!0:f.call(g,i)?!1:p.test(i)?h[i]=!0:(g[i]=!0,!1)}function w(i,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,o,u,d){if(o===null||typeof o>"u"||w(i,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function P(i,o,u,d,m,y,A){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=A}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){T[i]=new P(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];T[o]=new P(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){T[i]=new P(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){T[i]=new P(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){T[i]=new P(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){T[i]=new P(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){T[i]=new P(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){T[i]=new P(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){T[i]=new P(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function L(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(C,L);T[o]=new P(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(C,L);T[o]=new P(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(C,L);T[o]=new P(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){T[i]=new P(i,1,!1,i.toLowerCase(),null,!1,!1)}),T.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){T[i]=new P(i,1,!1,i.toLowerCase(),null,!0,!0)});function M(i,o,u,d){var m=T.hasOwnProperty(o)?T[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,u,m,d)&&(u=null),d||m===null?x(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?i.setAttributeNS(d,o,u):i.setAttribute(o,u))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),Z=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),N=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var $=Object.assign,_;function j(i){if(_===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);_=o&&o[1]||""}return`
`+_+i}var me=!1;function se(i,o){if(!i||me)return"";me=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var d=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){d=K}i.call(o.prototype)}else{try{throw Error()}catch(K){d=K}i()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),y=d.stack.split(`
`),A=m.length-1,F=y.length-1;1<=A&&0<=F&&m[A]!==y[F];)F--;for(;1<=A&&0<=F;A--,F--)if(m[A]!==y[F]){if(A!==1||F!==1)do if(A--,F--,0>F||m[A]!==y[F]){var V=`
`+m[A].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=A&&0<=F);break}}}finally{me=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?j(i):""}function ue(i){switch(i.tag){case 5:return j(i.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return i=se(i.type,!1),i;case 11:return i=se(i.type.render,!1),i;case 1:return i=se(i.type,!0),i;default:return""}}function fe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case v:return"Fragment";case Z:return"Portal";case E:return"Profiler";case S:return"StrictMode";case W:return"Suspense";case Q:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case k:return(i._context.displayName||"Context")+".Provider";case U:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ie:return o=i.displayName||null,o!==null?o:fe(i.type)||"Memo";case I:o=i._payload,i=i._init;try{return fe(i(o))}catch{}}return null}function te(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function oe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ve(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Oe(i){var o=ve(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(A){d=""+A,y.call(this,A)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ke(i){i._valueTracker||(i._valueTracker=Oe(i))}function De(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return i&&(d=ve(i)?i.checked?"true":"false":i.value),i=d,i!==u?(o.setValue(i),!0):!1}function Le(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ee(i,o){var u=o.checked;return $({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Fe(i,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=oe(o.value!=null?o.value:u),i._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ge(i,o){o=o.checked,o!=null&&M(i,"checked",o,!1)}function q(i,o){ge(i,o);var u=oe(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?J(i,o.type,u):o.hasOwnProperty("defaultValue")&&J(i,o.type,oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function ee(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function J(i,o,u){(o!=="number"||Le(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var be=Array.isArray;function He(i,o,u,d){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&d&&(i[u].defaultSelected=!0)}else{for(u=""+oe(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Ve(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return $({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ar(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(be(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:oe(u)}}function Mn(i,o){var u=oe(o.value),d=oe(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),d!=null&&(i.defaultValue=""+d)}function Hn(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function dt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?dt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var gn,ai=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(gn=gn||document.createElement("div"),gn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=gn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Wn(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zi=["Webkit","ms","Moz","O"];Object.keys(jn).forEach(function(i){zi.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),jn[o]=jn[i]})});function li(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||jn.hasOwnProperty(i)&&jn[i]?(""+o).trim():o+"px"}function ui(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=li(u,o[u],d);u==="float"&&(u="cssFloat"),d?i.setProperty(u,m):i[u]=m}}var Is=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nn(i,o){if(o){if(Is[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function qn(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lr=null;function ur(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rn=null,mn=null,vn=null;function Er(i){if(i=ro(i)){if(typeof rn!="function")throw Error(n(280));var o=i.stateNode;o&&(o=pa(o),rn(i.stateNode,i.type,o))}}function Ar(i){mn?vn?vn.push(i):vn=[i]:mn=i}function Bt(){if(mn){var i=mn,o=vn;if(vn=mn=null,Er(i),o)for(i=0;i<o.length;i++)Er(o[i])}}function Rs(i,o){return i(o)}function Ds(){}var Vi=!1;function Bs(i,o,u){if(Vi)return i(o,u);Vi=!0;try{return Rs(i,o,u)}finally{Vi=!1,(mn!==null||vn!==null)&&(Ds(),Bt())}}function Pr(i,o){var u=i.stateNode;if(u===null)return null;var d=pa(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Ui=!1;if(c)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){Ui=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{Ui=!1}function qo(i,o,u,d,m,y,A,F,V){var K=Array.prototype.slice.call(arguments,3);try{o.apply(u,K)}catch(le){this.onError(le)}}var Cr=!1,ci=null,fi=!1,Gi=null,Yo={onError:function(i){Cr=!0,ci=i}};function Re(i,o,u,d,m,y,A,F,V){Cr=!1,ci=null,qo.apply(Yo,arguments)}function Ue(i,o,u,d,m,y,A,F,V){if(Re.apply(this,arguments),Cr){if(Cr){var K=ci;Cr=!1,ci=null}else throw Error(n(198));fi||(fi=!0,Gi=K)}}function Be(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function xe(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function et(i){if(Be(i)!==i)throw Error(n(188))}function Xe(i){var o=i.alternate;if(!o){if(o=Be(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,d=o;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return et(m),i;if(y===d)return et(m),o;y=y.sibling}throw Error(n(188))}if(u.return!==d.return)u=m,d=y;else{for(var A=!1,F=m.child;F;){if(F===u){A=!0,u=m,d=y;break}if(F===d){A=!0,d=m,u=y;break}F=F.sibling}if(!A){for(F=y.child;F;){if(F===u){A=!0,u=y,d=m;break}if(F===d){A=!0,d=y,u=m;break}F=F.sibling}if(!A)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function ct(i){return i=Xe(i),i!==null?at(i):null}function at(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=at(i);if(o!==null)return o;i=i.sibling}return null}var sn=t.unstable_scheduleCallback,kr=t.unstable_cancelCallback,_r=t.unstable_shouldYield,Yn=t.unstable_requestPaint,rt=t.unstable_now,yn=t.unstable_getCurrentPriorityLevel,Lr=t.unstable_ImmediatePriority,Mr=t.unstable_UserBlockingPriority,$i=t.unstable_NormalPriority,Kv=t.unstable_LowPriority,Qf=t.unstable_IdlePriority,Xo=null,Xn=null;function Jv(i){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(Xo,i,void 0,(i.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:ny,ey=Math.log,ty=Math.LN2;function ny(i){return i>>>=0,i===0?32:31-(ey(i)/ty|0)|0}var Zo=64,Qo=4194304;function zs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ko(i,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,m=i.suspendedLanes,y=i.pingedLanes,A=u&268435455;if(A!==0){var F=A&~m;F!==0?d=zs(F):(y&=A,y!==0&&(d=zs(y)))}else A=u&~m,A!==0?d=zs(A):y!==0&&(d=zs(y));if(d===0)return 0;if(o!==0&&o!==d&&!(o&m)&&(m=d&-d,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if(d&4&&(d|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)u=31-On(o),m=1<<u,d|=i[u],o&=~m;return d}function ry(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iy(i,o){for(var u=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var A=31-On(y),F=1<<A,V=m[A];V===-1?(!(F&u)||F&d)&&(m[A]=ry(F,o)):V<=o&&(i.expiredLanes|=F),y&=~F}}function ql(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Kf(){var i=Zo;return Zo<<=1,!(Zo&4194240)&&(Zo=64),i}function Yl(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Vs(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-On(o),i[o]=u}function sy(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-On(u),y=1<<m;o[m]=0,d[m]=-1,i[m]=-1,u&=~y}}function Xl(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var d=31-On(u),m=1<<d;m&o|i[d]&o&&(i[d]|=o),u&=~m}}var nt=0;function Jf(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var ed,Zl,td,nd,rd,Ql=!1,Jo=[],Nr=null,Or=null,Fr=null,Us=new Map,Gs=new Map,Ir=[],oy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function id(i,o){switch(i){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Us.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(o.pointerId)}}function $s(i,o,u,d,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},o!==null&&(o=ro(o),o!==null&&Zl(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function ay(i,o,u,d,m){switch(o){case"focusin":return Nr=$s(Nr,i,o,u,d,m),!0;case"dragenter":return Or=$s(Or,i,o,u,d,m),!0;case"mouseover":return Fr=$s(Fr,i,o,u,d,m),!0;case"pointerover":var y=m.pointerId;return Us.set(y,$s(Us.get(y)||null,i,o,u,d,m)),!0;case"gotpointercapture":return y=m.pointerId,Gs.set(y,$s(Gs.get(y)||null,i,o,u,d,m)),!0}return!1}function sd(i){var o=di(i.target);if(o!==null){var u=Be(o);if(u!==null){if(o=u.tag,o===13){if(o=xe(u),o!==null){i.blockedOn=o,rd(i.priority,function(){td(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ea(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Jl(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);lr=d,u.target.dispatchEvent(d),lr=null}else return o=ro(u),o!==null&&Zl(o),i.blockedOn=u,!1;o.shift()}return!0}function od(i,o,u){ea(i)&&u.delete(o)}function ly(){Ql=!1,Nr!==null&&ea(Nr)&&(Nr=null),Or!==null&&ea(Or)&&(Or=null),Fr!==null&&ea(Fr)&&(Fr=null),Us.forEach(od),Gs.forEach(od)}function Hs(i,o){i.blockedOn===o&&(i.blockedOn=null,Ql||(Ql=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ly)))}function Ws(i){function o(m){return Hs(m,i)}if(0<Jo.length){Hs(Jo[0],i);for(var u=1;u<Jo.length;u++){var d=Jo[u];d.blockedOn===i&&(d.blockedOn=null)}}for(Nr!==null&&Hs(Nr,i),Or!==null&&Hs(Or,i),Fr!==null&&Hs(Fr,i),Us.forEach(o),Gs.forEach(o),u=0;u<Ir.length;u++)d=Ir[u],d.blockedOn===i&&(d.blockedOn=null);for(;0<Ir.length&&(u=Ir[0],u.blockedOn===null);)sd(u),u.blockedOn===null&&Ir.shift()}var Hi=R.ReactCurrentBatchConfig,ta=!0;function uy(i,o,u,d){var m=nt,y=Hi.transition;Hi.transition=null;try{nt=1,Kl(i,o,u,d)}finally{nt=m,Hi.transition=y}}function cy(i,o,u,d){var m=nt,y=Hi.transition;Hi.transition=null;try{nt=4,Kl(i,o,u,d)}finally{nt=m,Hi.transition=y}}function Kl(i,o,u,d){if(ta){var m=Jl(i,o,u,d);if(m===null)mu(i,o,d,na,u),id(i,d);else if(ay(m,i,o,u,d))d.stopPropagation();else if(id(i,d),o&4&&-1<oy.indexOf(i)){for(;m!==null;){var y=ro(m);if(y!==null&&ed(y),y=Jl(i,o,u,d),y===null&&mu(i,o,d,na,u),y===m)break;m=y}m!==null&&d.stopPropagation()}else mu(i,o,d,null,u)}}var na=null;function Jl(i,o,u,d){if(na=null,i=ur(d),i=di(i),i!==null)if(o=Be(i),o===null)i=null;else if(u=o.tag,u===13){if(i=xe(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return na=i,null}function ad(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yn()){case Lr:return 1;case Mr:return 4;case $i:case Kv:return 16;case Qf:return 536870912;default:return 16}default:return 16}}var Rr=null,eu=null,ra=null;function ld(){if(ra)return ra;var i,o=eu,u=o.length,d,m="value"in Rr?Rr.value:Rr.textContent,y=m.length;for(i=0;i<u&&o[i]===m[i];i++);var A=u-i;for(d=1;d<=A&&o[u-d]===m[y-d];d++);return ra=m.slice(i,1<d?1-d:void 0)}function ia(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function sa(){return!0}function ud(){return!1}function on(i){function o(u,d,m,y,A){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(u=i[F],this[F]=u?u(y):y[F]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?sa:ud,this.isPropagationStopped=ud,this}return $(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),o}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tu=on(Wi),js=$({},Wi,{view:0,detail:0}),fy=on(js),nu,ru,qs,oa=$({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:su,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==qs&&(qs&&i.type==="mousemove"?(nu=i.screenX-qs.screenX,ru=i.screenY-qs.screenY):ru=nu=0,qs=i),nu)},movementY:function(i){return"movementY"in i?i.movementY:ru}}),cd=on(oa),dy=$({},oa,{dataTransfer:0}),hy=on(dy),py=$({},js,{relatedTarget:0}),iu=on(py),gy=$({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),my=on(gy),vy=$({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),yy=on(vy),xy=$({},Wi,{data:0}),fd=on(xy),wy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},by={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ey(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=by[i])?!!o[i]:!1}function su(){return Ey}var Ay=$({},js,{key:function(i){if(i.key){var o=wy[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ia(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Sy[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:su,charCode:function(i){return i.type==="keypress"?ia(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ia(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Py=on(Ay),Ty=$({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dd=on(Ty),Cy=$({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:su}),ky=on(Cy),_y=$({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ly=on(_y),My=$({},oa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ny=on(My),Oy=[9,13,27,32],ou=c&&"CompositionEvent"in window,Ys=null;c&&"documentMode"in document&&(Ys=document.documentMode);var Fy=c&&"TextEvent"in window&&!Ys,hd=c&&(!ou||Ys&&8<Ys&&11>=Ys),pd=" ",gd=!1;function md(i,o){switch(i){case"keyup":return Oy.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vd(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ji=!1;function Iy(i,o){switch(i){case"compositionend":return vd(o);case"keypress":return o.which!==32?null:(gd=!0,pd);case"textInput":return i=o.data,i===pd&&gd?null:i;default:return null}}function Ry(i,o){if(ji)return i==="compositionend"||!ou&&md(i,o)?(i=ld(),ra=eu=Rr=null,ji=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return hd&&o.locale!=="ko"?null:o.data;default:return null}}var Dy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Dy[i.type]:o==="textarea"}function xd(i,o,u,d){Ar(d),o=fa(o,"onChange"),0<o.length&&(u=new tu("onChange","change",null,u,d),i.push({event:u,listeners:o}))}var Xs=null,Zs=null;function By(i){Dd(i,0)}function aa(i){var o=Qi(i);if(De(o))return i}function zy(i,o){if(i==="change")return o}var wd=!1;if(c){var au;if(c){var lu="oninput"in document;if(!lu){var Sd=document.createElement("div");Sd.setAttribute("oninput","return;"),lu=typeof Sd.oninput=="function"}au=lu}else au=!1;wd=au&&(!document.documentMode||9<document.documentMode)}function bd(){Xs&&(Xs.detachEvent("onpropertychange",Ed),Zs=Xs=null)}function Ed(i){if(i.propertyName==="value"&&aa(Zs)){var o=[];xd(o,Zs,i,ur(i)),Bs(By,o)}}function Vy(i,o,u){i==="focusin"?(bd(),Xs=o,Zs=u,Xs.attachEvent("onpropertychange",Ed)):i==="focusout"&&bd()}function Uy(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return aa(Zs)}function Gy(i,o){if(i==="click")return aa(o)}function $y(i,o){if(i==="input"||i==="change")return aa(o)}function Hy(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Fn=typeof Object.is=="function"?Object.is:Hy;function Qs(i,o){if(Fn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!f.call(o,m)||!Fn(i[m],o[m]))return!1}return!0}function Ad(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Pd(i,o){var u=Ad(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=o&&d>=o)return{node:u,offset:o-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ad(u)}}function Td(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Td(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Cd(){for(var i=window,o=Le();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Le(i.document)}return o}function uu(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Wy(i){var o=Cd(),u=i.focusedElem,d=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Td(u.ownerDocument.documentElement,u)){if(d!==null&&uu(u)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!i.extend&&y>d&&(m=d,d=y,y=m),m=Pd(u,y);var A=Pd(u,d);m&&A&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==A.node||i.focusOffset!==A.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),y>d?(i.addRange(o),i.extend(A.node,A.offset)):(o.setEnd(A.node,A.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var jy=c&&"documentMode"in document&&11>=document.documentMode,qi=null,cu=null,Ks=null,fu=!1;function kd(i,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;fu||qi==null||qi!==Le(d)||(d=qi,"selectionStart"in d&&uu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ks&&Qs(Ks,d)||(Ks=d,d=fa(cu,"onSelect"),0<d.length&&(o=new tu("onSelect","select",null,o,u),i.push({event:o,listeners:d}),o.target=qi)))}function la(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Yi={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionend:la("Transition","TransitionEnd")},du={},_d={};c&&(_d=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function ua(i){if(du[i])return du[i];if(!Yi[i])return i;var o=Yi[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in _d)return du[i]=o[u];return i}var Ld=ua("animationend"),Md=ua("animationiteration"),Nd=ua("animationstart"),Od=ua("transitionend"),Fd=new Map,Id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(i,o){Fd.set(i,o),a(o,[i])}for(var hu=0;hu<Id.length;hu++){var pu=Id[hu],qy=pu.toLowerCase(),Yy=pu[0].toUpperCase()+pu.slice(1);Dr(qy,"on"+Yy)}Dr(Ld,"onAnimationEnd"),Dr(Md,"onAnimationIteration"),Dr(Nd,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Od,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Js));function Rd(i,o,u){var d=i.type||"unknown-event";i.currentTarget=u,Ue(d,o,void 0,i),i.currentTarget=null}function Dd(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],m=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var A=d.length-1;0<=A;A--){var F=d[A],V=F.instance,K=F.currentTarget;if(F=F.listener,V!==y&&m.isPropagationStopped())break e;Rd(m,F,K),y=V}else for(A=0;A<d.length;A++){if(F=d[A],V=F.instance,K=F.currentTarget,F=F.listener,V!==y&&m.isPropagationStopped())break e;Rd(m,F,K),y=V}}}if(fi)throw i=Gi,fi=!1,Gi=null,i}function lt(i,o){var u=o[bu];u===void 0&&(u=o[bu]=new Set);var d=i+"__bubble";u.has(d)||(Bd(o,i,2,!1),u.add(d))}function gu(i,o,u){var d=0;o&&(d|=4),Bd(u,i,d,o)}var ca="_reactListening"+Math.random().toString(36).slice(2);function eo(i){if(!i[ca]){i[ca]=!0,r.forEach(function(u){u!=="selectionchange"&&(Xy.has(u)||gu(u,!1,i),gu(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ca]||(o[ca]=!0,gu("selectionchange",!1,o))}}function Bd(i,o,u,d){switch(ad(o)){case 1:var m=uy;break;case 4:m=cy;break;default:m=Kl}u=m.bind(null,o,u,i),m=void 0,!Ui||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function mu(i,o,u,d,m){var y=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var F=d.stateNode.containerInfo;if(F===m||F.nodeType===8&&F.parentNode===m)break;if(A===4)for(A=d.return;A!==null;){var V=A.tag;if((V===3||V===4)&&(V=A.stateNode.containerInfo,V===m||V.nodeType===8&&V.parentNode===m))return;A=A.return}for(;F!==null;){if(A=di(F),A===null)return;if(V=A.tag,V===5||V===6){d=y=A;continue e}F=F.parentNode}}d=d.return}Bs(function(){var K=y,le=ur(u),ce=[];e:{var ae=Fd.get(i);if(ae!==void 0){var Se=tu,Pe=i;switch(i){case"keypress":if(ia(u)===0)break e;case"keydown":case"keyup":Se=Py;break;case"focusin":Pe="focus",Se=iu;break;case"focusout":Pe="blur",Se=iu;break;case"beforeblur":case"afterblur":Se=iu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=ky;break;case Ld:case Md:case Nd:Se=my;break;case Od:Se=Ly;break;case"scroll":Se=fy;break;case"wheel":Se=Ny;break;case"copy":case"cut":case"paste":Se=yy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=dd}var Te=(o&4)!==0,vt=!Te&&i==="scroll",Y=Te?ae!==null?ae+"Capture":null:ae;Te=[];for(var H=K,X;H!==null;){X=H;var pe=X.stateNode;if(X.tag===5&&pe!==null&&(X=pe,Y!==null&&(pe=Pr(H,Y),pe!=null&&Te.push(to(H,pe,X)))),vt)break;H=H.return}0<Te.length&&(ae=new Se(ae,Pe,null,u,le),ce.push({event:ae,listeners:Te}))}}if(!(o&7)){e:{if(ae=i==="mouseover"||i==="pointerover",Se=i==="mouseout"||i==="pointerout",ae&&u!==lr&&(Pe=u.relatedTarget||u.fromElement)&&(di(Pe)||Pe[cr]))break e;if((Se||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,Se?(Pe=u.relatedTarget||u.toElement,Se=K,Pe=Pe?di(Pe):null,Pe!==null&&(vt=Be(Pe),Pe!==vt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Se=null,Pe=K),Se!==Pe)){if(Te=cd,pe="onMouseLeave",Y="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Te=dd,pe="onPointerLeave",Y="onPointerEnter",H="pointer"),vt=Se==null?ae:Qi(Se),X=Pe==null?ae:Qi(Pe),ae=new Te(pe,H+"leave",Se,u,le),ae.target=vt,ae.relatedTarget=X,pe=null,di(le)===K&&(Te=new Te(Y,H+"enter",Pe,u,le),Te.target=X,Te.relatedTarget=vt,pe=Te),vt=pe,Se&&Pe)t:{for(Te=Se,Y=Pe,H=0,X=Te;X;X=Xi(X))H++;for(X=0,pe=Y;pe;pe=Xi(pe))X++;for(;0<H-X;)Te=Xi(Te),H--;for(;0<X-H;)Y=Xi(Y),X--;for(;H--;){if(Te===Y||Y!==null&&Te===Y.alternate)break t;Te=Xi(Te),Y=Xi(Y)}Te=null}else Te=null;Se!==null&&zd(ce,ae,Se,Te,!1),Pe!==null&&vt!==null&&zd(ce,vt,Pe,Te,!0)}}e:{if(ae=K?Qi(K):window,Se=ae.nodeName&&ae.nodeName.toLowerCase(),Se==="select"||Se==="input"&&ae.type==="file")var _e=zy;else if(yd(ae))if(wd)_e=$y;else{_e=Uy;var Me=Vy}else(Se=ae.nodeName)&&Se.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(_e=Gy);if(_e&&(_e=_e(i,K))){xd(ce,_e,u,le);break e}Me&&Me(i,ae,K),i==="focusout"&&(Me=ae._wrapperState)&&Me.controlled&&ae.type==="number"&&J(ae,"number",ae.value)}switch(Me=K?Qi(K):window,i){case"focusin":(yd(Me)||Me.contentEditable==="true")&&(qi=Me,cu=K,Ks=null);break;case"focusout":Ks=cu=qi=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,kd(ce,u,le);break;case"selectionchange":if(jy)break;case"keydown":case"keyup":kd(ce,u,le)}var Ne;if(ou)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ji?md(i,u)&&(Ie="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ie="onCompositionStart");Ie&&(hd&&u.locale!=="ko"&&(ji||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ji&&(Ne=ld()):(Rr=le,eu="value"in Rr?Rr.value:Rr.textContent,ji=!0)),Me=fa(K,Ie),0<Me.length&&(Ie=new fd(Ie,i,null,u,le),ce.push({event:Ie,listeners:Me}),Ne?Ie.data=Ne:(Ne=vd(u),Ne!==null&&(Ie.data=Ne)))),(Ne=Fy?Iy(i,u):Ry(i,u))&&(K=fa(K,"onBeforeInput"),0<K.length&&(le=new fd("onBeforeInput","beforeinput",null,u,le),ce.push({event:le,listeners:K}),le.data=Ne))}Dd(ce,o)})}function to(i,o,u){return{instance:i,listener:o,currentTarget:u}}function fa(i,o){for(var u=o+"Capture",d=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=Pr(i,u),y!=null&&d.unshift(to(i,y,m)),y=Pr(i,o),y!=null&&d.push(to(i,y,m))),i=i.return}return d}function Xi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function zd(i,o,u,d,m){for(var y=o._reactName,A=[];u!==null&&u!==d;){var F=u,V=F.alternate,K=F.stateNode;if(V!==null&&V===d)break;F.tag===5&&K!==null&&(F=K,m?(V=Pr(u,y),V!=null&&A.unshift(to(u,V,F))):m||(V=Pr(u,y),V!=null&&A.push(to(u,V,F)))),u=u.return}A.length!==0&&i.push({event:o,listeners:A})}var Zy=/\r\n?/g,Qy=/\u0000|\uFFFD/g;function Vd(i){return(typeof i=="string"?i:""+i).replace(Zy,`
`).replace(Qy,"")}function da(i,o,u){if(o=Vd(o),Vd(i)!==o&&u)throw Error(n(425))}function ha(){}var vu=null,yu=null;function xu(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var wu=typeof setTimeout=="function"?setTimeout:void 0,Ky=typeof clearTimeout=="function"?clearTimeout:void 0,Ud=typeof Promise=="function"?Promise:void 0,Jy=typeof queueMicrotask=="function"?queueMicrotask:typeof Ud<"u"?function(i){return Ud.resolve(null).then(i).catch(e0)}:wu;function e0(i){setTimeout(function(){throw i})}function Su(i,o){var u=o,d=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){i.removeChild(m),Ws(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);Ws(o)}function Br(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Gd(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Zi,no="__reactProps$"+Zi,cr="__reactContainer$"+Zi,bu="__reactEvents$"+Zi,t0="__reactListeners$"+Zi,n0="__reactHandles$"+Zi;function di(i){var o=i[Zn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[cr]||u[Zn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Gd(i);i!==null;){if(u=i[Zn])return u;i=Gd(i)}return o}i=u,u=i.parentNode}return null}function ro(i){return i=i[Zn]||i[cr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Qi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function pa(i){return i[no]||null}var Eu=[],Ki=-1;function zr(i){return{current:i}}function ut(i){0>Ki||(i.current=Eu[Ki],Eu[Ki]=null,Ki--)}function ot(i,o){Ki++,Eu[Ki]=i.current,i.current=o}var Vr={},Ot=zr(Vr),Yt=zr(!1),hi=Vr;function Ji(i,o){var u=i.type.contextTypes;if(!u)return Vr;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in u)m[y]=o[y];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function Xt(i){return i=i.childContextTypes,i!=null}function ga(){ut(Yt),ut(Ot)}function $d(i,o,u){if(Ot.current!==Vr)throw Error(n(168));ot(Ot,o),ot(Yt,u)}function Hd(i,o,u){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(n(108,te(i)||"Unknown",m));return $({},u,d)}function ma(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vr,hi=Ot.current,ot(Ot,i),ot(Yt,Yt.current),!0}function Wd(i,o,u){var d=i.stateNode;if(!d)throw Error(n(169));u?(i=Hd(i,o,hi),d.__reactInternalMemoizedMergedChildContext=i,ut(Yt),ut(Ot),ot(Ot,i)):ut(Yt),ot(Yt,u)}var fr=null,va=!1,Au=!1;function jd(i){fr===null?fr=[i]:fr.push(i)}function r0(i){va=!0,jd(i)}function Ur(){if(!Au&&fr!==null){Au=!0;var i=0,o=nt;try{var u=fr;for(nt=1;i<u.length;i++){var d=u[i];do d=d(!0);while(d!==null)}fr=null,va=!1}catch(m){throw fr!==null&&(fr=fr.slice(i+1)),sn(Lr,Ur),m}finally{nt=o,Au=!1}}return null}var es=[],ts=0,ya=null,xa=0,xn=[],wn=0,pi=null,dr=1,hr="";function gi(i,o){es[ts++]=xa,es[ts++]=ya,ya=i,xa=o}function qd(i,o,u){xn[wn++]=dr,xn[wn++]=hr,xn[wn++]=pi,pi=i;var d=dr;i=hr;var m=32-On(d)-1;d&=~(1<<m),u+=1;var y=32-On(o)+m;if(30<y){var A=m-m%5;y=(d&(1<<A)-1).toString(32),d>>=A,m-=A,dr=1<<32-On(o)+m|u<<m|d,hr=y+i}else dr=1<<y|u<<m|d,hr=i}function Pu(i){i.return!==null&&(gi(i,1),qd(i,1,0))}function Tu(i){for(;i===ya;)ya=es[--ts],es[ts]=null,xa=es[--ts],es[ts]=null;for(;i===pi;)pi=xn[--wn],xn[wn]=null,hr=xn[--wn],xn[wn]=null,dr=xn[--wn],xn[wn]=null}var an=null,ln=null,ft=!1,In=null;function Yd(i,o){var u=An(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Xd(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,an=i,ln=Br(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,an=i,ln=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=pi!==null?{id:dr,overflow:hr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=An(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,an=i,ln=null,!0):!1;default:return!1}}function Cu(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ku(i){if(ft){var o=ln;if(o){var u=o;if(!Xd(i,o)){if(Cu(i))throw Error(n(418));o=Br(u.nextSibling);var d=an;o&&Xd(i,o)?Yd(d,u):(i.flags=i.flags&-4097|2,ft=!1,an=i)}}else{if(Cu(i))throw Error(n(418));i.flags=i.flags&-4097|2,ft=!1,an=i}}}function Zd(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;an=i}function wa(i){if(i!==an)return!1;if(!ft)return Zd(i),ft=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!xu(i.type,i.memoizedProps)),o&&(o=ln)){if(Cu(i))throw Qd(),Error(n(418));for(;o;)Yd(i,o),o=Br(o.nextSibling)}if(Zd(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){ln=Br(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}ln=null}}else ln=an?Br(i.stateNode.nextSibling):null;return!0}function Qd(){for(var i=ln;i;)i=Br(i.nextSibling)}function ns(){ln=an=null,ft=!1}function _u(i){In===null?In=[i]:In.push(i)}var i0=R.ReactCurrentBatchConfig;function io(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,i));var m=d,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(A){var F=m.refs;A===null?delete F[y]:F[y]=A},o._stringRef=y,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Sa(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Kd(i){var o=i._init;return o(i._payload)}function Jd(i){function o(Y,H){if(i){var X=Y.deletions;X===null?(Y.deletions=[H],Y.flags|=16):X.push(H)}}function u(Y,H){if(!i)return null;for(;H!==null;)o(Y,H),H=H.sibling;return null}function d(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function m(Y,H){return Y=Xr(Y,H),Y.index=0,Y.sibling=null,Y}function y(Y,H,X){return Y.index=X,i?(X=Y.alternate,X!==null?(X=X.index,X<H?(Y.flags|=2,H):X):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function A(Y){return i&&Y.alternate===null&&(Y.flags|=2),Y}function F(Y,H,X,pe){return H===null||H.tag!==6?(H=wc(X,Y.mode,pe),H.return=Y,H):(H=m(H,X),H.return=Y,H)}function V(Y,H,X,pe){var _e=X.type;return _e===v?le(Y,H,X.props.children,pe,X.key):H!==null&&(H.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===I&&Kd(_e)===H.type)?(pe=m(H,X.props),pe.ref=io(Y,H,X),pe.return=Y,pe):(pe=Wa(X.type,X.key,X.props,null,Y.mode,pe),pe.ref=io(Y,H,X),pe.return=Y,pe)}function K(Y,H,X,pe){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=Sc(X,Y.mode,pe),H.return=Y,H):(H=m(H,X.children||[]),H.return=Y,H)}function le(Y,H,X,pe,_e){return H===null||H.tag!==7?(H=Ei(X,Y.mode,pe,_e),H.return=Y,H):(H=m(H,X),H.return=Y,H)}function ce(Y,H,X){if(typeof H=="string"&&H!==""||typeof H=="number")return H=wc(""+H,Y.mode,X),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case G:return X=Wa(H.type,H.key,H.props,null,Y.mode,X),X.ref=io(Y,null,H),X.return=Y,X;case Z:return H=Sc(H,Y.mode,X),H.return=Y,H;case I:var pe=H._init;return ce(Y,pe(H._payload),X)}if(be(H)||D(H))return H=Ei(H,Y.mode,X,null),H.return=Y,H;Sa(Y,H)}return null}function ae(Y,H,X,pe){var _e=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return _e!==null?null:F(Y,H,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case G:return X.key===_e?V(Y,H,X,pe):null;case Z:return X.key===_e?K(Y,H,X,pe):null;case I:return _e=X._init,ae(Y,H,_e(X._payload),pe)}if(be(X)||D(X))return _e!==null?null:le(Y,H,X,pe,null);Sa(Y,X)}return null}function Se(Y,H,X,pe,_e){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Y=Y.get(X)||null,F(H,Y,""+pe,_e);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case G:return Y=Y.get(pe.key===null?X:pe.key)||null,V(H,Y,pe,_e);case Z:return Y=Y.get(pe.key===null?X:pe.key)||null,K(H,Y,pe,_e);case I:var Me=pe._init;return Se(Y,H,X,Me(pe._payload),_e)}if(be(pe)||D(pe))return Y=Y.get(X)||null,le(H,Y,pe,_e,null);Sa(H,pe)}return null}function Pe(Y,H,X,pe){for(var _e=null,Me=null,Ne=H,Ie=H=0,Tt=null;Ne!==null&&Ie<X.length;Ie++){Ne.index>Ie?(Tt=Ne,Ne=null):Tt=Ne.sibling;var Qe=ae(Y,Ne,X[Ie],pe);if(Qe===null){Ne===null&&(Ne=Tt);break}i&&Ne&&Qe.alternate===null&&o(Y,Ne),H=y(Qe,H,Ie),Me===null?_e=Qe:Me.sibling=Qe,Me=Qe,Ne=Tt}if(Ie===X.length)return u(Y,Ne),ft&&gi(Y,Ie),_e;if(Ne===null){for(;Ie<X.length;Ie++)Ne=ce(Y,X[Ie],pe),Ne!==null&&(H=y(Ne,H,Ie),Me===null?_e=Ne:Me.sibling=Ne,Me=Ne);return ft&&gi(Y,Ie),_e}for(Ne=d(Y,Ne);Ie<X.length;Ie++)Tt=Se(Ne,Y,Ie,X[Ie],pe),Tt!==null&&(i&&Tt.alternate!==null&&Ne.delete(Tt.key===null?Ie:Tt.key),H=y(Tt,H,Ie),Me===null?_e=Tt:Me.sibling=Tt,Me=Tt);return i&&Ne.forEach(function(Zr){return o(Y,Zr)}),ft&&gi(Y,Ie),_e}function Te(Y,H,X,pe){var _e=D(X);if(typeof _e!="function")throw Error(n(150));if(X=_e.call(X),X==null)throw Error(n(151));for(var Me=_e=null,Ne=H,Ie=H=0,Tt=null,Qe=X.next();Ne!==null&&!Qe.done;Ie++,Qe=X.next()){Ne.index>Ie?(Tt=Ne,Ne=null):Tt=Ne.sibling;var Zr=ae(Y,Ne,Qe.value,pe);if(Zr===null){Ne===null&&(Ne=Tt);break}i&&Ne&&Zr.alternate===null&&o(Y,Ne),H=y(Zr,H,Ie),Me===null?_e=Zr:Me.sibling=Zr,Me=Zr,Ne=Tt}if(Qe.done)return u(Y,Ne),ft&&gi(Y,Ie),_e;if(Ne===null){for(;!Qe.done;Ie++,Qe=X.next())Qe=ce(Y,Qe.value,pe),Qe!==null&&(H=y(Qe,H,Ie),Me===null?_e=Qe:Me.sibling=Qe,Me=Qe);return ft&&gi(Y,Ie),_e}for(Ne=d(Y,Ne);!Qe.done;Ie++,Qe=X.next())Qe=Se(Ne,Y,Ie,Qe.value,pe),Qe!==null&&(i&&Qe.alternate!==null&&Ne.delete(Qe.key===null?Ie:Qe.key),H=y(Qe,H,Ie),Me===null?_e=Qe:Me.sibling=Qe,Me=Qe);return i&&Ne.forEach(function(R0){return o(Y,R0)}),ft&&gi(Y,Ie),_e}function vt(Y,H,X,pe){if(typeof X=="object"&&X!==null&&X.type===v&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case G:e:{for(var _e=X.key,Me=H;Me!==null;){if(Me.key===_e){if(_e=X.type,_e===v){if(Me.tag===7){u(Y,Me.sibling),H=m(Me,X.props.children),H.return=Y,Y=H;break e}}else if(Me.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===I&&Kd(_e)===Me.type){u(Y,Me.sibling),H=m(Me,X.props),H.ref=io(Y,Me,X),H.return=Y,Y=H;break e}u(Y,Me);break}else o(Y,Me);Me=Me.sibling}X.type===v?(H=Ei(X.props.children,Y.mode,pe,X.key),H.return=Y,Y=H):(pe=Wa(X.type,X.key,X.props,null,Y.mode,pe),pe.ref=io(Y,H,X),pe.return=Y,Y=pe)}return A(Y);case Z:e:{for(Me=X.key;H!==null;){if(H.key===Me)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){u(Y,H.sibling),H=m(H,X.children||[]),H.return=Y,Y=H;break e}else{u(Y,H);break}else o(Y,H);H=H.sibling}H=Sc(X,Y.mode,pe),H.return=Y,Y=H}return A(Y);case I:return Me=X._init,vt(Y,H,Me(X._payload),pe)}if(be(X))return Pe(Y,H,X,pe);if(D(X))return Te(Y,H,X,pe);Sa(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,H!==null&&H.tag===6?(u(Y,H.sibling),H=m(H,X),H.return=Y,Y=H):(u(Y,H),H=wc(X,Y.mode,pe),H.return=Y,Y=H),A(Y)):u(Y,H)}return vt}var rs=Jd(!0),eh=Jd(!1),ba=zr(null),Ea=null,is=null,Lu=null;function Mu(){Lu=is=Ea=null}function Nu(i){var o=ba.current;ut(ba),i._currentValue=o}function Ou(i,o,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===u)break;i=i.return}}function ss(i,o){Ea=i,Lu=is=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(Zt=!0),i.firstContext=null)}function Sn(i){var o=i._currentValue;if(Lu!==i)if(i={context:i,memoizedValue:o,next:null},is===null){if(Ea===null)throw Error(n(308));is=i,Ea.dependencies={lanes:0,firstContext:i}}else is=is.next=i;return o}var mi=null;function Fu(i){mi===null?mi=[i]:mi.push(i)}function th(i,o,u,d){var m=o.interleaved;return m===null?(u.next=u,Fu(o)):(u.next=m.next,m.next=u),o.interleaved=u,pr(i,d)}function pr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Gr=!1;function Iu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nh(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function gr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function $r(i,o,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,Ze&2){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,pr(i,u)}return m=d.interleaved,m===null?(o.next=o,Fu(d)):(o.next=m.next,m.next=o),d.interleaved=o,pr(i,u)}function Aa(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Xl(i,u)}}function rh(i,o){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var A={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?m=y=A:y=y.next=A,u=u.next}while(u!==null);y===null?m=y=o:y=y.next=o}else m=y=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Pa(i,o,u,d){var m=i.updateQueue;Gr=!1;var y=m.firstBaseUpdate,A=m.lastBaseUpdate,F=m.shared.pending;if(F!==null){m.shared.pending=null;var V=F,K=V.next;V.next=null,A===null?y=K:A.next=K,A=V;var le=i.alternate;le!==null&&(le=le.updateQueue,F=le.lastBaseUpdate,F!==A&&(F===null?le.firstBaseUpdate=K:F.next=K,le.lastBaseUpdate=V))}if(y!==null){var ce=m.baseState;A=0,le=K=V=null,F=y;do{var ae=F.lane,Se=F.eventTime;if((d&ae)===ae){le!==null&&(le=le.next={eventTime:Se,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Pe=i,Te=F;switch(ae=o,Se=u,Te.tag){case 1:if(Pe=Te.payload,typeof Pe=="function"){ce=Pe.call(Se,ce,ae);break e}ce=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Te.payload,ae=typeof Pe=="function"?Pe.call(Se,ce,ae):Pe,ae==null)break e;ce=$({},ce,ae);break e;case 2:Gr=!0}}F.callback!==null&&F.lane!==0&&(i.flags|=64,ae=m.effects,ae===null?m.effects=[F]:ae.push(F))}else Se={eventTime:Se,lane:ae,tag:F.tag,payload:F.payload,callback:F.callback,next:null},le===null?(K=le=Se,V=ce):le=le.next=Se,A|=ae;if(F=F.next,F===null){if(F=m.shared.pending,F===null)break;ae=F,F=ae.next,ae.next=null,m.lastBaseUpdate=ae,m.shared.pending=null}}while(!0);if(le===null&&(V=ce),m.baseState=V,m.firstBaseUpdate=K,m.lastBaseUpdate=le,o=m.shared.interleaved,o!==null){m=o;do A|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);xi|=A,i.lanes=A,i.memoizedState=ce}}function ih(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var so={},Qn=zr(so),oo=zr(so),ao=zr(so);function vi(i){if(i===so)throw Error(n(174));return i}function Ru(i,o){switch(ot(ao,o),ot(oo,i),ot(Qn,so),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:tt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=tt(o,i)}ut(Qn),ot(Qn,o)}function os(){ut(Qn),ut(oo),ut(ao)}function sh(i){vi(ao.current);var o=vi(Qn.current),u=tt(o,i.type);o!==u&&(ot(oo,i),ot(Qn,u))}function Du(i){oo.current===i&&(ut(Qn),ut(oo))}var ht=zr(0);function Ta(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Bu=[];function zu(){for(var i=0;i<Bu.length;i++)Bu[i]._workInProgressVersionPrimary=null;Bu.length=0}var Ca=R.ReactCurrentDispatcher,Vu=R.ReactCurrentBatchConfig,yi=0,pt=null,St=null,At=null,ka=!1,lo=!1,uo=0,s0=0;function Ft(){throw Error(n(321))}function Uu(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Fn(i[u],o[u]))return!1;return!0}function Gu(i,o,u,d,m,y){if(yi=y,pt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ca.current=i===null||i.memoizedState===null?u0:c0,i=u(d,m),lo){y=0;do{if(lo=!1,uo=0,25<=y)throw Error(n(301));y+=1,At=St=null,o.updateQueue=null,Ca.current=f0,i=u(d,m)}while(lo)}if(Ca.current=Ma,o=St!==null&&St.next!==null,yi=0,At=St=pt=null,ka=!1,o)throw Error(n(300));return i}function $u(){var i=uo!==0;return uo=0,i}function Kn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?pt.memoizedState=At=i:At=At.next=i,At}function bn(){if(St===null){var i=pt.alternate;i=i!==null?i.memoizedState:null}else i=St.next;var o=At===null?pt.memoizedState:At.next;if(o!==null)At=o,St=i;else{if(i===null)throw Error(n(310));St=i,i={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},At===null?pt.memoizedState=At=i:At=At.next=i}return At}function co(i,o){return typeof o=="function"?o(i):o}function Hu(i){var o=bn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=St,m=d.baseQueue,y=u.pending;if(y!==null){if(m!==null){var A=m.next;m.next=y.next,y.next=A}d.baseQueue=m=y,u.pending=null}if(m!==null){y=m.next,d=d.baseState;var F=A=null,V=null,K=y;do{var le=K.lane;if((yi&le)===le)V!==null&&(V=V.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:i(d,K.action);else{var ce={lane:le,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};V===null?(F=V=ce,A=d):V=V.next=ce,pt.lanes|=le,xi|=le}K=K.next}while(K!==null&&K!==y);V===null?A=d:V.next=F,Fn(d,o.memoizedState)||(Zt=!0),o.memoizedState=d,o.baseState=A,o.baseQueue=V,u.lastRenderedState=d}if(i=u.interleaved,i!==null){m=i;do y=m.lane,pt.lanes|=y,xi|=y,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Wu(i){var o=bn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=u.dispatch,m=u.pending,y=o.memoizedState;if(m!==null){u.pending=null;var A=m=m.next;do y=i(y,A.action),A=A.next;while(A!==m);Fn(y,o.memoizedState)||(Zt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,d]}function oh(){}function ah(i,o){var u=pt,d=bn(),m=o(),y=!Fn(d.memoizedState,m);if(y&&(d.memoizedState=m,Zt=!0),d=d.queue,ju(ch.bind(null,u,d,i),[i]),d.getSnapshot!==o||y||At!==null&&At.memoizedState.tag&1){if(u.flags|=2048,fo(9,uh.bind(null,u,d,m,o),void 0,null),Pt===null)throw Error(n(349));yi&30||lh(u,o,m)}return m}function lh(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function uh(i,o,u,d){o.value=u,o.getSnapshot=d,fh(o)&&dh(i)}function ch(i,o,u){return u(function(){fh(o)&&dh(i)})}function fh(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Fn(i,u)}catch{return!0}}function dh(i){var o=pr(i,1);o!==null&&zn(o,i,1,-1)}function hh(i){var o=Kn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:i},o.queue=i,i=i.dispatch=l0.bind(null,pt,i),[o.memoizedState,i]}function fo(i,o,u,d){return i={tag:i,create:o,destroy:u,deps:d,next:null},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,o.lastEffect=i)),i}function ph(){return bn().memoizedState}function _a(i,o,u,d){var m=Kn();pt.flags|=i,m.memoizedState=fo(1|o,u,void 0,d===void 0?null:d)}function La(i,o,u,d){var m=bn();d=d===void 0?null:d;var y=void 0;if(St!==null){var A=St.memoizedState;if(y=A.destroy,d!==null&&Uu(d,A.deps)){m.memoizedState=fo(o,u,y,d);return}}pt.flags|=i,m.memoizedState=fo(1|o,u,y,d)}function gh(i,o){return _a(8390656,8,i,o)}function ju(i,o){return La(2048,8,i,o)}function mh(i,o){return La(4,2,i,o)}function vh(i,o){return La(4,4,i,o)}function yh(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function xh(i,o,u){return u=u!=null?u.concat([i]):null,La(4,4,yh.bind(null,o,i),u)}function qu(){}function wh(i,o){var u=bn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Uu(o,d[1])?d[0]:(u.memoizedState=[i,o],i)}function Sh(i,o){var u=bn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Uu(o,d[1])?d[0]:(i=i(),u.memoizedState=[i,o],i)}function bh(i,o,u){return yi&21?(Fn(u,o)||(u=Kf(),pt.lanes|=u,xi|=u,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,Zt=!0),i.memoizedState=u)}function o0(i,o){var u=nt;nt=u!==0&&4>u?u:4,i(!0);var d=Vu.transition;Vu.transition={};try{i(!1),o()}finally{nt=u,Vu.transition=d}}function Eh(){return bn().memoizedState}function a0(i,o,u){var d=qr(i);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},Ah(i))Ph(o,u);else if(u=th(i,o,u,d),u!==null){var m=Vt();zn(u,i,d,m),Th(u,o,d)}}function l0(i,o,u){var d=qr(i),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ah(i))Ph(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var A=o.lastRenderedState,F=y(A,u);if(m.hasEagerState=!0,m.eagerState=F,Fn(F,A)){var V=o.interleaved;V===null?(m.next=m,Fu(o)):(m.next=V.next,V.next=m),o.interleaved=m;return}}catch{}finally{}u=th(i,o,m,d),u!==null&&(m=Vt(),zn(u,i,d,m),Th(u,o,d))}}function Ah(i){var o=i.alternate;return i===pt||o!==null&&o===pt}function Ph(i,o){lo=ka=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Th(i,o,u){if(u&4194240){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Xl(i,u)}}var Ma={readContext:Sn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},u0={readContext:Sn,useCallback:function(i,o){return Kn().memoizedState=[i,o===void 0?null:o],i},useContext:Sn,useEffect:gh,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,_a(4194308,4,yh.bind(null,o,i),u)},useLayoutEffect:function(i,o){return _a(4194308,4,i,o)},useInsertionEffect:function(i,o){return _a(4,2,i,o)},useMemo:function(i,o){var u=Kn();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var d=Kn();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=a0.bind(null,pt,i),[d.memoizedState,i]},useRef:function(i){var o=Kn();return i={current:i},o.memoizedState=i},useState:hh,useDebugValue:qu,useDeferredValue:function(i){return Kn().memoizedState=i},useTransition:function(){var i=hh(!1),o=i[0];return i=o0.bind(null,i[1]),Kn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var d=pt,m=Kn();if(ft){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Pt===null)throw Error(n(349));yi&30||lh(d,o,u)}m.memoizedState=u;var y={value:u,getSnapshot:o};return m.queue=y,gh(ch.bind(null,d,y,i),[i]),d.flags|=2048,fo(9,uh.bind(null,d,y,u,o),void 0,null),u},useId:function(){var i=Kn(),o=Pt.identifierPrefix;if(ft){var u=hr,d=dr;u=(d&~(1<<32-On(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=uo++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=s0++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},c0={readContext:Sn,useCallback:wh,useContext:Sn,useEffect:ju,useImperativeHandle:xh,useInsertionEffect:mh,useLayoutEffect:vh,useMemo:Sh,useReducer:Hu,useRef:ph,useState:function(){return Hu(co)},useDebugValue:qu,useDeferredValue:function(i){var o=bn();return bh(o,St.memoizedState,i)},useTransition:function(){var i=Hu(co)[0],o=bn().memoizedState;return[i,o]},useMutableSource:oh,useSyncExternalStore:ah,useId:Eh,unstable_isNewReconciler:!1},f0={readContext:Sn,useCallback:wh,useContext:Sn,useEffect:ju,useImperativeHandle:xh,useInsertionEffect:mh,useLayoutEffect:vh,useMemo:Sh,useReducer:Wu,useRef:ph,useState:function(){return Wu(co)},useDebugValue:qu,useDeferredValue:function(i){var o=bn();return St===null?o.memoizedState=i:bh(o,St.memoizedState,i)},useTransition:function(){var i=Wu(co)[0],o=bn().memoizedState;return[i,o]},useMutableSource:oh,useSyncExternalStore:ah,useId:Eh,unstable_isNewReconciler:!1};function Rn(i,o){if(i&&i.defaultProps){o=$({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Yu(i,o,u,d){o=i.memoizedState,u=u(d,o),u=u==null?o:$({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Na={isMounted:function(i){return(i=i._reactInternals)?Be(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var d=Vt(),m=qr(i),y=gr(d,m);y.payload=o,u!=null&&(y.callback=u),o=$r(i,y,m),o!==null&&(zn(o,i,m,d),Aa(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var d=Vt(),m=qr(i),y=gr(d,m);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=$r(i,y,m),o!==null&&(zn(o,i,m,d),Aa(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Vt(),d=qr(i),m=gr(u,d);m.tag=2,o!=null&&(m.callback=o),o=$r(i,m,d),o!==null&&(zn(o,i,d,u),Aa(o,i,d))}};function Ch(i,o,u,d,m,y,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,A):o.prototype&&o.prototype.isPureReactComponent?!Qs(u,d)||!Qs(m,y):!0}function kh(i,o,u){var d=!1,m=Vr,y=o.contextType;return typeof y=="object"&&y!==null?y=Sn(y):(m=Xt(o)?hi:Ot.current,d=o.contextTypes,y=(d=d!=null)?Ji(i,m):Vr),o=new o(u,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Na,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),o}function _h(i,o,u,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==i&&Na.enqueueReplaceState(o,o.state,null)}function Xu(i,o,u,d){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Iu(i);var y=o.contextType;typeof y=="object"&&y!==null?m.context=Sn(y):(y=Xt(o)?hi:Ot.current,m.context=Ji(i,y)),m.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Yu(i,o,y,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Na.enqueueReplaceState(m,m.state,null),Pa(i,u,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function as(i,o){try{var u="",d=o;do u+=ue(d),d=d.return;while(d);var m=u}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:m,digest:null}}function Zu(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Qu(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var d0=typeof WeakMap=="function"?WeakMap:Map;function Lh(i,o,u){u=gr(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){za||(za=!0,dc=d),Qu(i,o)},u}function Mh(i,o,u){u=gr(-1,u),u.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){Qu(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){Qu(i,o),typeof d!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})}),u}function Nh(i,o,u){var d=i.pingCache;if(d===null){d=i.pingCache=new d0;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),i=T0.bind(null,i,o,u),o.then(i,i))}function Oh(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Fh(i,o,u,d,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=gr(-1,1),o.tag=2,$r(u,o,1))),u.lanes|=1),i)}var h0=R.ReactCurrentOwner,Zt=!1;function zt(i,o,u,d){o.child=i===null?eh(o,null,u,d):rs(o,i.child,u,d)}function Ih(i,o,u,d,m){u=u.render;var y=o.ref;return ss(o,m),d=Gu(i,o,u,d,y,m),u=$u(),i!==null&&!Zt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,mr(i,o,m)):(ft&&u&&Pu(o),o.flags|=1,zt(i,o,d,m),o.child)}function Rh(i,o,u,d,m){if(i===null){var y=u.type;return typeof y=="function"&&!xc(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=y,Dh(i,o,y,d,m)):(i=Wa(u.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,!(i.lanes&m)){var A=y.memoizedProps;if(u=u.compare,u=u!==null?u:Qs,u(A,d)&&i.ref===o.ref)return mr(i,o,m)}return o.flags|=1,i=Xr(y,d),i.ref=o.ref,i.return=o,o.child=i}function Dh(i,o,u,d,m){if(i!==null){var y=i.memoizedProps;if(Qs(y,d)&&i.ref===o.ref)if(Zt=!1,o.pendingProps=d=y,(i.lanes&m)!==0)i.flags&131072&&(Zt=!0);else return o.lanes=i.lanes,mr(i,o,m)}return Ku(i,o,u,d,m)}function Bh(i,o,u){var d=o.pendingProps,m=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(us,un),un|=u;else{if(!(u&1073741824))return i=y!==null?y.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,ot(us,un),un|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:u,ot(us,un),un|=d}else y!==null?(d=y.baseLanes|u,o.memoizedState=null):d=u,ot(us,un),un|=d;return zt(i,o,m,u),o.child}function zh(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Ku(i,o,u,d,m){var y=Xt(u)?hi:Ot.current;return y=Ji(o,y),ss(o,m),u=Gu(i,o,u,d,y,m),d=$u(),i!==null&&!Zt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,mr(i,o,m)):(ft&&d&&Pu(o),o.flags|=1,zt(i,o,u,m),o.child)}function Vh(i,o,u,d,m){if(Xt(u)){var y=!0;ma(o)}else y=!1;if(ss(o,m),o.stateNode===null)Fa(i,o),kh(o,u,d),Xu(o,u,d,m),d=!0;else if(i===null){var A=o.stateNode,F=o.memoizedProps;A.props=F;var V=A.context,K=u.contextType;typeof K=="object"&&K!==null?K=Sn(K):(K=Xt(u)?hi:Ot.current,K=Ji(o,K));var le=u.getDerivedStateFromProps,ce=typeof le=="function"||typeof A.getSnapshotBeforeUpdate=="function";ce||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==d||V!==K)&&_h(o,A,d,K),Gr=!1;var ae=o.memoizedState;A.state=ae,Pa(o,d,A,m),V=o.memoizedState,F!==d||ae!==V||Yt.current||Gr?(typeof le=="function"&&(Yu(o,u,le,d),V=o.memoizedState),(F=Gr||Ch(o,u,F,d,ae,V,K))?(ce||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=V),A.props=d,A.state=V,A.context=K,d=F):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{A=o.stateNode,nh(i,o),F=o.memoizedProps,K=o.type===o.elementType?F:Rn(o.type,F),A.props=K,ce=o.pendingProps,ae=A.context,V=u.contextType,typeof V=="object"&&V!==null?V=Sn(V):(V=Xt(u)?hi:Ot.current,V=Ji(o,V));var Se=u.getDerivedStateFromProps;(le=typeof Se=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==ce||ae!==V)&&_h(o,A,d,V),Gr=!1,ae=o.memoizedState,A.state=ae,Pa(o,d,A,m);var Pe=o.memoizedState;F!==ce||ae!==Pe||Yt.current||Gr?(typeof Se=="function"&&(Yu(o,u,Se,d),Pe=o.memoizedState),(K=Gr||Ch(o,u,K,d,ae,Pe,V)||!1)?(le||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(d,Pe,V),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(d,Pe,V)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||F===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Pe),A.props=d,A.state=Pe,A.context=V,d=K):(typeof A.componentDidUpdate!="function"||F===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),d=!1)}return Ju(i,o,u,d,y,m)}function Ju(i,o,u,d,m,y){zh(i,o);var A=(o.flags&128)!==0;if(!d&&!A)return m&&Wd(o,u,!1),mr(i,o,y);d=o.stateNode,h0.current=o;var F=A&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&A?(o.child=rs(o,i.child,null,y),o.child=rs(o,null,F,y)):zt(i,o,F,y),o.memoizedState=d.state,m&&Wd(o,u,!0),o.child}function Uh(i){var o=i.stateNode;o.pendingContext?$d(i,o.pendingContext,o.pendingContext!==o.context):o.context&&$d(i,o.context,!1),Ru(i,o.containerInfo)}function Gh(i,o,u,d,m){return ns(),_u(m),o.flags|=256,zt(i,o,u,d),o.child}var ec={dehydrated:null,treeContext:null,retryLane:0};function tc(i){return{baseLanes:i,cachePool:null,transitions:null}}function $h(i,o,u){var d=o.pendingProps,m=ht.current,y=!1,A=(o.flags&128)!==0,F;if((F=A)||(F=i!==null&&i.memoizedState===null?!1:(m&2)!==0),F?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),ot(ht,m&1),i===null)return ku(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(A=d.children,i=d.fallback,y?(d=o.mode,y=o.child,A={mode:"hidden",children:A},!(d&1)&&y!==null?(y.childLanes=0,y.pendingProps=A):y=ja(A,d,0,null),i=Ei(i,d,u,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=tc(u),o.memoizedState=ec,i):nc(o,A));if(m=i.memoizedState,m!==null&&(F=m.dehydrated,F!==null))return p0(i,o,A,d,F,m,u);if(y){y=d.fallback,A=o.mode,m=i.child,F=m.sibling;var V={mode:"hidden",children:d.children};return!(A&1)&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=V,o.deletions=null):(d=Xr(m,V),d.subtreeFlags=m.subtreeFlags&14680064),F!==null?y=Xr(F,y):(y=Ei(y,A,u,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,A=i.child.memoizedState,A=A===null?tc(u):{baseLanes:A.baseLanes|u,cachePool:null,transitions:A.transitions},y.memoizedState=A,y.childLanes=i.childLanes&~u,o.memoizedState=ec,d}return y=i.child,i=y.sibling,d=Xr(y,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=u),d.return=o,d.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=d,o.memoizedState=null,d}function nc(i,o){return o=ja({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Oa(i,o,u,d){return d!==null&&_u(d),rs(o,i.child,null,u),i=nc(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function p0(i,o,u,d,m,y,A){if(u)return o.flags&256?(o.flags&=-257,d=Zu(Error(n(422))),Oa(i,o,A,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=d.fallback,m=o.mode,d=ja({mode:"visible",children:d.children},m,0,null),y=Ei(y,m,A,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,o.mode&1&&rs(o,i.child,null,A),o.child.memoizedState=tc(A),o.memoizedState=ec,y);if(!(o.mode&1))return Oa(i,o,A,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var F=d.dgst;return d=F,y=Error(n(419)),d=Zu(y,d,void 0),Oa(i,o,A,d)}if(F=(A&i.childLanes)!==0,Zt||F){if(d=Pt,d!==null){switch(A&-A){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|A)?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,pr(i,m),zn(d,i,m,-1))}return yc(),d=Zu(Error(n(421))),Oa(i,o,A,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=C0.bind(null,i),m._reactRetry=o,null):(i=y.treeContext,ln=Br(m.nextSibling),an=o,ft=!0,In=null,i!==null&&(xn[wn++]=dr,xn[wn++]=hr,xn[wn++]=pi,dr=i.id,hr=i.overflow,pi=o),o=nc(o,d.children),o.flags|=4096,o)}function Hh(i,o,u){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Ou(i.return,o,u)}function rc(i,o,u,d,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=u,y.tailMode=m)}function Wh(i,o,u){var d=o.pendingProps,m=d.revealOrder,y=d.tail;if(zt(i,o,d.children,u),d=ht.current,d&2)d=d&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Hh(i,u,o);else if(i.tag===19)Hh(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(ot(ht,d),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Ta(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),rc(o,!1,m,u,y);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Ta(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}rc(o,!0,u,null,y);break;case"together":rc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Fa(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function mr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),xi|=o.lanes,!(u&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Xr(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Xr(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function g0(i,o,u){switch(o.tag){case 3:Uh(o),ns();break;case 5:sh(o);break;case 1:Xt(o.type)&&ma(o);break;case 4:Ru(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;ot(ba,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(ot(ht,ht.current&1),o.flags|=128,null):u&o.child.childLanes?$h(i,o,u):(ot(ht,ht.current&1),i=mr(i,o,u),i!==null?i.sibling:null);ot(ht,ht.current&1);break;case 19:if(d=(u&o.childLanes)!==0,i.flags&128){if(d)return Wh(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ot(ht,ht.current),d)break;return null;case 22:case 23:return o.lanes=0,Bh(i,o,u)}return mr(i,o,u)}var jh,ic,qh,Yh;jh=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},ic=function(){},qh=function(i,o,u,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,vi(Qn.current);var y=null;switch(u){case"input":m=Ee(i,m),d=Ee(i,d),y=[];break;case"select":m=$({},m,{value:void 0}),d=$({},d,{value:void 0}),y=[];break;case"textarea":m=Ve(i,m),d=Ve(i,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=ha)}Nn(u,d);var A;u=null;for(K in m)if(!d.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var F=m[K];for(A in F)F.hasOwnProperty(A)&&(u||(u={}),u[A]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in d){var V=d[K];if(F=m!=null?m[K]:void 0,d.hasOwnProperty(K)&&V!==F&&(V!=null||F!=null))if(K==="style")if(F){for(A in F)!F.hasOwnProperty(A)||V&&V.hasOwnProperty(A)||(u||(u={}),u[A]="");for(A in V)V.hasOwnProperty(A)&&F[A]!==V[A]&&(u||(u={}),u[A]=V[A])}else u||(y||(y=[]),y.push(K,u)),u=V;else K==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,F=F?F.__html:void 0,V!=null&&F!==V&&(y=y||[]).push(K,V)):K==="children"?typeof V!="string"&&typeof V!="number"||(y=y||[]).push(K,""+V):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(V!=null&&K==="onScroll"&&lt("scroll",i),y||F===V||(y=[])):(y=y||[]).push(K,V))}u&&(y=y||[]).push("style",u);var K=y;(o.updateQueue=K)&&(o.flags|=4)}},Yh=function(i,o,u,d){u!==d&&(o.flags|=4)};function ho(i,o){if(!ft)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function It(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=u,o}function m0(i,o,u){var d=o.pendingProps;switch(Tu(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(o),null;case 1:return Xt(o.type)&&ga(),It(o),null;case 3:return d=o.stateNode,os(),ut(Yt),ut(Ot),zu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(wa(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,In!==null&&(gc(In),In=null))),ic(i,o),It(o),null;case 5:Du(o);var m=vi(ao.current);if(u=o.type,i!==null&&o.stateNode!=null)qh(i,o,u,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return It(o),null}if(i=vi(Qn.current),wa(o)){d=o.stateNode,u=o.type;var y=o.memoizedProps;switch(d[Zn]=o,d[no]=y,i=(o.mode&1)!==0,u){case"dialog":lt("cancel",d),lt("close",d);break;case"iframe":case"object":case"embed":lt("load",d);break;case"video":case"audio":for(m=0;m<Js.length;m++)lt(Js[m],d);break;case"source":lt("error",d);break;case"img":case"image":case"link":lt("error",d),lt("load",d);break;case"details":lt("toggle",d);break;case"input":Fe(d,y),lt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},lt("invalid",d);break;case"textarea":ar(d,y),lt("invalid",d)}Nn(u,y),m=null;for(var A in y)if(y.hasOwnProperty(A)){var F=y[A];A==="children"?typeof F=="string"?d.textContent!==F&&(y.suppressHydrationWarning!==!0&&da(d.textContent,F,i),m=["children",F]):typeof F=="number"&&d.textContent!==""+F&&(y.suppressHydrationWarning!==!0&&da(d.textContent,F,i),m=["children",""+F]):s.hasOwnProperty(A)&&F!=null&&A==="onScroll"&&lt("scroll",d)}switch(u){case"input":ke(d),ee(d,y,!0);break;case"textarea":ke(d),Hn(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=ha)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{A=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=dt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=A.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=A.createElement(u,{is:d.is}):(i=A.createElement(u),u==="select"&&(A=i,d.multiple?A.multiple=!0:d.size&&(A.size=d.size))):i=A.createElementNS(i,u),i[Zn]=o,i[no]=d,jh(i,o,!1,!1),o.stateNode=i;e:{switch(A=qn(u,d),u){case"dialog":lt("cancel",i),lt("close",i),m=d;break;case"iframe":case"object":case"embed":lt("load",i),m=d;break;case"video":case"audio":for(m=0;m<Js.length;m++)lt(Js[m],i);m=d;break;case"source":lt("error",i),m=d;break;case"img":case"image":case"link":lt("error",i),lt("load",i),m=d;break;case"details":lt("toggle",i),m=d;break;case"input":Fe(i,d),m=Ee(i,d),lt("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=$({},d,{value:void 0}),lt("invalid",i);break;case"textarea":ar(i,d),m=Ve(i,d),lt("invalid",i);break;default:m=d}Nn(u,m),F=m;for(y in F)if(F.hasOwnProperty(y)){var V=F[y];y==="style"?ui(i,V):y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&ai(i,V)):y==="children"?typeof V=="string"?(u!=="textarea"||V!=="")&&Wn(i,V):typeof V=="number"&&Wn(i,""+V):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?V!=null&&y==="onScroll"&&lt("scroll",i):V!=null&&M(i,y,V,A))}switch(u){case"input":ke(i),ee(i,d,!1);break;case"textarea":ke(i),Hn(i);break;case"option":d.value!=null&&i.setAttribute("value",""+oe(d.value));break;case"select":i.multiple=!!d.multiple,y=d.value,y!=null?He(i,!!d.multiple,y,!1):d.defaultValue!=null&&He(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=ha)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return It(o),null;case 6:if(i&&o.stateNode!=null)Yh(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=vi(ao.current),vi(Qn.current),wa(o)){if(d=o.stateNode,u=o.memoizedProps,d[Zn]=o,(y=d.nodeValue!==u)&&(i=an,i!==null))switch(i.tag){case 3:da(d.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&da(d.nodeValue,u,(i.mode&1)!==0)}y&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[Zn]=o,o.stateNode=d}return It(o),null;case 13:if(ut(ht),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ft&&ln!==null&&o.mode&1&&!(o.flags&128))Qd(),ns(),o.flags|=98560,y=!1;else if(y=wa(o),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Zn]=o}else ns(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;It(o),y=!1}else In!==null&&(gc(In),In=null),y=!0;if(!y)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(i===null||ht.current&1?bt===0&&(bt=3):yc())),o.updateQueue!==null&&(o.flags|=4),It(o),null);case 4:return os(),ic(i,o),i===null&&eo(o.stateNode.containerInfo),It(o),null;case 10:return Nu(o.type._context),It(o),null;case 17:return Xt(o.type)&&ga(),It(o),null;case 19:if(ut(ht),y=o.memoizedState,y===null)return It(o),null;if(d=(o.flags&128)!==0,A=y.rendering,A===null)if(d)ho(y,!1);else{if(bt!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(A=Ta(i),A!==null){for(o.flags|=128,ho(y,!1),d=A.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)y=u,i=d,y.flags&=14680066,A=y.alternate,A===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=A.childLanes,y.lanes=A.lanes,y.child=A.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=A.memoizedProps,y.memoizedState=A.memoizedState,y.updateQueue=A.updateQueue,y.type=A.type,i=A.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return ot(ht,ht.current&1|2),o.child}i=i.sibling}y.tail!==null&&rt()>cs&&(o.flags|=128,d=!0,ho(y,!1),o.lanes=4194304)}else{if(!d)if(i=Ta(A),i!==null){if(o.flags|=128,d=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),ho(y,!0),y.tail===null&&y.tailMode==="hidden"&&!A.alternate&&!ft)return It(o),null}else 2*rt()-y.renderingStartTime>cs&&u!==1073741824&&(o.flags|=128,d=!0,ho(y,!1),o.lanes=4194304);y.isBackwards?(A.sibling=o.child,o.child=A):(u=y.last,u!==null?u.sibling=A:o.child=A,y.last=A)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=rt(),o.sibling=null,u=ht.current,ot(ht,d?u&1|2:u&1),o):(It(o),null);case 22:case 23:return vc(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?un&1073741824&&(It(o),o.subtreeFlags&6&&(o.flags|=8192)):It(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function v0(i,o){switch(Tu(o),o.tag){case 1:return Xt(o.type)&&ga(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return os(),ut(Yt),ut(Ot),zu(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Du(o),null;case 13:if(ut(ht),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ns()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ut(ht),null;case 4:return os(),null;case 10:return Nu(o.type._context),null;case 22:case 23:return vc(),null;case 24:return null;default:return null}}var Ia=!1,Rt=!1,y0=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function ls(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){gt(i,o,d)}else u.current=null}function sc(i,o,u){try{u()}catch(d){gt(i,o,d)}}var Xh=!1;function x0(i,o){if(vu=ta,i=Cd(),uu(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var A=0,F=-1,V=-1,K=0,le=0,ce=i,ae=null;t:for(;;){for(var Se;ce!==u||m!==0&&ce.nodeType!==3||(F=A+m),ce!==y||d!==0&&ce.nodeType!==3||(V=A+d),ce.nodeType===3&&(A+=ce.nodeValue.length),(Se=ce.firstChild)!==null;)ae=ce,ce=Se;for(;;){if(ce===i)break t;if(ae===u&&++K===m&&(F=A),ae===y&&++le===d&&(V=A),(Se=ce.nextSibling)!==null)break;ce=ae,ae=ce.parentNode}ce=Se}u=F===-1||V===-1?null:{start:F,end:V}}else u=null}u=u||{start:0,end:0}}else u=null;for(yu={focusedElem:i,selectionRange:u},ta=!1,Ae=o;Ae!==null;)if(o=Ae,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Ae=i;else for(;Ae!==null;){o=Ae;try{var Pe=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Te=Pe.memoizedProps,vt=Pe.memoizedState,Y=o.stateNode,H=Y.getSnapshotBeforeUpdate(o.elementType===o.type?Te:Rn(o.type,Te),vt);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var X=o.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){gt(o,o.return,pe)}if(i=o.sibling,i!==null){i.return=o.return,Ae=i;break}Ae=o.return}return Pe=Xh,Xh=!1,Pe}function po(i,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&sc(o,u,y)}m=m.next}while(m!==d)}}function Ra(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function oc(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Zh(i){var o=i.alternate;o!==null&&(i.alternate=null,Zh(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Zn],delete o[no],delete o[bu],delete o[t0],delete o[n0])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Qh(i){return i.tag===5||i.tag===3||i.tag===4}function Kh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Qh(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ac(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ha));else if(d!==4&&(i=i.child,i!==null))for(ac(i,o,u),i=i.sibling;i!==null;)ac(i,o,u),i=i.sibling}function lc(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(lc(i,o,u),i=i.sibling;i!==null;)lc(i,o,u),i=i.sibling}var kt=null,Dn=!1;function Hr(i,o,u){for(u=u.child;u!==null;)Jh(i,o,u),u=u.sibling}function Jh(i,o,u){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(Xo,u)}catch{}switch(u.tag){case 5:Rt||ls(u,o);case 6:var d=kt,m=Dn;kt=null,Hr(i,o,u),kt=d,Dn=m,kt!==null&&(Dn?(i=kt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):kt.removeChild(u.stateNode));break;case 18:kt!==null&&(Dn?(i=kt,u=u.stateNode,i.nodeType===8?Su(i.parentNode,u):i.nodeType===1&&Su(i,u),Ws(i)):Su(kt,u.stateNode));break;case 4:d=kt,m=Dn,kt=u.stateNode.containerInfo,Dn=!0,Hr(i,o,u),kt=d,Dn=m;break;case 0:case 11:case 14:case 15:if(!Rt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,A=y.destroy;y=y.tag,A!==void 0&&(y&2||y&4)&&sc(u,o,A),m=m.next}while(m!==d)}Hr(i,o,u);break;case 1:if(!Rt&&(ls(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(F){gt(u,o,F)}Hr(i,o,u);break;case 21:Hr(i,o,u);break;case 22:u.mode&1?(Rt=(d=Rt)||u.memoizedState!==null,Hr(i,o,u),Rt=d):Hr(i,o,u);break;default:Hr(i,o,u)}}function ep(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new y0),o.forEach(function(d){var m=k0.bind(null,i,d);u.has(d)||(u.add(d),d.then(m,m))})}}function Bn(i,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var y=i,A=o,F=A;e:for(;F!==null;){switch(F.tag){case 5:kt=F.stateNode,Dn=!1;break e;case 3:kt=F.stateNode.containerInfo,Dn=!0;break e;case 4:kt=F.stateNode.containerInfo,Dn=!0;break e}F=F.return}if(kt===null)throw Error(n(160));Jh(y,A,m),kt=null,Dn=!1;var V=m.alternate;V!==null&&(V.return=null),m.return=null}catch(K){gt(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)tp(o,i),o=o.sibling}function tp(i,o){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Bn(o,i),Jn(i),d&4){try{po(3,i,i.return),Ra(3,i)}catch(Te){gt(i,i.return,Te)}try{po(5,i,i.return)}catch(Te){gt(i,i.return,Te)}}break;case 1:Bn(o,i),Jn(i),d&512&&u!==null&&ls(u,u.return);break;case 5:if(Bn(o,i),Jn(i),d&512&&u!==null&&ls(u,u.return),i.flags&32){var m=i.stateNode;try{Wn(m,"")}catch(Te){gt(i,i.return,Te)}}if(d&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,A=u!==null?u.memoizedProps:y,F=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{F==="input"&&y.type==="radio"&&y.name!=null&&ge(m,y),qn(F,A);var K=qn(F,y);for(A=0;A<V.length;A+=2){var le=V[A],ce=V[A+1];le==="style"?ui(m,ce):le==="dangerouslySetInnerHTML"?ai(m,ce):le==="children"?Wn(m,ce):M(m,le,ce,K)}switch(F){case"input":q(m,y);break;case"textarea":Mn(m,y);break;case"select":var ae=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var Se=y.value;Se!=null?He(m,!!y.multiple,Se,!1):ae!==!!y.multiple&&(y.defaultValue!=null?He(m,!!y.multiple,y.defaultValue,!0):He(m,!!y.multiple,y.multiple?[]:"",!1))}m[no]=y}catch(Te){gt(i,i.return,Te)}}break;case 6:if(Bn(o,i),Jn(i),d&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(Te){gt(i,i.return,Te)}}break;case 3:if(Bn(o,i),Jn(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Ws(o.containerInfo)}catch(Te){gt(i,i.return,Te)}break;case 4:Bn(o,i),Jn(i);break;case 13:Bn(o,i),Jn(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(fc=rt())),d&4&&ep(i);break;case 22:if(le=u!==null&&u.memoizedState!==null,i.mode&1?(Rt=(K=Rt)||le,Bn(o,i),Rt=K):Bn(o,i),Jn(i),d&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!le&&i.mode&1)for(Ae=i,le=i.child;le!==null;){for(ce=Ae=le;Ae!==null;){switch(ae=Ae,Se=ae.child,ae.tag){case 0:case 11:case 14:case 15:po(4,ae,ae.return);break;case 1:ls(ae,ae.return);var Pe=ae.stateNode;if(typeof Pe.componentWillUnmount=="function"){d=ae,u=ae.return;try{o=d,Pe.props=o.memoizedProps,Pe.state=o.memoizedState,Pe.componentWillUnmount()}catch(Te){gt(d,u,Te)}}break;case 5:ls(ae,ae.return);break;case 22:if(ae.memoizedState!==null){ip(ce);continue}}Se!==null?(Se.return=ae,Ae=Se):ip(ce)}le=le.sibling}e:for(le=null,ce=i;;){if(ce.tag===5){if(le===null){le=ce;try{m=ce.stateNode,K?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(F=ce.stateNode,V=ce.memoizedProps.style,A=V!=null&&V.hasOwnProperty("display")?V.display:null,F.style.display=li("display",A))}catch(Te){gt(i,i.return,Te)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=K?"":ce.memoizedProps}catch(Te){gt(i,i.return,Te)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===i)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===i)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===i)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Bn(o,i),Jn(i),d&4&&ep(i);break;case 21:break;default:Bn(o,i),Jn(i)}}function Jn(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Qh(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Wn(m,""),d.flags&=-33);var y=Kh(i);lc(i,y,m);break;case 3:case 4:var A=d.stateNode.containerInfo,F=Kh(i);ac(i,F,A);break;default:throw Error(n(161))}}catch(V){gt(i,i.return,V)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function w0(i,o,u){Ae=i,np(i)}function np(i,o,u){for(var d=(i.mode&1)!==0;Ae!==null;){var m=Ae,y=m.child;if(m.tag===22&&d){var A=m.memoizedState!==null||Ia;if(!A){var F=m.alternate,V=F!==null&&F.memoizedState!==null||Rt;F=Ia;var K=Rt;if(Ia=A,(Rt=V)&&!K)for(Ae=m;Ae!==null;)A=Ae,V=A.child,A.tag===22&&A.memoizedState!==null?sp(m):V!==null?(V.return=A,Ae=V):sp(m);for(;y!==null;)Ae=y,np(y),y=y.sibling;Ae=m,Ia=F,Rt=K}rp(i)}else m.subtreeFlags&8772&&y!==null?(y.return=m,Ae=y):rp(i)}}function rp(i){for(;Ae!==null;){var o=Ae;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Rt||Ra(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Rt)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:Rn(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&ih(o,y,d);break;case 3:var A=o.updateQueue;if(A!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}ih(o,A,u)}break;case 5:var F=o.stateNode;if(u===null&&o.flags&4){u=F;var V=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&u.focus();break;case"img":V.src&&(u.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var le=K.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&Ws(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Rt||o.flags&512&&oc(o)}catch(ae){gt(o,o.return,ae)}}if(o===i){Ae=null;break}if(u=o.sibling,u!==null){u.return=o.return,Ae=u;break}Ae=o.return}}function ip(i){for(;Ae!==null;){var o=Ae;if(o===i){Ae=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Ae=u;break}Ae=o.return}}function sp(i){for(;Ae!==null;){var o=Ae;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Ra(4,o)}catch(V){gt(o,u,V)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(V){gt(o,m,V)}}var y=o.return;try{oc(o)}catch(V){gt(o,y,V)}break;case 5:var A=o.return;try{oc(o)}catch(V){gt(o,A,V)}}}catch(V){gt(o,o.return,V)}if(o===i){Ae=null;break}var F=o.sibling;if(F!==null){F.return=o.return,Ae=F;break}Ae=o.return}}var S0=Math.ceil,Da=R.ReactCurrentDispatcher,uc=R.ReactCurrentOwner,En=R.ReactCurrentBatchConfig,Ze=0,Pt=null,wt=null,_t=0,un=0,us=zr(0),bt=0,go=null,xi=0,Ba=0,cc=0,mo=null,Qt=null,fc=0,cs=1/0,vr=null,za=!1,dc=null,Wr=null,Va=!1,jr=null,Ua=0,vo=0,hc=null,Ga=-1,$a=0;function Vt(){return Ze&6?rt():Ga!==-1?Ga:Ga=rt()}function qr(i){return i.mode&1?Ze&2&&_t!==0?_t&-_t:i0.transition!==null?($a===0&&($a=Kf()),$a):(i=nt,i!==0||(i=window.event,i=i===void 0?16:ad(i.type)),i):1}function zn(i,o,u,d){if(50<vo)throw vo=0,hc=null,Error(n(185));Vs(i,u,d),(!(Ze&2)||i!==Pt)&&(i===Pt&&(!(Ze&2)&&(Ba|=u),bt===4&&Yr(i,_t)),Kt(i,d),u===1&&Ze===0&&!(o.mode&1)&&(cs=rt()+500,va&&Ur()))}function Kt(i,o){var u=i.callbackNode;iy(i,o);var d=Ko(i,i===Pt?_t:0);if(d===0)u!==null&&kr(u),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(u!=null&&kr(u),o===1)i.tag===0?r0(ap.bind(null,i)):jd(ap.bind(null,i)),Jy(function(){!(Ze&6)&&Ur()}),u=null;else{switch(Jf(d)){case 1:u=Lr;break;case 4:u=Mr;break;case 16:u=$i;break;case 536870912:u=Qf;break;default:u=$i}u=gp(u,op.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function op(i,o){if(Ga=-1,$a=0,Ze&6)throw Error(n(327));var u=i.callbackNode;if(fs()&&i.callbackNode!==u)return null;var d=Ko(i,i===Pt?_t:0);if(d===0)return null;if(d&30||d&i.expiredLanes||o)o=Ha(i,d);else{o=d;var m=Ze;Ze|=2;var y=up();(Pt!==i||_t!==o)&&(vr=null,cs=rt()+500,Si(i,o));do try{A0();break}catch(F){lp(i,F)}while(!0);Mu(),Da.current=y,Ze=m,wt!==null?o=0:(Pt=null,_t=0,o=bt)}if(o!==0){if(o===2&&(m=ql(i),m!==0&&(d=m,o=pc(i,m))),o===1)throw u=go,Si(i,0),Yr(i,d),Kt(i,rt()),u;if(o===6)Yr(i,d);else{if(m=i.current.alternate,!(d&30)&&!b0(m)&&(o=Ha(i,d),o===2&&(y=ql(i),y!==0&&(d=y,o=pc(i,y))),o===1))throw u=go,Si(i,0),Yr(i,d),Kt(i,rt()),u;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:bi(i,Qt,vr);break;case 3:if(Yr(i,d),(d&130023424)===d&&(o=fc+500-rt(),10<o)){if(Ko(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){Vt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=wu(bi.bind(null,i,Qt,vr),o);break}bi(i,Qt,vr);break;case 4:if(Yr(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var A=31-On(d);y=1<<A,A=o[A],A>m&&(m=A),d&=~y}if(d=m,d=rt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*S0(d/1960))-d,10<d){i.timeoutHandle=wu(bi.bind(null,i,Qt,vr),d);break}bi(i,Qt,vr);break;case 5:bi(i,Qt,vr);break;default:throw Error(n(329))}}}return Kt(i,rt()),i.callbackNode===u?op.bind(null,i):null}function pc(i,o){var u=mo;return i.current.memoizedState.isDehydrated&&(Si(i,o).flags|=256),i=Ha(i,o),i!==2&&(o=Qt,Qt=u,o!==null&&gc(o)),i}function gc(i){Qt===null?Qt=i:Qt.push.apply(Qt,i)}function b0(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],y=m.getSnapshot;m=m.value;try{if(!Fn(y(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Yr(i,o){for(o&=~cc,o&=~Ba,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-On(o),d=1<<u;i[u]=-1,o&=~d}}function ap(i){if(Ze&6)throw Error(n(327));fs();var o=Ko(i,0);if(!(o&1))return Kt(i,rt()),null;var u=Ha(i,o);if(i.tag!==0&&u===2){var d=ql(i);d!==0&&(o=d,u=pc(i,d))}if(u===1)throw u=go,Si(i,0),Yr(i,o),Kt(i,rt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,bi(i,Qt,vr),Kt(i,rt()),null}function mc(i,o){var u=Ze;Ze|=1;try{return i(o)}finally{Ze=u,Ze===0&&(cs=rt()+500,va&&Ur())}}function wi(i){jr!==null&&jr.tag===0&&!(Ze&6)&&fs();var o=Ze;Ze|=1;var u=En.transition,d=nt;try{if(En.transition=null,nt=1,i)return i()}finally{nt=d,En.transition=u,Ze=o,!(Ze&6)&&Ur()}}function vc(){un=us.current,ut(us)}function Si(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Ky(u)),wt!==null)for(u=wt.return;u!==null;){var d=u;switch(Tu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ga();break;case 3:os(),ut(Yt),ut(Ot),zu();break;case 5:Du(d);break;case 4:os();break;case 13:ut(ht);break;case 19:ut(ht);break;case 10:Nu(d.type._context);break;case 22:case 23:vc()}u=u.return}if(Pt=i,wt=i=Xr(i.current,null),_t=un=o,bt=0,go=null,cc=Ba=xi=0,Qt=mo=null,mi!==null){for(o=0;o<mi.length;o++)if(u=mi[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,y=u.pending;if(y!==null){var A=y.next;y.next=m,d.next=A}u.pending=d}mi=null}return i}function lp(i,o){do{var u=wt;try{if(Mu(),Ca.current=Ma,ka){for(var d=pt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}ka=!1}if(yi=0,At=St=pt=null,lo=!1,uo=0,uc.current=null,u===null||u.return===null){bt=1,go=o,wt=null;break}e:{var y=i,A=u.return,F=u,V=o;if(o=_t,F.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var K=V,le=F,ce=le.tag;if(!(le.mode&1)&&(ce===0||ce===11||ce===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var Se=Oh(A);if(Se!==null){Se.flags&=-257,Fh(Se,A,F,y,o),Se.mode&1&&Nh(y,K,o),o=Se,V=K;var Pe=o.updateQueue;if(Pe===null){var Te=new Set;Te.add(V),o.updateQueue=Te}else Pe.add(V);break e}else{if(!(o&1)){Nh(y,K,o),yc();break e}V=Error(n(426))}}else if(ft&&F.mode&1){var vt=Oh(A);if(vt!==null){!(vt.flags&65536)&&(vt.flags|=256),Fh(vt,A,F,y,o),_u(as(V,F));break e}}y=V=as(V,F),bt!==4&&(bt=2),mo===null?mo=[y]:mo.push(y),y=A;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var Y=Lh(y,V,o);rh(y,Y);break e;case 1:F=V;var H=y.type,X=y.stateNode;if(!(y.flags&128)&&(typeof H.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Wr===null||!Wr.has(X)))){y.flags|=65536,o&=-o,y.lanes|=o;var pe=Mh(y,F,o);rh(y,pe);break e}}y=y.return}while(y!==null)}fp(u)}catch(_e){o=_e,wt===u&&u!==null&&(wt=u=u.return);continue}break}while(!0)}function up(){var i=Da.current;return Da.current=Ma,i===null?Ma:i}function yc(){(bt===0||bt===3||bt===2)&&(bt=4),Pt===null||!(xi&268435455)&&!(Ba&268435455)||Yr(Pt,_t)}function Ha(i,o){var u=Ze;Ze|=2;var d=up();(Pt!==i||_t!==o)&&(vr=null,Si(i,o));do try{E0();break}catch(m){lp(i,m)}while(!0);if(Mu(),Ze=u,Da.current=d,wt!==null)throw Error(n(261));return Pt=null,_t=0,bt}function E0(){for(;wt!==null;)cp(wt)}function A0(){for(;wt!==null&&!_r();)cp(wt)}function cp(i){var o=pp(i.alternate,i,un);i.memoizedProps=i.pendingProps,o===null?fp(i):wt=o,uc.current=null}function fp(i){var o=i;do{var u=o.alternate;if(i=o.return,o.flags&32768){if(u=v0(u,o),u!==null){u.flags&=32767,wt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{bt=6,wt=null;return}}else if(u=m0(u,o,un),u!==null){wt=u;return}if(o=o.sibling,o!==null){wt=o;return}wt=o=i}while(o!==null);bt===0&&(bt=5)}function bi(i,o,u){var d=nt,m=En.transition;try{En.transition=null,nt=1,P0(i,o,u,d)}finally{En.transition=m,nt=d}return null}function P0(i,o,u,d){do fs();while(jr!==null);if(Ze&6)throw Error(n(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var y=u.lanes|u.childLanes;if(sy(i,y),i===Pt&&(wt=Pt=null,_t=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Va||(Va=!0,gp($i,function(){return fs(),null})),y=(u.flags&15990)!==0,u.subtreeFlags&15990||y){y=En.transition,En.transition=null;var A=nt;nt=1;var F=Ze;Ze|=4,uc.current=null,x0(i,u),tp(u,i),Wy(yu),ta=!!vu,yu=vu=null,i.current=u,w0(u),Yn(),Ze=F,nt=A,En.transition=y}else i.current=u;if(Va&&(Va=!1,jr=i,Ua=m),y=i.pendingLanes,y===0&&(Wr=null),Jv(u.stateNode),Kt(i,rt()),o!==null)for(d=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(za)throw za=!1,i=dc,dc=null,i;return Ua&1&&i.tag!==0&&fs(),y=i.pendingLanes,y&1?i===hc?vo++:(vo=0,hc=i):vo=0,Ur(),null}function fs(){if(jr!==null){var i=Jf(Ua),o=En.transition,u=nt;try{if(En.transition=null,nt=16>i?16:i,jr===null)var d=!1;else{if(i=jr,jr=null,Ua=0,Ze&6)throw Error(n(331));var m=Ze;for(Ze|=4,Ae=i.current;Ae!==null;){var y=Ae,A=y.child;if(Ae.flags&16){var F=y.deletions;if(F!==null){for(var V=0;V<F.length;V++){var K=F[V];for(Ae=K;Ae!==null;){var le=Ae;switch(le.tag){case 0:case 11:case 15:po(8,le,y)}var ce=le.child;if(ce!==null)ce.return=le,Ae=ce;else for(;Ae!==null;){le=Ae;var ae=le.sibling,Se=le.return;if(Zh(le),le===K){Ae=null;break}if(ae!==null){ae.return=Se,Ae=ae;break}Ae=Se}}}var Pe=y.alternate;if(Pe!==null){var Te=Pe.child;if(Te!==null){Pe.child=null;do{var vt=Te.sibling;Te.sibling=null,Te=vt}while(Te!==null)}}Ae=y}}if(y.subtreeFlags&2064&&A!==null)A.return=y,Ae=A;else e:for(;Ae!==null;){if(y=Ae,y.flags&2048)switch(y.tag){case 0:case 11:case 15:po(9,y,y.return)}var Y=y.sibling;if(Y!==null){Y.return=y.return,Ae=Y;break e}Ae=y.return}}var H=i.current;for(Ae=H;Ae!==null;){A=Ae;var X=A.child;if(A.subtreeFlags&2064&&X!==null)X.return=A,Ae=X;else e:for(A=H;Ae!==null;){if(F=Ae,F.flags&2048)try{switch(F.tag){case 0:case 11:case 15:Ra(9,F)}}catch(_e){gt(F,F.return,_e)}if(F===A){Ae=null;break e}var pe=F.sibling;if(pe!==null){pe.return=F.return,Ae=pe;break e}Ae=F.return}}if(Ze=m,Ur(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(Xo,i)}catch{}d=!0}return d}finally{nt=u,En.transition=o}}return!1}function dp(i,o,u){o=as(u,o),o=Lh(i,o,1),i=$r(i,o,1),o=Vt(),i!==null&&(Vs(i,1,o),Kt(i,o))}function gt(i,o,u){if(i.tag===3)dp(i,i,u);else for(;o!==null;){if(o.tag===3){dp(o,i,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Wr===null||!Wr.has(d))){i=as(u,i),i=Mh(o,i,1),o=$r(o,i,1),i=Vt(),o!==null&&(Vs(o,1,i),Kt(o,i));break}}o=o.return}}function T0(i,o,u){var d=i.pingCache;d!==null&&d.delete(o),o=Vt(),i.pingedLanes|=i.suspendedLanes&u,Pt===i&&(_t&u)===u&&(bt===4||bt===3&&(_t&130023424)===_t&&500>rt()-fc?Si(i,0):cc|=u),Kt(i,o)}function hp(i,o){o===0&&(i.mode&1?(o=Qo,Qo<<=1,!(Qo&130023424)&&(Qo=4194304)):o=1);var u=Vt();i=pr(i,o),i!==null&&(Vs(i,o,u),Kt(i,u))}function C0(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),hp(i,u)}function k0(i,o){var u=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),hp(i,u)}var pp;pp=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||Yt.current)Zt=!0;else{if(!(i.lanes&u)&&!(o.flags&128))return Zt=!1,g0(i,o,u);Zt=!!(i.flags&131072)}else Zt=!1,ft&&o.flags&1048576&&qd(o,xa,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Fa(i,o),i=o.pendingProps;var m=Ji(o,Ot.current);ss(o,u),m=Gu(null,o,d,i,m,u);var y=$u();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Xt(d)?(y=!0,ma(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Iu(o),m.updater=Na,o.stateNode=m,m._reactInternals=o,Xu(o,d,i,u),o=Ju(null,o,d,!0,y,u)):(o.tag=0,ft&&y&&Pu(o),zt(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch(Fa(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=L0(d),i=Rn(d,i),m){case 0:o=Ku(null,o,d,i,u);break e;case 1:o=Vh(null,o,d,i,u);break e;case 11:o=Ih(null,o,d,i,u);break e;case 14:o=Rh(null,o,d,Rn(d.type,i),u);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Rn(d,m),Ku(i,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Rn(d,m),Vh(i,o,d,m,u);case 3:e:{if(Uh(o),i===null)throw Error(n(387));d=o.pendingProps,y=o.memoizedState,m=y.element,nh(i,o),Pa(o,d,null,u);var A=o.memoizedState;if(d=A.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=as(Error(n(423)),o),o=Gh(i,o,d,u,m);break e}else if(d!==m){m=as(Error(n(424)),o),o=Gh(i,o,d,u,m);break e}else for(ln=Br(o.stateNode.containerInfo.firstChild),an=o,ft=!0,In=null,u=eh(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ns(),d===m){o=mr(i,o,u);break e}zt(i,o,d,u)}o=o.child}return o;case 5:return sh(o),i===null&&ku(o),d=o.type,m=o.pendingProps,y=i!==null?i.memoizedProps:null,A=m.children,xu(d,m)?A=null:y!==null&&xu(d,y)&&(o.flags|=32),zh(i,o),zt(i,o,A,u),o.child;case 6:return i===null&&ku(o),null;case 13:return $h(i,o,u);case 4:return Ru(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=rs(o,null,d,u):zt(i,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Rn(d,m),Ih(i,o,d,m,u);case 7:return zt(i,o,o.pendingProps,u),o.child;case 8:return zt(i,o,o.pendingProps.children,u),o.child;case 12:return zt(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,y=o.memoizedProps,A=m.value,ot(ba,d._currentValue),d._currentValue=A,y!==null)if(Fn(y.value,A)){if(y.children===m.children&&!Yt.current){o=mr(i,o,u);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var F=y.dependencies;if(F!==null){A=y.child;for(var V=F.firstContext;V!==null;){if(V.context===d){if(y.tag===1){V=gr(-1,u&-u),V.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var le=K.pending;le===null?V.next=V:(V.next=le.next,le.next=V),K.pending=V}}y.lanes|=u,V=y.alternate,V!==null&&(V.lanes|=u),Ou(y.return,u,o),F.lanes|=u;break}V=V.next}}else if(y.tag===10)A=y.type===o.type?null:y.child;else if(y.tag===18){if(A=y.return,A===null)throw Error(n(341));A.lanes|=u,F=A.alternate,F!==null&&(F.lanes|=u),Ou(A,u,o),A=y.sibling}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===o){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}zt(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,ss(o,u),m=Sn(m),d=d(m),o.flags|=1,zt(i,o,d,u),o.child;case 14:return d=o.type,m=Rn(d,o.pendingProps),m=Rn(d.type,m),Rh(i,o,d,m,u);case 15:return Dh(i,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Rn(d,m),Fa(i,o),o.tag=1,Xt(d)?(i=!0,ma(o)):i=!1,ss(o,u),kh(o,d,m),Xu(o,d,m,u),Ju(null,o,d,!0,i,u);case 19:return Wh(i,o,u);case 22:return Bh(i,o,u)}throw Error(n(156,o.tag))};function gp(i,o){return sn(i,o)}function _0(i,o,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(i,o,u,d){return new _0(i,o,u,d)}function xc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function L0(i){if(typeof i=="function")return xc(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===ie)return 14}return 2}function Xr(i,o){var u=i.alternate;return u===null?(u=An(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Wa(i,o,u,d,m,y){var A=2;if(d=i,typeof i=="function")xc(i)&&(A=1);else if(typeof i=="string")A=5;else e:switch(i){case v:return Ei(u.children,m,y,o);case S:A=8,m|=8;break;case E:return i=An(12,u,o,m|2),i.elementType=E,i.lanes=y,i;case W:return i=An(13,u,o,m),i.elementType=W,i.lanes=y,i;case Q:return i=An(19,u,o,m),i.elementType=Q,i.lanes=y,i;case B:return ja(u,m,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:A=10;break e;case O:A=9;break e;case U:A=11;break e;case ie:A=14;break e;case I:A=16,d=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=An(A,u,o,m),o.elementType=i,o.type=d,o.lanes=y,o}function Ei(i,o,u,d){return i=An(7,i,d,o),i.lanes=u,i}function ja(i,o,u,d){return i=An(22,i,d,o),i.elementType=B,i.lanes=u,i.stateNode={isHidden:!1},i}function wc(i,o,u){return i=An(6,i,null,o),i.lanes=u,i}function Sc(i,o,u){return o=An(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function M0(i,o,u,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yl(0),this.expirationTimes=Yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function bc(i,o,u,d,m,y,A,F,V){return i=new M0(i,o,u,F,V),o===1?(o=1,y===!0&&(o|=8)):o=0,y=An(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iu(y),i}function N0(i,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:d==null?null:""+d,children:i,containerInfo:o,implementation:u}}function mp(i){if(!i)return Vr;i=i._reactInternals;e:{if(Be(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Xt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Xt(u))return Hd(i,u,o)}return o}function vp(i,o,u,d,m,y,A,F,V){return i=bc(u,d,!0,i,m,y,A,F,V),i.context=mp(null),u=i.current,d=Vt(),m=qr(u),y=gr(d,m),y.callback=o??null,$r(u,y,m),i.current.lanes=m,Vs(i,m,d),Kt(i,d),i}function qa(i,o,u,d){var m=o.current,y=Vt(),A=qr(m);return u=mp(u),o.context===null?o.context=u:o.pendingContext=u,o=gr(y,A),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=$r(m,o,A),i!==null&&(zn(i,m,A,y),Aa(i,m,A)),A}function Ya(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function yp(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Ec(i,o){yp(i,o),(i=i.alternate)&&yp(i,o)}var xp=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ac(i){this._internalRoot=i}Xa.prototype.render=Ac.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));qa(i,o,null,null)},Xa.prototype.unmount=Ac.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;wi(function(){qa(null,i,null,null)}),o[cr]=null}};function Xa(i){this._internalRoot=i}Xa.prototype.unstable_scheduleHydration=function(i){if(i){var o=nd();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ir.length&&o!==0&&o<Ir[u].priority;u++);Ir.splice(u,0,i),u===0&&sd(i)}};function Pc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Za(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function wp(){}function O0(i,o,u,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var K=Ya(A);y.call(K)}}var A=vp(o,d,i,0,null,!1,!1,"",wp);return i._reactRootContainer=A,i[cr]=A.current,eo(i.nodeType===8?i.parentNode:i),wi(),A}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var F=d;d=function(){var K=Ya(V);F.call(K)}}var V=bc(i,0,!1,null,null,!1,!1,"",wp);return i._reactRootContainer=V,i[cr]=V.current,eo(i.nodeType===8?i.parentNode:i),wi(function(){qa(o,V,u,d)}),V}function Qa(i,o,u,d,m){var y=u._reactRootContainer;if(y){var A=y;if(typeof m=="function"){var F=m;m=function(){var V=Ya(A);F.call(V)}}qa(o,A,i,m)}else A=O0(u,o,i,m,d);return Ya(A)}ed=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=zs(o.pendingLanes);u!==0&&(Xl(o,u|1),Kt(o,rt()),!(Ze&6)&&(cs=rt()+500,Ur()))}break;case 13:wi(function(){var d=pr(i,1);if(d!==null){var m=Vt();zn(d,i,1,m)}}),Ec(i,1)}},Zl=function(i){if(i.tag===13){var o=pr(i,134217728);if(o!==null){var u=Vt();zn(o,i,134217728,u)}Ec(i,134217728)}},td=function(i){if(i.tag===13){var o=qr(i),u=pr(i,o);if(u!==null){var d=Vt();zn(u,i,o,d)}Ec(i,o)}},nd=function(){return nt},rd=function(i,o){var u=nt;try{return nt=i,o()}finally{nt=u}},rn=function(i,o,u){switch(o){case"input":if(q(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==i&&d.form===i.form){var m=pa(d);if(!m)throw Error(n(90));De(d),q(d,m)}}}break;case"textarea":Mn(i,u);break;case"select":o=u.value,o!=null&&He(i,!!u.multiple,o,!1)}},Rs=mc,Ds=wi;var F0={usingClientEntryPoint:!1,Events:[ro,Qi,pa,Ar,Bt,mc]},yo={findFiberByHostInstance:di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I0={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ct(i),i===null?null:i.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ka.isDisabled&&Ka.supportsFiber)try{Xo=Ka.inject(I0),Xn=Ka}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F0,Jt.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pc(o))throw Error(n(200));return N0(i,o,null,u)},Jt.createRoot=function(i,o){if(!Pc(i))throw Error(n(299));var u=!1,d="",m=xp;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=bc(i,1,!1,null,null,u,!1,d,m),i[cr]=o.current,eo(i.nodeType===8?i.parentNode:i),new Ac(o)},Jt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=ct(o),i=i===null?null:i.stateNode,i},Jt.flushSync=function(i){return wi(i)},Jt.hydrate=function(i,o,u){if(!Za(o))throw Error(n(200));return Qa(null,i,o,!0,u)},Jt.hydrateRoot=function(i,o,u){if(!Pc(i))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,m=!1,y="",A=xp;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),o=vp(o,null,i,1,u??null,m,!1,y,A),i[cr]=o.current,eo(i),d)for(i=0;i<d.length;i++)u=d[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Xa(o)},Jt.render=function(i,o,u){if(!Za(o))throw Error(n(200));return Qa(null,i,o,!1,u)},Jt.unmountComponentAtNode=function(i){if(!Za(i))throw Error(n(40));return i._reactRootContainer?(wi(function(){Qa(null,null,i,!1,function(){i._reactRootContainer=null,i[cr]=null})}),!0):!1},Jt.unstable_batchedUpdates=mc,Jt.unstable_renderSubtreeIntoContainer=function(i,o,u,d){if(!Za(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Qa(i,o,u,!1,d)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var kp;function $0(){if(kp)return kc.exports;kp=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),kc.exports=G0(),kc.exports}var _p;function H0(){if(_p)return Ja;_p=1;var e=$0();return Ja.createRoot=e.createRoot,Ja.hydrateRoot=e.hydrateRoot,Ja}var W0=H0();const{round:j0,floor:q0,PI:Wg}=Math,Y0={linear:function(e,t,n){var r=e[1]-e[0],s=t[1]-t[0];return(n-e[0])/r*s+t[0]||0}},kn=function(e){return e%360+(e<0?360:0)},Mi=function(e,t){return t*j0(e/t)},Ll=function(e){return 180*e/Wg%360},en=function(e,t){return t=t||!1,e=t?e:e%360,e*Wg/180},Xc=function(e,t){if(t===void 0)t=e===void 0?1:e,e=0;else if(t<e){const n=e;e=t,t=n}return q0(Math.random()*(t-e+1)+e)},{cos:el,sin:Mc,atan2:X0}=Math,jg=function(e,t){var n=en(e.y),r=en(t.y),s=e.x,a=t.x,l=en(a-s),c=Mc(l)*el(r),f=el(n)*Mc(r)-Mc(n)*el(r)*el(l),p=Ll(X0(c,f)),g=["NE","E","SE","S","SW","W","NW","N"],h=p-22.5;return h<0&&(h+=360),h=parseInt(h/45),g[h]},mf=function(e,t){var n=e.x,r=e.y,s=t.x,a=t.y;return(n-=s)*n+(r-=a)*r},qg=function(e,t){return Math.sqrt(mf(e,t))},ze={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:Sl,cos:Zc,sin:Qc,sqrt:Lp,min:Mp,max:Np,atan2:Z0,round:Op,pow:Q0,PI:Fp}=Math,z=function(e,t){if(!(this instanceof z))return new z(e,t);if(typeof e=="string"){var n=e.split(e.indexOf("@")===-1?" ":"@");e=parseFloat(n[0]),t=parseFloat(n[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=e===void 0?0:e,this.y=t===void 0?0:t};z.fromPolar=function(e,t,n){n=new z(n);var r=Sl(e*Zc(t)),s=Sl(e*Qc(t)),a=kn(Ll(t));return a<90?s=-s:a<180?(r=-r,s=-s):a<270&&(r=-r),new z(n.x+r,n.y+s)};z.random=function(e,t,n,r){return new z(Xc(e,t),Xc(n,r))};z.prototype={type:ze.Point,chooseClosest:function(e){var t=e.length;if(t===1)return new z(e[0]);for(var n=null,r=1/0,s=0;s<t;s++){var a=new z(e[s]),l=this.squaredDistance(a);l<r&&(n=a,r=l)}return n},adhereToRect:function(e){return e.containsPoint(this)?this:(this.x=Mp(Np(this.x,e.x),e.x+e.width),this.y=Mp(Np(this.y,e.y),e.y+e.height),this)},angleBetween:function(e,t){var n=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return n<0&&(n+=360),n},bearing:function(e){return jg(this,e)},changeInAngle:function(e,t,n){return this.clone().offset(-e,-t).theta(n)-this.theta(n)},clone:function(){return new z(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new z(this.x-(e||0),this.y-(t||0))},distance:function(e){return qg(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){var n=this.x,r=this.y;return new z((1-t)*n+t*e.x,(1-t)*r+t*e.y)},magnitude:function(){return Lp(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return Sl(e.x-this.x)+Sl(e.y-this.y)},move:function(e,t){var n=en(new z(e).theta(this)),r=this.offset(Zc(n)*t,-Qc(n)*t);return r},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new z(e).move(this,this.distance(e))},rotate:function(e,t){if(t===0)return this;e=e||new z(0,0),t=en(kn(-t));var n=Zc(t),r=Qc(t),s=n*(this.x-e.x)-r*(this.y-e.y)+e.x,a=r*(this.x-e.x)+n*(this.y-e.y)+e.y;return this.x=s,this.y=a,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Q0(10,e);break}return this.x=Op(this.x*t)/t,this.y=Op(this.y*t)/t,this},scale:function(e,t,n){return n=n&&new z(n)||new z(0,0),this.x=n.x+e*(this.x-n.x),this.y=n.y+t*(this.y-n.y),this},snapToGrid:function(e,t){return this.x=Mi(this.x,e),this.y=Mi(this.y,t||e),this},squaredDistance:function(e){return mf(this,e)},theta:function(e){e=new z(e);var t=-(e.y-this.y),n=e.x-this.x,r=Z0(t,n);return r<0&&(r=2*Fp+r),180*r/Fp},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new z(e)||new z(0,0);var t=this.x,n=this.y;return this.x=Lp((t-e.x)*(t-e.x)+(n-e.y)*(n-e.y)),this.y=en(e.theta(new z(t,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){var t=new z(0,0);return t.angleBetween(this,e)}};z.prototype.translate=z.prototype.offset;const bl=z,{max:Nc,min:Oc}=Math,ye=function(e,t){if(!(this instanceof ye))return new ye(e,t);if(e instanceof ye)return new ye(e.start,e.end);this.start=new z(e),this.end=new z(t)};ye.prototype={type:ze.Line,angle:function(){var e=new z(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=Oc(this.start.x,this.end.x),t=Oc(this.start.y,this.end.y),n=Nc(this.start.x,this.end.x),r=Nc(this.start.y,this.end.y);return new he(e,t,n-e,r-t)},bearing:function(){return jg(this.start,this.end)},clone:function(){return new ye(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new ye(this.start,e).vector()),n=Oc(1,Nc(0,t/this.squaredLength()));return n!==n?0:n},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,n=this.end;if(t.cross(e,n)!==0)return!1;var r=this.length();return!(new ye(t,e).length()>r||new ye(e,n).length()>r)},divideAt:function(e){var t=this.pointAt(e);return[new ye(this.start,t),new ye(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new ye(this.start,t),new ye(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var n=e.intersectionWithLine(this,t);return n&&e instanceof ye&&(n=n[0]),n}return null},intersectionWithLine:function(e){var t=new z(this.end.x-this.start.x,this.end.y-this.start.y),n=new z(e.end.x-e.start.x,e.end.y-e.start.y),r=t.x*n.y-t.y*n.x,s=new z(e.start.x-this.start.x,e.start.y-this.start.y),a=s.x*n.y-s.y*n.x,l=s.x*t.y-s.y*t.x;if(r===0||a*r<0||l*r<0)return null;if(r>0){if(a>r||l>r)return null}else if(a<r||l<r)return null;return[new z(this.start.x+a*t.x/r,this.start.y+a*t.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return qg(this.start,this.end)},midpoint:function(){return new z((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){const t=this.clone();if(!this.isDifferentiable())return t;const{start:n,end:r}=t,s=n.clone().rotate(r,270),a=r.clone().rotate(n,90);return n.move(a,e),r.move(s,e),t},pointAt:function(e){var t=this.start,n=this.end;return e<=0?t.clone():e>=1?n.clone():t.lerp(n,e)},pointAtLength:function(e){var t=this.start,n=this.end,r=!0;e<0&&(r=!1,e=-e);var s=this.length();return e>=s?r?n.clone():t.clone():this.pointAt((r?e:s-e)/s)},pointOffset:function(e){e=new z(e);var t=this.start,n=this.end,r=(n.x-t.x)*(e.y-t.y)-(n.y-t.y)*(e.x-t.x);return r/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.end.scale(e,t,n),this},setLength:function(e){var t=this.length();if(!t)return this;var n=e/t;return this.scale(n,n,this.start)},squaredLength:function(){return mf(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAt(e),s=new ye(t,n);return s.translate(r.x-t.x,r.y-t.y),s},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAtLength(e),s=new ye(t,n);return s.translate(r.x-t.x,r.y-t.y),s},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new z(this.end.x-this.start.x,this.end.y-this.start.y)}};ye.prototype.intersection=ye.prototype.intersect;const _i=ye,{sqrt:Ip,round:tl,pow:K0}=Math,Ht=function(e,t,n){if(!(this instanceof Ht))return new Ht(e,t,n);if(e instanceof Ht)return new Ht(new z(e.x,e.y),e.a,e.b);e=new z(e),this.x=e.x,this.y=e.y,this.a=t,this.b=n};Ht.fromRect=function(e){return e=new he(e),new Ht(e.center(),e.width/2,e.height/2)};Ht.prototype={type:ze.Ellipse,bbox:function(){return new he(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new z(this.x,this.y)},clone:function(){return new Ht(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],n=e.start,r=e.end,s=this.a,a=this.b,l=e.vector(),c=n.difference(new z(this)),f=new z(l.x/(s*s),l.y/(a*a)),p=new z(c.x/(s*s),c.y/(a*a)),g=l.dot(f),h=l.dot(p),x=c.dot(p)-1,w=h*h-g*x;if(w<0)return null;if(w>0){var b=Ip(w),P=(-h-b)/g,T=(-h+b)/g;if((P<0||1<P)&&(T<0||1<T))return null;0<=P&&P<=1&&t.push(n.lerp(r,P)),0<=T&&T<=1&&t.push(n.lerp(r,T))}else{var C=-h/g;if(0<=C&&C<=1)t.push(n.lerp(r,C));else return null}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new z(e),t&&e.rotate(new z(this.x,this.y),t);var n=e.x-this.x,r=e.y-this.y,s;if(n===0)return s=this.bbox().pointNearestToPoint(e),t?s.rotate(new z(this.x,this.y),-t):s;var a=r/n,l=a*a,c=this.a*this.a,f=this.b*this.b,p=Ip(1/(1/c+l/f));p=n<0?-p:p;var g=a*p;return s=new z(this.x+p,this.y+g),t?s.rotate(new z(this.x,this.y),-t):s},normalizedDistance:function(e){var t=e.x,n=e.y,r=this.a,s=this.b,a=this.x,l=this.y;return(t-a)*(t-a)/(r*r)+(n-l)*(n-l)/(s*s)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=K0(10,e);break}return this.x=tl(this.x*t)/t,this.y=tl(this.y*t)/t,this.a=tl(this.a*t)/t,this.b=tl(this.b*t)/t,this},tangentTheta:function(e){var t=30,n=e.x,r=e.y,s=this.a,a=this.b,l=this.bbox().center(),c=l.x,f=l.y,p=n>l.x+s/2,g=n<l.x-s/2,h,x;return p||g?(h=n>l.x?r-t:r+t,x=s*s/(n-c)-s*s*(r-f)*(h-f)/(a*a*(n-c))+c):(x=r>l.y?n+t:n-t,h=a*a/(r-f)-a*a*(n-c)*(x-c)/(s*s*(r-f))+f),new z(x,h).theta(e)},toString:function(){return new z(this.x,this.y).toString()+" "+this.a+" "+this.b}};const J0=Ht,{abs:Rp,cos:e1,sin:t1,min:wo,max:Dp,round:nl,pow:n1}=Math,he=function(e,t,n,r){if(!(this instanceof he))return new he(e,t,n,r);Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=e===void 0?0:e,this.y=t===void 0?0:t,this.width=n===void 0?0:n,this.height=r===void 0?0:r};he.fromEllipse=function(e){return e=new Ht(e),new he(e.x-e.a,e.y-e.b,2*e.a,2*e.b)};he.fromPointUnion=function(...e){if(e.length===0)return null;const t=new z;let n,r,s,a;n=r=1/0,s=a=-1/0;for(let l=0;l<e.length;l++){t.update(e[l]);const c=t.x,f=t.y;c<n&&(n=c),c>s&&(s=c),f<r&&(r=f),f>a&&(a=f)}return new he(n,r,s-n,a-r)};he.fromRectUnion=function(...e){if(e.length===0)return null;const t=new he;let n,r,s,a;n=r=1/0,s=a=-1/0;for(let l=0;l<e.length;l++){t.update(e[l]);const c=t.x,f=t.y,p=c+t.width,g=f+t.height;c<n&&(n=c),p>s&&(s=p),f<r&&(r=f),g>a&&(a=g)}return new he(n,r,s-n,a-r)};he.prototype={type:ze.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;const{width:t,height:n}=this,r=en(e),s=Rp(t1(r)),a=Rp(e1(r)),l=t*a+n*s,c=t*s+n*a;return this.x+=(t-l)/2,this.y+=(n-c)/2,this.width=l,this.height=c,this},bottomLeft:function(){return new z(this.x,this.y+this.height)},bottomLine:function(){return new ye(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new z(this.x+this.width/2,this.y+this.height)},center:function(){return new z(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new he(this)},containsPoint:function(e,t){let n,r;return!e||typeof e=="string"?{x:n,y:r}=new z(e):{x:n=0,y:r=0}=e,t&&t.strict?n>this.x&&n<this.x+this.width&&r>this.y&&r<this.y+this.height:n>=this.x&&n<=this.x+this.width&&r>=this.y&&r<=this.y+this.height},containsRect:function(e){var t=new he(this).normalize(),n=new he(e).normalize(),r=t.width,s=t.height,a=n.width,l=n.height;if(!r||!s||!a||!l)return!1;var c=t.x,f=t.y,p=n.x,g=n.y;return a+=p,r+=c,l+=g,s+=f,c<=p&&a<=r&&f<=g&&l<=s},corner:function(){return new z(this.x+this.width,this.y+this.height)},equals:function(e){var t=new he(this).normalize(),n=new he(e).normalize();return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),n=this.corner(),r=e.origin(),s=e.corner();if(s.x<=t.x||s.y<=t.y||r.x>=n.x||r.y>=n.y)return null;var a=Dp(t.x,r.x),l=Dp(t.y,r.y);return new he(a,l,wo(n.x,s.x)-a,wo(n.y,s.y)-l)},intersectionWithLine:function(e){var t=this,n=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],r=[],s=[],a,l,c=n.length;for(l=0;l<c;l++)a=e.intersect(n[l]),a!==null&&s.indexOf(a.toString())<0&&(r.push(a),s.push(a.toString()));return r.length>0?r:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new z(e);var n=new z(this.x+this.width/2,this.y+this.height/2),r;t&&e.rotate(n,t);for(var s=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],a=new ye(n,e),l=s.length-1;l>=0;--l){var c=s[l].intersection(a);if(c!==null){r=c;break}}return r&&t&&r.rotate(n,-t),r},leftLine:function(){return new ye(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new z(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new he(e),t||(t=e.center());var n,r,s,a,l,c,f,p,g=t.x,h=t.y;n=r=s=a=l=c=f=p=1/0;var x=e.topLeft();x.x<g&&(n=(this.x-g)/(x.x-g)),x.y<h&&(l=(this.y-h)/(x.y-h));var w=e.bottomRight();w.x>g&&(r=(this.x+this.width-g)/(w.x-g)),w.y>h&&(c=(this.y+this.height-h)/(w.y-h));var b=e.topRight();b.x>g&&(s=(this.x+this.width-g)/(b.x-g)),b.y<h&&(f=(this.y-h)/(b.y-h));var P=e.bottomLeft();return P.x<g&&(a=(this.x-g)/(P.x-g)),P.y>h&&(p=(this.y+this.height-h)/(P.y-h)),{sx:wo(n,r,s,a),sy:wo(l,c,f,p)}},maxRectUniformScaleToFit:function(e,t){var n=this.maxRectScaleToFit(e,t);return wo(n.sx,n.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.width<0&&(e=this.x+this.width,n=-this.width),this.height<0&&(t=this.y+this.height,r=-this.height),this.x=e,this.y=t,this.width=n,this.height=r,this},offset:function(e,t){return z.prototype.offset.call(this,e,t)},origin:function(){return new z(this.x,this.y)},pointNearestToPoint:function(e){if(e=new z(e),this.containsPoint(e)){var t=this.sideNearestToPoint(e);switch(t){case"right":return new z(this.x+this.width,e.y);case"left":return new z(this.x,e.y);case"bottom":return new z(e.x,this.y+this.height);case"top":return new z(e.x,this.y)}}return e.adhereToRect(this)},rightLine:function(){return new ye(this.topRight(),this.bottomRight())},rightMiddle:function(){return new z(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=n1(10,e);break}return this.x=nl(this.x*t)/t,this.y=nl(this.y*t)/t,this.width=nl(this.width*t)/t,this.height=nl(this.height*t)/t,this},scale:function(e,t,n){return n=this.origin().scale(e,t,n),this.x=n.x,this.y=n.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new z(e);var t=e.x-this.x,n=this.x+this.width-e.x,r=e.y-this.y,s=this.y+this.height-e.y,a=t,l="left";return n<a&&(a=n,l="right"),r<a&&(a=r,l="top"),s<a&&(l="bottom"),l},snapToGrid:function(e,t){var n=this.origin().snapToGrid(e,t),r=this.corner().snapToGrid(e,t);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new ye(this.topLeft(),this.topRight())},topMiddle:function(){return new z(this.x+this.width/2,this.y)},topRight:function(){return new z(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return he.fromRectUnion(this,e)},update:function(e,t,n,r){return Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=n||0,this.height=r||0,this}};he.prototype.bottomRight=he.prototype.corner;he.prototype.topLeft=he.prototype.origin;he.prototype.translate=he.prototype.offset;const r1=he;function Yg(e){const t=e.trim();if(t==="")return[];const n=[],r=t.split(/\b\s*,\s*|,\s*|\s+/),s=r.length;for(let a=0;a<s;a+=2)n.push({x:+r[a],y:+r[a+1]});return n}function Xg(e){const t=e.length;if(t===0)return[];const n=[];for(let r=0;r<t;r++){const s=e[r].clone();n.push(s)}return n}function Zg(e){const{abs:t}=Math;var n,r,s=e.length;if(s===0)return[];var a;for(n=0;n<s;n++)(a===void 0||e[n].y<a.y||e[n].y===a.y&&e[n].x>a.x)&&(a=e[n]);var l=[];for(n=0;n<s;n++){var c=a.theta(e[n]);c===0&&(c=360);var f=[e[n],n,c];l.push(f)}if(l.sort(function(W,Q){var ie=W[2]-Q[2];return ie===0&&(ie=Q[1]-W[1]),ie}),l.length>2){var p=l[l.length-1];l.unshift(p)}for(var g={},h=[],x,w,b,P,T,C;l.length!==0;)if(x=l.pop(),w=x[0],!g.hasOwnProperty(x[0]+"@@"+x[1]))for(var L=!1;!L;)if(h.length<2)h.push(x),L=!0;else{b=h.pop(),P=b[0],T=h.pop(),C=T[0];var M=C.cross(P,w);if(M<0)h.push(T),h.push(b),h.push(x),L=!0;else if(M===0){var R=1e-10,G=P.angleBetween(C,w);t(G-180)<R||P.equals(w)||C.equals(P)?(g[b[0]+"@@"+b[1]]=P,h.push(T)):t((G+1)%360-1)<R&&(h.push(T),l.push(b))}else g[b[0]+"@@"+b[1]]=P,h.push(T)}h.length>2&&h.pop();var Z,v=-1;for(r=h.length,n=0;n<r;n++){var S=h[n][1];(Z===void 0||S<Z)&&(Z=S,v=n)}var E=[];if(v>0){var k=h.slice(v),O=h.slice(0,v);E=k.concat(O)}else E=h;var U=[];for(r=E.length,n=0;n<r;n++)U.push(E[n][0]);return U}const st=function(e){if(!(this instanceof st))return new st(e);if(typeof e=="string")return new st.parse(e);this.points=Array.isArray(e)?e.map(z):[]};st.parse=function(e){return new st(Yg(e))};st.fromRect=function(e){return new st([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])};st.prototype={type:ze.Polyline,bbox:function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,s=this.points,a=s.length;if(a===0)return null;for(var l=0;l<a;l++){var c=s[l],f=c.x,p=c.y;f<e&&(e=f),f>t&&(t=f),p<n&&(n=p),p>r&&(r=p)}return new he(e,n,t-e,r-n)},clone:function(){return new st(Xg(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return 0;for(var r,s=1/0,a=0,l=n-1,c=0;c<l;c++){var f=new ye(t[c],t[c+1]),p=f.length(),g=f.closestPointNormalizedLength(e),h=f.pointAt(g),x=h.squaredDistance(e);x<s&&(s=x,r=a+g*p),a+=p}return r},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(t===0)return 0;var n=this.length();return n===0?0:t/n},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,n=t.length;if(n===0)return!1;for(var r=e.x,s=e.y,a=n-1,l=0,c=0,f=new ye,p=new ye,g=new z;l<n;l++){var h=t[a],x=t[l];if(e.equals(h)||(f.start=h,f.end=x,f.containsPoint(e)))return!0;if(s<=h.y&&s>x.y||s>h.y&&s<=x.y){var w=h.x-r>x.x-r?h.x-r:x.x-r;w>=0&&(g.x=r+w,g.y=s,p.start=e,p.end=g,f.intersect(p)&&c++)}a=l}return c%2===1},close:function(){const{start:e,end:t,points:n}=this;return e&&t&&!e.equals(t)&&n.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new st(Zg(this.points))},equals:function(e){if(!e)return!1;var t=this.points,n=e.points,r=t.length;if(n.length!==r)return!1;for(var s=0;s<r;s++){var a=t[s],l=e.points[s];if(!a.equals(l))return!1}return!0},intersectionWithLine:function(e){for(var t=new ye(e),n=[],r=this.lengthPoints(),s=new ye,a=0,l=r.length-1;a<l;a++){s.start=r[a],s.end=r[a+1];var c=t.intersectionWithLine(s);c&&n.push(c[0])}return n.length>0?n:null},isDifferentiable:function(){var e=this.points,t=e.length;if(t===0)return!1;for(var n=new ye,r=t-1,s=0;s<r;s++)if(n.start=e[s],n.end=e[s+1],n.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(t===0)return 0;for(var n=0,r=t-1,s=0;s<r;s++)n+=e[s].distance(e[s+1]);return n},pointAt:function(e){var t=this.lengthPoints(),n=t.length;if(n===0)return null;if(n===1||e<=0)return t[0].clone();if(e>=1)return t[n-1].clone();var r=this.length(),s=r*e;return this.pointAtLength(s)},pointAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0)return null;if(n===1)return t[0].clone();var r=!0;e<0&&(r=!1,e=-e);for(var s=0,a=n-1,l=0;l<a;l++){var c=r?l:a-1-l,f=t[c],p=t[c+1],g=new ye(f,p),h=f.distance(p);if(e<=s+h)return g.pointAtLength((r?1:-1)*(e-s));s+=h}var x=r?t[n-1]:t[0];return x.clone()},round:function(e){for(var t=this.points,n=t.length,r=0;r<n;r++)t[r].round(e);return this},scale:function(e,t,n){for(var r=this.points,s=r.length,a=0;a<s;a++)r[a].scale(e,t,n);return this},simplify:function(e={}){const t=this.points;if(t.length<3)return this;const n=e.threshold||1e-10;let r=0;for(;t[r+2];){const s=r,a=r+1,l=r+2,c=t[s],f=t[a],p=t[l];new ye(c,p).closestPoint(f).distance(f)<=n?t.splice(a,1):r+=1}return this},tangentAt:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return null;e<0&&(e=0),e>1&&(e=1);var r=this.length(),s=r*e;return this.tangentAtLength(s)},tangentAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return null;var r=!0;e<0&&(r=!1,e=-e);for(var s,a=0,l=n-1,c=0;c<l;c++){var f=r?c:l-1-c,p=t[f],g=t[f+1],h=new ye(p,g),x=p.distance(g);if(h.isDifferentiable()){if(e<=a+x)return h.tangentAtLength((r?1:-1)*(e-a));s=h}a+=x}if(s){var w=r?1:0;return s.tangentAt(w)}return null},toString:function(){return this.points+""},translate:function(e,t){for(var n=this.points,r=n.length,s=0;s<r;s++)n[s].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(t===0)return"";for(var n="",r=0;r<t;r++){var s=e[r];n+=s.x+","+s.y+" "}return n.trim()}};Object.defineProperty(st.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[0]}});Object.defineProperty(st.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[t-1]}});const{abs:rl,sqrt:i1,min:Bp,max:zp,pow:Fc}=Math,Ke=function(e,t,n,r){if(!(this instanceof Ke))return new Ke(e,t,n,r);if(e instanceof Ke)return new Ke(e.start,e.controlPoint1,e.controlPoint2,e.end);this.start=new z(e),this.controlPoint1=new z(t),this.controlPoint2=new z(n),this.end=new z(r)};Ke.throughPoints=function(){function e(n){var r=[],s=[],a=n.length-1,l;if(a==1)return r[0]=new z((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),s[0]=new z(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,s];var c=[];for(l=1;l<a-1;l++)c[l]=4*n[l].x+2*n[l+1].x;c[0]=n[0].x+2*n[1].x,c[a-1]=(8*n[a-1].x+n[a].x)/2;var f=t(c);for(l=1;l<a-1;++l)c[l]=4*n[l].y+2*n[l+1].y;c[0]=n[0].y+2*n[1].y,c[a-1]=(8*n[a-1].y+n[a].y)/2;var p=t(c);for(l=0;l<a;l++)r.push(new z(f[l],p[l])),l<a-1?s.push(new z(2*n[l+1].x-f[l+1],2*n[l+1].y-p[l+1])):s.push(new z((n[a].x+f[a-1])/2,(n[a].y+p[a-1])/2));return[r,s]}function t(n){var r=n.length,s=[],a=[],l=2;s[0]=n[0]/l;for(var c=1;c<r;c++)a[c]=1/l,l=(c<r-1?4:3.5)-a[c],s[c]=(n[c]-s[c-1])/l;for(c=1;c<r;c++)s[r-c-1]-=a[r-c]*s[r-c];return s}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=e(n),s=[],a=r[0].length,l=0;l<a;l++){var c=new z(r[0][l].x,r[0][l].y),f=new z(r[1][l].x,r[1][l].y);s.push(new Ke(n[l],c,f,n[l+1]))}return s}}();Ke.prototype={type:ze.Curve,bbox:function(){for(var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end,s=e.x,a=e.y,l=t.x,c=t.y,f=n.x,p=n.y,g=r.x,h=r.y,x=new Array,w=new Array,b=[new Array,new Array],P,T,C,L,M,R,G,Z,v=0;v<2;++v){if(v===0?(T=6*s-12*l+6*f,P=-3*s+9*l-9*f+3*g,C=3*l-3*s):(T=6*a-12*c+6*p,P=-3*a+9*c-9*p+3*h,C=3*c-3*a),rl(P)<1e-12){if(rl(T)<1e-12)continue;L=-C/T,0<L&&L<1&&w.push(L);continue}G=T*T-4*C*P,Z=i1(G),!(G<0)&&(M=(-T+Z)/(2*P),0<M&&M<1&&w.push(M),R=(-T-Z)/(2*P),0<R&&R<1&&w.push(R))}for(var S=w.length,E=S,k,O,U;S--;)L=w[S],k=1-L,O=k*k*k*s+3*k*k*L*l+3*k*L*L*f+L*L*L*g,b[0][S]=O,U=k*k*k*a+3*k*k*L*c+3*k*L*L*p+L*L*L*h,b[1][S]=U,x[S]={X:O,Y:U};w[E]=0,w[E+1]=1,x[E]={X:s,Y:a},x[E+1]={X:g,Y:h},b[0][E]=s,b[1][E]=a,b[0][E+1]=g,b[1][E+1]=h,w.length=E+2,b[0].length=E+2,b[1].length=E+2,x.length=E+2;var W=Bp.apply(null,b[0]),Q=Bp.apply(null,b[1]),ie=zp.apply(null,b[0]),I=zp.apply(null,b[1]);return new he(W,Q,ie-W,I-Q)},clone:function(){return new Ke(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,s={precision:n,subdivisions:r};return this.lengthAtT(this.closestPointT(e,s),s)},closestPointNormalizedLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,s={precision:n,subdivisions:r},a=this.closestPointLength(e,s);if(!a)return 0;var l=this.length(s);return l===0?0:a/l},closestPointT:function(e,t){t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,s,a,l,c,f,p,g,h=r.length,x=h?1/h:0,w=0;w<h;w++){var b=r[w],P=b.start.distance(e),T=b.end.distance(e),C=P+T;(!g||C<g)&&(s=b,a=w*x,l=(w+1)*x,c=P,f=T,p=b.start.distance(b.end),g=C)}for(var L=Fc(10,-n);;){var M=c?rl(c-f)/c:0,R=f?rl(c-f)/f:0,G=M<L||R<L,Z=c?c<p*L:!0,v=f?f<p*L:!0,S=Z||v;if(G||S)return c<=f?a:l;var E=s.divide(.5);x/=2;var k=E[0].start.distance(e),O=E[0].end.distance(e),U=k+O,W=E[1].start.distance(e),Q=E[1].end.distance(e),ie=W+Q;U<=ie?(s=E[0],l-=x,c=k,f=O):(s=E[1],a+=x,c=W,f=Q)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){var n=this.toPolyline(t);return n.containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var n=this.tAt(e,t);return this.divideAtT(n)},divideAtLength:function(e,t){var n=this.tAtLength(e,t);return this.divideAtT(n)},divideAtT:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,s=this.end;if(e<=0)return[new Ke(t,t,t,t),new Ke(t,n,r,s)];if(e>=1)return[new Ke(t,n,r,s),new Ke(s,s,s,s)];var a=this.getSkeletonPoints(e),l=a.startControlPoint1,c=a.startControlPoint2,f=a.divider,p=a.dividerControlPoint1,g=a.dividerControlPoint2;return[new Ke(t,l,c,f),new Ke(f,p,g,s)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,s=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(e>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:s.clone(),dividerControlPoint1:s.clone(),dividerControlPoint2:s.clone()};var a=new ye(t,n).pointAt(e),l=new ye(n,r).pointAt(e),c=new ye(r,s).pointAt(e),f=new ye(a,l).pointAt(e),p=new ye(l,c).pointAt(e),g=new ye(f,p).pointAt(e),h={startControlPoint1:a,startControlPoint2:f,divider:g,dividerControlPoint1:p,dividerControlPoint2:c};return h},getSubdivisions:function(e){e=e||{};var t=e.precision===void 0?this.PRECISION:e.precision,n=this.start,r=this.controlPoint1,s=this.controlPoint2,a=this.end,l=[new Ke(n,r,s,a)];if(t===0)return l;var c=!this.isDifferentiable();if(c)return l;var f=this.endpointDistance(),p=Fc(10,-t),g=2,h=r.cross(n,a)===0&&s.cross(n,a)===0;h&&(g=2*t);for(var x=0;;){x+=1;for(var w=[],b=l.length,P=0;P<b;P++){var T=l[P],C=T.divide(.5);w.push(C[0],C[1])}for(var L=0,M=w.length,R=0;R<M;R++){var G=w[R];L+=G.endpointDistance()}if(x>=g){var Z=L!==0?(L-f)/L:0;if(Z<p)return w}l=w,f=L}},isDifferentiable:function(){var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(r))},length:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,n=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,r=0,s=n.length,a=0;a<s;a++){var l=n[a];r+=l.endpointDistance()}return r},lengthAtT:function(e,t){if(e<=0)return 0;t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=this.divide(e)[0],s=r.length({precision:n});return s},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=this.tAt(e,t);return this.pointAtT(n)},pointAtLength:function(e,t){var n=this.tAtLength(e,t);return this.pointAtT(n)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var n=this.tAt(e,t);return this.tangentAtT(n)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var n=this.tAtLength(e,t);return this.tangentAtT(n)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),n=t.startControlPoint2,r=t.dividerControlPoint1,s=t.divider,a=new ye(n,r);return a.translate(s.x-n.x,s.y-n.y),a},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,s={precision:n,subdivisions:r},a=this.length(s),l=a*e;return this.tAtLength(l,s)},tAtLength:function(e,t){var n=!0;e<0&&(n=!1,e=-e),t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,s=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,a={precision:r,subdivisions:s},l,c,f,p,g,h=0,x=s.length,w=1/x,b=0;b<x;b++){var P=n?b:x-1-b,T=s[b],C=T.endpointDistance();if(e<=h+C){l=T,c=P*w,f=(P+1)*w,p=n?e-h:C+h-e,g=n?C+h-e:e-h;break}h+=C}if(!l)return n?1:0;for(var L=this.length(a),M=Fc(10,-r);;){var R;if(R=L!==0?p/L:0,R<M)return c;if(R=L!==0?g/L:0,R<M)return f;var G,Z,v=l.divide(.5);w/=2;var S=v[0].endpointDistance(),E=v[1].endpointDistance();p<=S?(l=v[0],f-=w,G=p,Z=S-G):(l=v[1],c+=w,G=p-S,Z=E-G),p=G,g=Z}},toPoints:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,n=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,r=[n[0].start.clone()],s=n.length,a=0;a<s;a++){var l=n[a];r.push(l.end.clone())}return r},toPolyline:function(e){return new st(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Ke.prototype.divide=Ke.prototype.divideAtT;function Do(e){var t,n,r=[];for(n=arguments.length,t=1;t<n;t++)r.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var s=Object.create(e);for(n=r.length,t=0;t<n;t++){var a=r[t],l,c;for(c in a)a.hasOwnProperty(c)&&(delete s[c],l=Object.getOwnPropertyDescriptor(a,c),Object.defineProperty(s,c,l))}return s}const Ce=function(e){if(!(this instanceof Ce))return new Ce(e);if(typeof e=="string")return new Ce.parse(e);this.segments=[];var t,n;if(e)if(Array.isArray(e)&&e.length!==0)if(e=e.reduce(function(c,f){return c.concat(f)},[]),n=e.length,e[0].isSegment)for(t=0;t<n;t++){var r=e[t];this.appendSegment(r)}else{var s=null;for(t=0;t<n;t++){var a=e[t];if(!(a instanceof ye||a instanceof Ke))throw new Error("Cannot construct a path segment from the provided object.");t===0&&this.appendSegment(Ce.createSegment("M",a.start)),s&&!s.end.equals(a.start)&&this.appendSegment(Ce.createSegment("M",a.start)),a instanceof ye?this.appendSegment(Ce.createSegment("L",a.end)):a instanceof Ke&&this.appendSegment(Ce.createSegment("C",a.controlPoint1,a.controlPoint2,a.end)),s=a}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof ye)this.appendSegment(Ce.createSegment("M",e.start)),this.appendSegment(Ce.createSegment("L",e.end));else if(e instanceof Ke)this.appendSegment(Ce.createSegment("M",e.start)),this.appendSegment(Ce.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else if(e instanceof st){if(!(e.points&&e.points.length!==0))return;for(n=e.points.length,t=0;t<n;t++){var l=e.points[t];t===0?this.appendSegment(Ce.createSegment("M",l)):this.appendSegment(Ce.createSegment("L",l))}}else throw new Error("Cannot construct a path from the provided object.")};Ce.parse=function(e){if(!e)return new Ce;for(var t=new Ce,n=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,r=e.match(n),s=r.length,a=0;a<s;a++){var l=r[a],c=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,f=l.match(c),p=Ce.createSegment.apply(this,f);t.appendSegment(p)}return t};Ce.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=Ce.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var n=[],r=arguments.length,s=1;s<r;s++)n.push(arguments[s]);return sr(t,n)};Ce.prototype={type:ze.Path,appendSegment:function(e){var t=this.segments,n=t.length,r,s=n!==0?t[n-1]:null,a=null;if(Array.isArray(e)){if(e=e.reduce(function(p,g){return p.concat(g)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var l=e.length,c=0;c<l;c++){var f=e[c];r=this.prepareSegment(f,s,a),t.push(r),s=r}}else{if(!e||!e.isSegment)throw new Error("Segment required.");r=this.prepareSegment(e,s,a),t.push(r)}},bbox:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n,r=0;r<t;r++){var s=e[r];if(s.isVisible){var a=s.bbox();n=n?n.union(a):a}}if(n)return n;var l=e[t-1];return new he(l.end.x,l.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,n=new Ce,r=0;r<t;r++){var s=e[r].clone();n.appendSegment(s)}return n},closestPoint:function(e,t){var n=this.closestPointT(e,t);return n?this.pointAtT(n):null},closestPointLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,s={precision:n,segmentSubdivisions:r},a=this.closestPointT(e,s);return a?this.lengthAtT(a,s):0},closestPointNormalizedLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,s={precision:n,segmentSubdivisions:r},a=this.closestPointLength(e,s);if(a===0)return 0;var l=this.length(s);return l===0?0:a/l},closestPointT:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;t=t||{};for(var s=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l,c=1/0,f=0;f<r;f++){var p=n[f],g=a[f];if(p.isVisible){var h=p.closestPointT(e,{precision:s,subdivisions:g}),x=p.pointAtT(h),w=new ye(x,e).squaredLength();w<c&&(l={segmentIndex:f,value:h},c=w)}}return l||{segmentIndex:r-1,value:1}},closestPointTangent:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;t=t||{};for(var s=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l,c=1/0,f=0;f<r;f++){var p=n[f],g=a[f];if(p.isDifferentiable()){var h=p.closestPointT(e,{precision:s,subdivisions:g}),x=p.pointAtT(h),w=new ye(x,e).squaredLength();w<c&&(l=p.tangentAtT(h),c=w)}}return l||null},containsPoint:function(e,t){var n=this.toPolylines(t);if(!n)return!1;for(var r=n.length,s=0,a=0;a<r;a++){var l=n[a];l.containsPoint(e)&&s++}return s%2===1},divideAt:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var s=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l={precision:s,segmentSubdivisions:a},c=this.length(l),f=c*e;return this.divideAtLength(f,l)},divideAtLength:function(e,t){var n=this.segments.length;if(n===0)return null;var r=!0;e<0&&(r=!1,e=-e),t=t||{};var s=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l,c,f=0,p,g,h,x,w;for(l=0;l<n;l++){var b=r?l:n-1-l;c=this.getSegment(b);var P=a[b],T=c.length({precision:s,subdivisions:P});if(c.isDifferentiable()&&(h=c,x=b,e<=f+T)){g=b,p=c.divideAtLength((r?1:-1)*(e-f),{precision:s,subdivisions:P});break}f+=T}if(!h)return null;p||(g=x,w=r?1:0,p=h.divideAtT(w));var C=this.clone();C.replaceSegment(g,p);var L=g,M=g+1,R=g+2;p[0].isDifferentiable()||(C.removeSegment(L),M-=1,R-=1);var G=C.getSegment(M).start;C.insertSegment(M,Ce.createSegment("M",G)),R+=1,p[1].isDifferentiable()||(C.removeSegment(R-1),R-=1);var Z=R-L-1;for(l=R;l<C.segments.length;l++){var v=this.getSegment(l-Z);if(c=C.getSegment(l),c.type==="Z"&&!v.subpathStartSegment.end.equals(c.subpathStartSegment.end)){var S=Ce.createSegment("L",v.end);C.replaceSegment(l,S)}}var E=new Ce(C.segments.slice(0,M)),k=new Ce(C.segments.slice(M));return[E,k]},equals:function(e){if(!e)return!1;var t=this.segments,n=e.segments,r=t.length;if(n.length!==r)return!1;for(var s=0;s<r;s++){var a=t[s],l=n[s];if(a.type!==l.type||!a.equals(l))return!1}return!0},getSegment:function(e){var t=this.segments,n=t.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){var t=this.segments,n=t.length;e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,s=[],a=0;a<n;a++){var l=t[a],c=l.getSubdivisions({precision:r});s.push(c)}return s},getSubpaths:function(){const t=this.clone().validate().segments,n=t.length,r=[];for(let s=0;s<n;s++){const a=t[s];a.isSubpathStart?r.push(new Ce(a)):r[r.length-1].appendSegment(a)}return r},insertSegment:function(e,t){var n=this.segments,r=n.length;if(e<0&&(e=r+e+1),e>r||e<0)throw new Error("Index out of range.");var s,a=null,l=null;if(r!==0&&(e>=1?(a=n[e-1],l=a.nextSegment):l=n[0]),Array.isArray(t)){if(t=t.reduce(function(g,h){return g.concat(h)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var c=t.length,f=0;f<c;f++){var p=t[f];s=this.prepareSegment(p,a,l),n.splice(e+f,0,s),a=s}}else{if(!t||!t.isSegment)throw new Error("Segment required.");s=this.prepareSegment(t,a,l),n.splice(e,0,s)}},intersectionWithLine:function(e,t){var n=null,r=this.toPolylines(t);if(!r)return null;for(var s=0,a=r.length;s<a;s++){var l=r[s],c=e.intersect(l);c&&(n||(n=[]),Array.isArray(c)?Array.prototype.push.apply(n,c):n.push(c))}return n},isDifferentiable:function(){for(var e=this.segments,t=e.length,n=0;n<t;n++){var r=e[n];if(r.isDifferentiable())return!0}return!1},isValid:function(){var e=this.segments,t=e.length===0||e[0].type==="M";return t},length:function(e){var t=this.segments,n=t.length;if(n===0)return 0;e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,a=0,l=0;l<n;l++){var c=t[l],f=s[l];a+=c.length({subdivisions:f})}return a},lengthAtT:function(e,t){var n=this.segments,r=n.length;if(r===0)return 0;var s=e.segmentIndex;if(s<0)return 0;var a=e.value;s>=r?(s=r-1,a=1):a<0?a=0:a>1&&(a=1),t=t||{};for(var l=t.precision===void 0?this.PRECISION:t.precision,c=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:l}):t.segmentSubdivisions,f,p=0,g=0;g<s;g++){var h=n[g];f=c[g],p+=h.length({precisison:l,subdivisions:f})}return h=n[s],f=c[s],p+=h.lengthAtT(a,{precisison:l,subdivisions:f}),p},pointAt:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();t=t||{};var s=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l={precision:s,segmentSubdivisions:a},c=this.length(l),f=c*e;return this.pointAtLength(f,l)},pointAtLength:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;if(e===0)return this.start.clone();var s=!0;e<0&&(s=!1,e=-e),t=t||{};for(var a=t.precision===void 0?this.PRECISION:t.precision,l=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:a}):t.segmentSubdivisions,c,f=0,p=0;p<r;p++){var g=s?p:r-1-p,h=n[g],x=l[g],w=h.length({precision:a,subdivisions:x});if(h.isVisible){if(e<=f+w)return h.pointAtLength((s?1:-1)*(e-f),{precision:a,subdivisions:x});c=h}f+=w}if(c)return s?c.end:c.start;var b=n[r-1];return b.end.clone()},pointAtT:function(e){var t=this.segments,n=t.length;if(n===0)return null;var r=e.segmentIndex;if(r<0)return t[0].pointAtT(0);if(r>=n)return t[n-1].pointAtT(1);var s=e.value;return s<0?s=0:s>1&&(s=1),t[r].pointAtT(s)},PRECISION:3,prepareSegment:function(e,t,n){e.previousSegment=t,e.nextSegment=n,t&&(t.nextSegment=e),n&&(n.previousSegment=e);var r=e;return e.isSubpathStart&&(e.subpathStartSegment=e,r=n),r&&this.updateSubpathStartSegment(r),e},removeSegment:function(e){var t=this.segments,n=t.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var r=t.splice(e,1)[0],s=r.previousSegment,a=r.nextSegment;s&&(s.nextSegment=a),a&&(a.previousSegment=s),r.isSubpathStart&&a&&this.updateSubpathStartSegment(a)},replaceSegment:function(e,t){var n=this.segments,r=n.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var s,a=n[e],l=a.previousSegment,c=a.nextSegment,f=a.isSubpathStart;if(Array.isArray(t)){if(t=t.reduce(function(x,w){return x.concat(w)},[]),!t[0].isSegment)throw new Error("Segments required.");n.splice(e,1);for(var p=t.length,g=0;g<p;g++){var h=t[g];s=this.prepareSegment(h,l,c),n.splice(e+g,0,s),l=s,f&&s.isSubpathStart&&(f=!1)}}else{if(!t||!t.isSegment)throw new Error("Segment required.");s=this.prepareSegment(t,l,c),n.splice(e,1,s),f&&s.isSubpathStart&&(f=!1)}f&&c&&this.updateSubpathStartSegment(c)},round:function(e){for(var t=this.segments,n=t.length,r=0;r<n;r++){var s=t[r];s.round(e)}return this},scale:function(e,t,n){for(var r=this.segments,s=r.length,a=0;a<s;a++){var l=r[a];l.scale(e,t,n)}return this},segmentAt:function(e,t){var n=this.segmentIndexAt(e,t);return n?this.getSegment(n):null},segmentAtLength:function(e,t){var n=this.segmentIndexAtLength(e,t);return n?this.getSegment(n):null},segmentIndexAt:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var s=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l={precision:s,segmentSubdivisions:a},c=this.length(l),f=c*e;return this.segmentIndexAtLength(f,l)},segmentIndexAtLength:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;var s=!0;e<0&&(s=!1,e=-e),t=t||{};for(var a=t.precision===void 0?this.PRECISION:t.precision,l=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:a}):t.segmentSubdivisions,c=null,f=0,p=0;p<r;p++){var g=s?p:r-1-p,h=n[g],x=l[g],w=h.length({precision:a,subdivisions:x});if(h.isVisible){if(e<=f+w)return g;c=g}f+=w}return c},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var s=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l={precision:s,segmentSubdivisions:a},c=this.length(l),f=c*e;return this.tangentAtLength(f,l)},tangentAtLength:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;var s=!0;e<0&&(s=!1,e=-e),t=t||{};for(var a=t.precision===void 0?this.PRECISION:t.precision,l=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:a}):t.segmentSubdivisions,c,f=0,p=0;p<r;p++){var g=s?p:r-1-p,h=n[g],x=l[g],w=h.length({precision:a,subdivisions:x});if(h.isDifferentiable()){if(e<=f+w)return h.tangentAtLength((s?1:-1)*(e-f),{precision:a,subdivisions:x});c=h}f+=w}if(c){var b=s?1:0;return c.tangentAtT(b)}return null},tangentAtT:function(e){var t=this.segments,n=t.length;if(n===0)return null;var r=e.segmentIndex;if(r<0)return t[0].tangentAtT(0);if(r>=n)return t[n-1].tangentAtT(1);var s=e.value;return s<0?s=0:s>1&&(s=1),t[r].tangentAtT(s)},toPoints:function(e){var t=this.segments,n=t.length;if(n===0)return null;e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,a=[],l=[],c=0;c<n;c++){var f=t[c];if(f.isVisible){var p=s[c];if(p.length>0){var g=p.map(function(h){return h.start});Array.prototype.push.apply(l,g)}else l.push(f.start)}else l.length>0&&(l.push(t[c-1].end),a.push(l),l=[])}return l.length>0&&(l.push(this.end),a.push(l)),a},toPolylines:function(e){var t=[],n=this.toPoints(e);if(!n)return null;for(var r=0,s=n.length;r<s;r++)t.push(new st(n[r]));return t},toString:function(){for(var e=this.segments,t=e.length,n="",r=0;r<t;r++){var s=e[r];n+=s.serialize()+" "}return n.trim()},translate:function(e,t){for(var n=this.segments,r=n.length,s=0;s<r;s++){var a=n[s];a.translate(e,t)}return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)t?e.subpathStartSegment=t.subpathStartSegment:e.subpathStartSegment=null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,Ce.createSegment("M",0,0)),this}};Object.defineProperty(Ce.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n=0;n<t;n++){var r=e[n];if(r.isVisible)return r.start}return e[t-1].end}});Object.defineProperty(Ce.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n=t-1;n>=0;n--){var r=e[n];if(r.isVisible)return r.end}return e[t-1].end}});function sr(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}var Ii={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Ii,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Ii,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(Ii,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var Mt=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Mt))return sr(Mt,e);if(t===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var r;if(e[0]instanceof ye){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new z(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var s;for(r=[],n=0;n<t;n+=2)s=e.slice(n,n+2),r.push(sr(Mt,s));return r}else{if(t===1)return this.end=new z(e[0]),this;var a;for(r=[],n=0;n<t;n+=1)a=e[n],r.push(new Mt(a));return r}},Qg={clone:function(){return new Mt(this.end)},divideAt:function(e){var t=new ye(this.start,this.end),n=t.divideAt(e);return[new Mt(n[0]),new Mt(n[1])]},divideAtLength:function(e){var t=new ye(this.start,this.end),n=t.divideAtLength(e);return[new Mt(n[0]),new Mt(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(Qg,"type",{configurable:!0,enumerable:!0,value:"L"});Mt.prototype=Do(Ii,ye.prototype,Qg);var cn=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof cn))return sr(cn,e);if(t===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var r;if(e[0]instanceof Ke){if(t===1)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===6)return this.controlPoint1=new z(+e[0],+e[1]),this.controlPoint2=new z(+e[2],+e[3]),this.end=new z(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var s;for(r=[],n=0;n<t;n+=6)s=e.slice(n,n+6),r.push(sr(cn,s));return r}else{if(t===3)return this.controlPoint1=new z(e[0]),this.controlPoint2=new z(e[1]),this.end=new z(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");var a;for(r=[],n=0;n<t;n+=3)a=e.slice(n,n+3),r.push(sr(cn,a));return r}},Kg={clone:function(){return new cn(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var n=new Ke(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAt(e,t);return[new cn(r[0]),new cn(r[1])]},divideAtLength:function(e,t){var n=new Ke(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAtLength(e,t);return[new cn(r[0]),new cn(r[1])]},divideAtT:function(e){var t=new Ke(this.start,this.controlPoint1,this.controlPoint2,this.end),n=t.divideAtT(e);return[new cn(n[0]),new cn(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(r))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,n=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(Kg,"type",{configurable:!0,enumerable:!0,value:"C"});cn.prototype=Do(Ii,Ke.prototype,Kg);var Pi=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Pi))return sr(Pi,e);if(t===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var r;if(e[0]instanceof ye){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(e[0]instanceof Ke){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new z(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var s;for(r=[],n=0;n<t;n+=2)s=e.slice(n,n+2),n===0?r.push(sr(Pi,s)):r.push(sr(Mt,s));return r}else{if(t===1)return this.end=new z(e[0]),this;var a;for(r=[],n=0;n<t;n+=1)a=e[n],n===0?r.push(new Pi(a)):r.push(new Mt(a));return r}},vf={bbox:function(){return null},clone:function(){return new Pi(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(vf,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(vf,"type",{configurable:!0,enumerable:!0,value:"M"});Pi.prototype=Do(Ii,vf);var Cs=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Cs))return sr(Cs,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},yf={clone:function(){return new Cs},divideAt:function(e){var t=new ye(this.start,this.end),n=t.divideAt(e);return[n[1].isDifferentiable()?new Mt(n[0]):this.clone(),new Mt(n[1])]},divideAtLength:function(e){var t=new ye(this.start,this.end),n=t.divideAtLength(e);return[n[1].isDifferentiable()?new Mt(n[0]):this.clone(),new Mt(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(yf,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(yf,"type",{configurable:!0,enumerable:!0,value:"Z"});Cs.prototype=Do(Ii,ye.prototype,yf);var s1=Ce.segmentTypes={L:Mt,C:cn,M:Pi,Z:Cs,z:Cs};Ce.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(s1).join("")+",.]*$");Ce.isDataSupported=function(e){return typeof e!="string"?!1:this.regexSupportedData.test(e)};const o1={curveThroughPoints:function(e){return console.warn("deprecated"),new Ce(Ke.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var t=[],n=[],r=e.length-1,s;if(r==1)return t[0]=new z((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),n[0]=new z(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,n];var a=[];for(s=1;s<r-1;s++)a[s]=4*e[s].x+2*e[s+1].x;a[0]=e[0].x+2*e[1].x,a[r-1]=(8*e[r-1].x+e[r].x)/2;var l=this.getFirstControlPoints(a);for(s=1;s<r-1;++s)a[s]=4*e[s].y+2*e[s+1].y;a[0]=e[0].y+2*e[1].y,a[r-1]=(8*e[r-1].y+e[r].y)/2;var c=this.getFirstControlPoints(a);for(s=0;s<r;s++)t.push(new z(l[s],c[s])),s<r-1?n.push(new z(2*e[s+1].x-l[s+1],2*e[s+1].y-c[s+1])):n.push(new z((e[r].x+l[r-1])/2,(e[r].y+c[r-1])/2));return[t,n]},getCurveDivider:function(e,t,n,r){console.warn("deprecated");var s=new Ke(e,t,n,r);return function(l){var c=s.divide(l);return[{p0:c[0].start,p1:c[0].controlPoint1,p2:c[0].controlPoint2,p3:c[0].end},{p0:c[1].start,p1:c[1].controlPoint1,p2:c[1].controlPoint2,p3:c[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,n=[],r=[],s=2;n[0]=e[0]/s;for(var a=1;a<t;a++)r[a]=1/s,s=(a<t-1?4:3.5)-r[a],n[a]=(e[a]-n[a-1])/s;for(a=1;a<t;a++)n[t-a-1]-=r[t-a]*n[t-a];return n},getInversionSolver:function(e,t,n,r){console.warn("deprecated");var s=new Ke(e,t,n,r);return function(l){return s.closestPointT(l)}}},tn=function(e){if(!(this instanceof tn))return new tn(e);if(typeof e=="string")return new tn.parse(e);this.points=Array.isArray(e)?e.map(z):[]};tn.parse=function(e){return new tn(Yg(e))};tn.fromRect=function(e){return new tn([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])};tn.prototype=Do(st.prototype,{type:ze.Polygon,clone:function(){return new tn(Xg(this.points))},convexHull:function(){return new tn(Zg(this.points))},lengthPoints:function(){const{start:e,end:t,points:n}=this;return n.length<=1||e.equals(t)?n:[...n,e.clone()]}});function Jg(e,t,n,r){switch(e.type){case ze.Line:{switch(t.type){case ze.Line:return Ti(e,t)}break}case ze.Ellipse:{switch(t.type){case ze.Line:return xf(e,t);case ze.Ellipse:return em(e,t)}break}case ze.Rect:{switch(t.type){case ze.Line:return tm(e,t);case ze.Ellipse:return nm(e,t);case ze.Rect:return wf(e,t)}break}case ze.Polyline:{switch(t.type){case ze.Line:return Ml(e,t);case ze.Ellipse:return Sf(e,t);case ze.Rect:return rm(e,t);case ze.Polyline:return im(e,t)}break}case ze.Polygon:{switch(t.type){case ze.Line:return bf(e,t);case ze.Ellipse:return Nl(e,t);case ze.Rect:return sm(e,t);case ze.Polyline:return om(e,t);case ze.Polygon:return am(e,t)}break}case ze.Path:{switch(t.type){case ze.Line:return lm(e,t,n);case ze.Ellipse:return um(e,t,n);case ze.Rect:return cm(e,t,n);case ze.Polyline:return Ef(e,t,n);case ze.Polygon:return Ol(e,t,n);case ze.Path:return fm(e,t,n,r)}break}}switch(t.type){case ze.Ellipse:case ze.Rect:case ze.Polyline:case ze.Polygon:case ze.Path:return Jg(t,e,r,n);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function Ti(e,t){const n=e.start.x,r=e.start.y,s=e.end.x,a=e.end.y,l=t.start.x,c=t.start.y,f=t.end.x,p=t.end.y,g=s-n,h=a-r,x=f-l,w=p-c,b=n-l,P=r-c,T=g*w-x*h,C=(g*P-h*b)/T,L=(x*P-w*b)/T;return C>=0&&C<=1&&L>=0&&L<=1}function xf(e,t){const n=e.a,r=e.b,s=e.x,a=e.y,l=t.start.x-s,c=t.end.x-s,f=t.start.y-a,p=t.end.y-a,g=n*n,h=r*r,x=c-l,w=p-f,b=x*x/g+w*w/h,P=2*l*x/g+2*f*w/h,T=l*l/g+f*f/h-1,C=P*P-4*b*T;if(C===0){const L=-P/2/b;return L>=0&&L<=1}else if(C>0){const L=Math.sqrt(C),M=(-P+L)/2/b,R=(-P-L)/2/b;return M>=0&&M<=1||R>=0&&R<=1}return!1}function em(e,t){return a1(e,0,t,0)}function tm(e,t){const{start:n,end:r}=t,{x:s,y:a,width:l,height:c}=e;return n.x>s+l&&r.x>s+l||n.x<s&&r.x<s||n.y>a+c&&r.y>a+c||n.y<a&&r.y<a?!1:e.containsPoint(t.start)||e.containsPoint(t.end)?!0:Ti(e.topLine(),t)||Ti(e.rightLine(),t)||Ti(e.bottomLine(),t)||Ti(e.leftLine(),t)}function nm(e,t){return wf(e,he.fromEllipse(t))?Nl(tn.fromRect(e),t):!1}function wf(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Ml(e,t){return dm(e,t,{interior:!1})}function Sf(e,t){return hm(e,t,{interior:!1})}function rm(e,t){return pm(e,t,{interior:!1})}function im(e,t){return Fl(e,t,{interior:!1})}function bf(e,t){return dm(e,t,{interior:!0})}function Nl(e,t){return hm(e,t,{interior:!0})}function sm(e,t){return pm(e,t,{interior:!0})}function om(e,t){return Fl(e,t,{interior:!0})}function am(e,t){return Af(e,t,{interior:!0})}function lm(e,t,n){return e.getSubpaths().some(r=>{const[s]=r.toPolylines(n),{type:a}=r.getSegment(-1);return a==="Z"?bf(s,t):Ml(s,t)})}function um(e,t,n){return e.getSubpaths().some(r=>{const[s]=r.toPolylines(n),{type:a}=r.getSegment(-1);return a==="Z"?Nl(s,t):Sf(s,t)})}function cm(e,t,n){return Ol(e,tn.fromRect(t),n)}function Ef(e,t,n){return gm(e,t,n,{interior:!1})}function Ol(e,t,n){return gm(e,t,n,{interior:!0})}function fm(e,t,n,r){return e.getSubpaths().some(s=>{const[a]=s.toPolylines(n),{type:l}=s.getSegment(-1);return l==="Z"?Ol(t,a,r):Ef(t,a,r)})}function dm(e,t,n={}){const{interior:r=!1}=n;let s;if(r){if(e.containsPoint(t.start))return!0;const{start:c,end:f,points:p}=e;s=f.equals(c)?p:[...p,c]}else s=e.points;const{length:a}=s,l=new ye;for(let c=0;c<a-1;c++)if(l.start=s[c],l.end=s[c+1],Ti(t,l))return!0;return!1}function hm(e,t,n={}){const{start:r,end:s,points:a}=e;if(t.containsPoint(r))return!0;let l;const{interior:c=!1}=n;if(c){if(e.containsPoint(t.center()))return!0;l=s.equals(r)?a:[...a,r]}else l=a;const{length:f}=l,p=new ye;for(let g=0;g<f-1;g++)if(p.start=l[g],p.end=l[g+1],xf(t,p))return!0;return!1}function pm(e,t,n){const r=tn.fromRect(t);return Af(e,r,n)}function gm(e,t,n,r){return e.getSubpaths().some(s=>{const[a]=s.toPolylines(n),{type:l}=s.getSegment(-1);return l==="Z"?Af(t,a,r):Fl(t,a,r)})}function Fl(e,t,n={}){const{interior:r=!1}=n;let s;if(r){const{start:f}=t;if(e.containsPoint(f))return!0;s=e.clone().close()}else s=e;const a=t.points,{length:l}=a,c=new ye;for(let f=0;f<l-1;f++)if(c.start=a[f],c.end=a[f+1],Ml(s,c))return!0;return!1}function Af(e,t,n){return t.containsPoint(e.start)||Fl(e,t.clone().close(),n)}function a1(e,t,n,r){const{cos:s,sin:a}=Math,l=a(t),c=s(t),f=a(r),p=s(r),g=l*l,h=c*c,x=l*c,w=f*f,b=p*p,P=f*p,T=e.a*e.a,C=e.b*e.b,L=n.a*n.a,M=n.b*n.b,R=T*g+C*h,G=L*w+M*b,Z=T*h+C*g,v=L*b+M*w;let S=2*(C-T)*x,E=2*(M-L)*P,k=-2*R*e.x-S*e.y,O=-2*G*n.x-E*n.y,U=-S*e.x-2*Z*e.y,W=-E*n.x-2*v*n.y;const Q=R*e.x*e.x+Z*e.y*e.y+S*e.x*e.y-T*C,ie=G*n.x*n.x+v*n.y*n.y+E*n.x*n.y-L*M;S=S/2,E=E/2,k=k/2,O=O/2,U=U/2,W=W/2;const I=Qr([[R,S,k],[S,Z,U],[k,U,Q]]),B=Qr([[G,E,O],[E,v,W],[O,W,ie]]),N=.33333333*(Qr([[G,S,k],[E,Z,U],[O,U,Q]])+Qr([[R,E,k],[S,v,U],[k,W,Q]])+Qr([[R,S,O],[S,Z,W],[k,U,ie]])),D=.33333333*(Qr([[R,E,O],[S,v,W],[k,W,ie]])+Qr([[G,S,O],[E,Z,W],[O,U,ie]])+Qr([[G,E,k],[E,v,U],[O,W,Q]])),$=il([[I,N],[N,D]]),_=il([[I,D],[N,B]]),j=il([[N,D],[D,B]]);return!(il([[2*$,_],[_,2*j]])>0&&(D>0||N>0))}function il(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function Qr(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}const l1=Object.freeze(Object.defineProperty({__proto__:null,ellipseWithEllipse:em,ellipseWithLine:xf,exists:Jg,lineWithLine:Ti,pathWithEllipse:um,pathWithLine:lm,pathWithPath:fm,pathWithPolygon:Ol,pathWithPolyline:Ef,pathWithRect:cm,polygonWithEllipse:Nl,polygonWithLine:bf,polygonWithPolygon:am,polygonWithPolyline:om,polygonWithRect:sm,polylineWithEllipse:Sf,polylineWithLine:Ml,polylineWithPolyline:im,polylineWithRect:rm,rectWithEllipse:nm,rectWithLine:tm,rectWithRect:wf},Symbol.toStringTag,{value:"Module"})),Ci=l1,u1=Object.freeze(Object.defineProperty({__proto__:null,Curve:Ke,Ellipse:Ht,Line:ye,Path:Ce,Point:z,Polygon:tn,Polyline:st,Rect:he,bezier:o1,ellipse:J0,intersection:Ci,line:_i,normalizeAngle:kn,point:bl,random:Xc,rect:r1,scale:Y0,snapToGrid:Mi,toDeg:Ll,toRad:en,types:ze},Symbol.toStringTag,{value:"Module"})),re=function(){var e=typeof window=="object"&&!!window.SVGAngle;if(!e)return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},n="1.1",r=Math,s=r.PI,a=r.atan2,l=r.sqrt,c=r.min,f=r.max,p=r.cos,g=r.sin,h=function(v,S,E){if(!(this instanceof h))return h.apply(Object.create(h.prototype),arguments);if(v){if(h.isV(v)&&(v=v.node),S=S||{},h.isString(v)){if(v=v.trim(),v.toLowerCase()==="svg")v=h.createSvgDocument();else if(v[0]==="<"){var k=h.createSvgDocument(v);if(k.childNodes.length>1){var O=[],U,W;for(U=0,W=k.childNodes.length;U<W;U++){var Q=k.childNodes[U];O.push(new h(document.importNode(Q,!0)))}return O}v=document.importNode(k.firstChild,!0)}else v=document.createElementNS(t.svg,v);h.ensureId(v)}return this.node=v,this.setAttributes(S),E&&this.append(E),this}},x=h.prototype;Object.defineProperty(x,"id",{enumerable:!0,get:function(){return this.node.id},set:function(v){this.node.id=v}}),x.getTransformToElement=function(v){var S=this.node;if(h.isSVGGraphicsElement(v)&&h.isSVGGraphicsElement(S)){var E=h.toNode(v).getScreenCTM(),k=S.getScreenCTM();if(E&&k)return E.inverse().multiply(k)}return h.createSVGMatrix()},x.transform=function(v,S){var E=this.node;if(h.isUndefined(v))return h.transformStringToMatrix(this.attr("transform"));if(S&&S.absolute)return this.attr("transform",h.matrixToTransformString(v));var k=h.createSVGTransform(v);return E.transform.baseVal.appendItem(k),this},x.translate=function(v,S,E){E=E||{},S=S||0;var k=this.attr("transform")||"",O=h.parseTransformString(k);if(k=O.value,h.isUndefined(v))return O.translate;k=k.replace(/translate\([^)]*\)/g,"").trim();var U=E.absolute?v:O.translate.tx+v,W=E.absolute?S:O.translate.ty+S,Q="translate("+U+","+W+")";return this.attr("transform",(Q+" "+k).trim()),this},x.rotate=function(v,S,E,k){k=k||{};var O=this.attr("transform")||"",U=h.parseTransformString(O);if(O=U.value,h.isUndefined(v))return U.rotate;O=O.replace(/rotate\([^)]*\)/g,"").trim(),v%=360;var W=k.absolute?v:U.rotate.angle+v,Q=S!==void 0&&E!==void 0?","+S+","+E:"",ie="rotate("+W+Q+")";return this.attr("transform",(O+" "+ie).trim()),this},x.scale=function(v,S){S=h.isUndefined(S)?v:S;var E=this.attr("transform")||"",k=h.parseTransformString(E);if(E=k.value,h.isUndefined(v))return k.scale;E=E.replace(/scale\([^)]*\)/g,"").trim();var O="scale("+v+","+S+")";return this.attr("transform",(E+" "+O).trim()),this},x.bbox=function(v,S){var E,k=this.node,O=k.ownerSVGElement;if(!O)return new he(0,0,0,0);try{E=k.getBBox()}catch{E={x:k.clientLeft,y:k.clientTop,width:k.clientWidth,height:k.clientHeight}}if(v)return new he(E);var U=this.getTransformToElement(S||O);return h.transformRect(E,U)},x.getBBox=function(v){var S={},E,k=this.node,O=k.ownerSVGElement;if(!O||!h.isSVGGraphicsElement(k))return new he(0,0,0,0);if(v&&(v.target&&(S.target=h.toNode(v.target)),v.recursive&&(S.recursive=v.recursive)),S.recursive){var W=this.children(),Q=W.length;if(Q===0)return this.getBBox({target:S.target,recursive:!1});S.target||(S.target=this);for(var ie=0;ie<Q;ie++){var I=W[ie],B;I.children().length===0?B=I.getBBox({target:S.target,recursive:!1}):B=I.getBBox({target:S.target,recursive:!0}),E?E=E.union(B):E=B}return E}else{try{E=k.getBBox()}catch{E={x:k.clientLeft,y:k.clientTop,width:k.clientWidth,height:k.clientHeight}}if(S.target){var U=this.getTransformToElement(S.target);return h.transformRect(E,U)}else return new he(E)}};function w(v,S){v||(v={});var E=h("textPath"),k=v.d;if(k&&v["xlink:href"]===void 0){var O=h("path").attr("d",k).appendTo(S.defs());E.attr("xlink:href","#"+O.id)}return h.isObject(v)&&E.attr(v),E.node}function b(v,S,E){for(var k=E.includeAnnotationIndices,O=E.eol,U=E.lineHeight,W=E.baseSize,Q=0,ie={},I=S.length-1,B=0;B<=I;B++){var N=S[B],D=null;if(h.isObject(N)){var $=N.attrs,_=h("tspan",$),j=_.node,me=N.t;O&&B===I&&(me+=O),j.textContent=me;var se=$.class;se&&_.addClass(se),k&&_.attr("annotations",N.annotations),D=parseFloat($["font-size"]),isFinite(D)||(D=W),D&&D>Q&&(Q=D)}else O&&B===I&&(N+=O),j=document.createTextNode(N||" "),W&&W>Q&&(Q=W);v.appendChild(j)}return Q&&(ie.maxFontSize=Q),U?ie.lineHeight=U:Q&&(ie.lineHeight=Q*1.2),ie}var P=/em$/;function T(v,S){var E=parseFloat(v);return P.test(v)?E*S:E}function C(v,S,E,k){if(!Array.isArray(S))return 0;var O=S.length;if(!O)return 0;for(var U=S[0],W=T(U.maxFontSize,E)||E,Q=0,ie=T(k,E),I=1;I<O;I++){U=S[I];var B=T(U.lineHeight,E)||ie;Q+=B}var N=T(U.maxFontSize,E)||E,D;switch(v){case"middle":D=W/2-.15*N-Q/2;break;case"bottom":D=-(.25*N)-Q;break;default:case"top":D=.8*W;break}return D}x.text=function(v,S){if(v&&typeof v!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");v=h.sanitizeText(v),S||(S={});var E=S.displayEmpty,k=S.eol,O=S.textPath,U=S.textVerticalAnchor,W=U==="middle"||U==="bottom"||U==="top",Q=S.x;Q===void 0&&(Q=this.attr("x")||0);var ie=S.includeAnnotationIndices,I=S.annotations;I&&!h.isArray(I)&&(I=[I]);var B=S.lineHeight,N=B==="auto",D=N?"1.5em":B||"1em";this.empty(),this.attr({"xml:space":"preserve",display:v||E?null:"none"});var $=parseFloat(this.attr("font-size"));$||($=16,(W||I)&&this.attr("font-size",$));var _=document,j;O?(typeof O=="string"&&(O={d:O}),j=w(O,this)):j=_.createDocumentFragment();for(var me=0,se=v.split(`
`),ue=[],fe,te=0,oe=se.length-1;te<=oe;te++){var ve=D,Oe="v-line",ke=_.createElementNS(t.svg,"tspan"),De=se[te],Le;if(De)if(I){var Ee=h.annotateString(De,I,{offset:-me,includeAnnotationIndices:ie});Le=b(ke,Ee,{includeAnnotationIndices:ie,eol:te!==oe&&k,lineHeight:N?null:D,baseSize:$});var Fe=Le.lineHeight;Fe&&N&&te!==0&&(ve=Fe),te===0&&(fe=Le.maxFontSize*.8)}else k&&te!==oe&&(De+=k),ke.textContent=De;else{ke.textContent="-",Oe+=" v-empty-line";var ge=ke.style;if(ge.fillOpacity=0,ge.strokeOpacity=0,I){Le={},Ee=h.findAnnotationsAtIndex(I,me);let ee=$;for(let J=Ee.length;J>0;J--){const be=Ee[J-1].attrs;if(!be||!("font-size"in be))continue;const He=parseFloat(be["font-size"]);if(isFinite(He)){ee=He;break}}N&&(te>0?ve=ee*1.2:fe=ee*.8),ke.setAttribute("font-size",ee),Le.maxFontSize=ee}}Le&&ue.push(Le),te>0&&ke.setAttribute("dy",ve),(te>0||O)&&ke.setAttribute("x",Q),ke.className.baseVal=Oe,j.appendChild(ke),me+=De.length+1}if(W)if(I)ve=C(U,ue,$,D);else if(U==="top")ve="0.8em";else{var q;switch(oe>0?(q=parseFloat(D)||1,q*=oe,P.test(D)||(q/=$)):q=0,U){case"middle":ve=.3-q/2+"em";break;case"bottom":ve=-q-.3+"em";break}}else U===0?ve="0em":U?ve=U:(ve=0,this.attr("y")===null&&this.attr("y",fe||"0.8em"));return j.firstChild.setAttribute("dy",ve),this.append(j),this},x.removeAttr=function(v){const S=G[v],{ns:E,local:k}=h.qualifyAttr(S),O=this.node;return E?O.hasAttributeNS(E,k)&&O.removeAttributeNS(E,k):O.hasAttribute(S)&&O.removeAttribute(S),this},x.attr=function(v,S){if(h.isUndefined(v)){for(var E=this.node.attributes,k={},O=0;O<E.length;O++)k[E[O].name]=E[O].value;return k}if(h.isString(v)&&h.isUndefined(S))return this.node.getAttribute(G[v]);if(typeof v=="object")for(var U in v)v.hasOwnProperty(U)&&this.setAttribute(U,v[U]);else this.setAttribute(v,S);return this},x.normalizePath=function(){var v=this.tagName();return v==="PATH"&&this.attr("d",h.normalizePathData(this.attr("d"))),this},x.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},x.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},x.setAttributes=function(v){for(var S in v)v.hasOwnProperty(S)&&this.setAttribute(S,v[S]);return this},x.append=function(v){h.isArray(v)||(v=[v]);for(var S=0,E=v.length;S<E;S++)this.node.appendChild(h.toNode(v[S]));return this},x.prepend=function(v){var S=this.node.firstChild;return S?h(S).before(v):this.append(v)},x.before=function(v){var S=this.node,E=S.parentNode;if(E){h.isArray(v)||(v=[v]);for(var k=0,O=v.length;k<O;k++)E.insertBefore(h.toNode(v[k]),S)}return this},x.appendTo=function(v){return h.toNode(v).appendChild(this.node),this},x.svg=function(){return this.node instanceof window.SVGSVGElement?this:h(this.node.ownerSVGElement)},x.tagName=function(){return this.node.tagName.toUpperCase()},x.defs=function(){var v=this.svg()||this,S=v.node.getElementsByTagName("defs")[0];return S?h(S):h("defs").appendTo(v)},x.clone=function(){var v=h(this.node.cloneNode(!0));return v.node.id=h.uniqueId(),v},x.findOne=function(v){var S=this.node.querySelector(v);return S?h(S):void 0},x.find=function(v){var S=[],E=this.node.querySelectorAll(v);if(E)for(var k=0;k<E.length;k++)S.push(h(E[k]));return S},x.children=function(){for(var v=this.node.childNodes,S=[],E=0;E<v.length;E++){var k=v[E];k.nodeType===1&&S.push(h(v[E]))}return S},x.parent=function(){return h(this.node.parentNode)||null},x.index=function(){for(var v=0,S=this.node.previousSibling;S;)S.nodeType===1&&v++,S=S.previousSibling;return v},x.findParentByClass=function(v,S){for(var E=this.node.ownerSVGElement,k=this.node.parentNode;k&&k!==S&&k!==E;){var O=h(k);if(O.hasClass(v))return O;k=k.parentNode}return null},x.contains=function(v){var S=this.node,E=h.toNode(v),k=E&&E.parentNode;return S===k||!!(k&&k.nodeType===1&&S.compareDocumentPosition(k)&16)},x.toLocalPoint=function(v,S){var E=this.svg().node,k=E.createSVGPoint();k.x=v,k.y=S;try{var O=k.matrixTransform(E.getScreenCTM().inverse()),U=this.getTransformToElement(E).inverse()}catch{return k}return O.matrixTransform(U)},x.translateCenterToPoint=function(v){var S=this.getBBox({target:this.svg()}),E=S.center();return this.translate(v.x-E.x,v.y-E.y),this},x.translateAndAutoOrient=function(v,S,E){v=new z(v),S=new z(S),E||(E=this.svg());var k=this.scale();this.attr("transform","");var O=this.getBBox({target:E}).scale(k.sx,k.sy),U=h.createSVGTransform();U.setTranslate(-O.x-O.width/2,-O.y-O.height/2);var W=h.createSVGTransform(),Q=v.angleBetween(S,v.clone().offset(1,0));Q&&W.setRotate(Q,0,0);var ie=h.createSVGTransform(),I=v.clone().move(S,O.width/2);ie.setTranslate(2*v.x-I.x,2*v.y-I.y);var B=this.getTransformToElement(E),N=h.createSVGTransform();return N.setMatrix(ie.matrix.multiply(W.matrix.multiply(U.matrix.multiply(B.scale(k.sx,k.sy))))),this.attr("transform",h.matrixToTransformString(N.matrix)),this},x.animateAlongPath=function(v,S){S=h.toNode(S);var E=h.ensureId(S),k=h("animateMotion",v),O=h("mpath",{"xlink:href":"#"+E});k.append(O),this.append(k);try{k.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var U=k.node;U.animators=[];var W=U.getAttribute("id");W&&(id2anim[W]=U);for(var Q=getTargets(U),ie=0,I=Q.length;ie<I;ie++){var B=Q[ie],N=new Animator(U,B,ie);animators.push(N),U.animators[ie]=N,N.register()}}}return this};const L=/[^\x20\t\r\n\f]+/g;function M(v){return h.isString(v)?v.trim().match(L)||[]:[]}x.hasClass=function(v){return h.isString(v)?this.node.classList.contains(v.trim()):!1},x.addClass=function(v){return this.node.classList.add(...M(v)),this},x.removeClass=function(v){return this.node.classList.remove(...M(v)),this},x.toggleClass=function(v,S){const E=M(v);for(let k=0;k<E.length;k++)this.node.classList.toggle(E[k],S);return this},x.sample=function(v){v=v||1;for(var S=this.node,E=S.getTotalLength(),k=[],O=0,U;O<E;)U=S.getPointAtLength(O),k.push({x:U.x,y:U.y,distance:O}),O+=v;return k},x.convertToPath=function(){var v=h("path");v.attr(this.attr());var S=this.convertToPathData();return S&&v.attr("d",S),v},x.convertToPathData=function(){var v=this.tagName();switch(v){case"PATH":return this.attr("d");case"LINE":return h.convertLineToPathData(this.node);case"POLYGON":return h.convertPolygonToPathData(this.node);case"POLYLINE":return h.convertPolylineToPathData(this.node);case"ELLIPSE":return h.convertEllipseToPathData(this.node);case"CIRCLE":return h.convertCircleToPathData(this.node);case"RECT":return h.convertRectToPathData(this.node)}throw new Error(v+" cannot be converted to PATH.")},h.prototype.toGeometryShape=function(){var v,S,E,k,O,U,W,Q,ie,I,B,N,D,$,_;switch(this.tagName()){case"RECT":return v=parseFloat(this.attr("x"))||0,S=parseFloat(this.attr("y"))||0,E=parseFloat(this.attr("width"))||0,k=parseFloat(this.attr("height"))||0,new he(v,S,E,k);case"CIRCLE":return O=parseFloat(this.attr("cx"))||0,U=parseFloat(this.attr("cy"))||0,W=parseFloat(this.attr("r"))||0,new Ht({x:O,y:U},W,W);case"ELLIPSE":return O=parseFloat(this.attr("cx"))||0,U=parseFloat(this.attr("cy"))||0,Q=parseFloat(this.attr("rx"))||0,ie=parseFloat(this.attr("ry"))||0,new Ht({x:O,y:U},Q,ie);case"POLYLINE":return I=h.getPointsFromSvgNode(this),new st(I);case"POLYGON":return I=h.getPointsFromSvgNode(this),I.length>1&&I.push(I[0]),new st(I);case"PATH":return B=this.attr("d"),Ce.isDataSupported(B)||(B=h.normalizePathData(B)),new Ce(B);case"LINE":return N=parseFloat(this.attr("x1"))||0,$=parseFloat(this.attr("y1"))||0,D=parseFloat(this.attr("x2"))||0,_=parseFloat(this.attr("y2"))||0,new ye({x:N,y:$},{x:D,y:_})}return this.getBBox()},x.findIntersection=function(v,S){var E=this.svg().node;S=S||E;var k=this.getBBox({target:S}),O=k.center();if(k.intersectionWithLineFromCenterToPoint(v)){var U,W=this.tagName();if(W==="RECT"){var Q=new he(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),ie=this.getTransformToElement(S),I=h.decomposeMatrix(ie),B=E.createSVGTransform();B.setRotate(-I.rotation,O.x,O.y);var N=h.transformRect(Q,B.matrix.multiply(ie));U=new he(N).intersectionWithLineFromCenterToPoint(v,I.rotation)}else if(W==="PATH"||W==="POLYGON"||W==="POLYLINE"||W==="CIRCLE"||W==="ELLIPSE"){var D=W==="PATH"?this:this.convertToPath(),$=D.sample(),_=1/0,j=[],me,se,ue,fe,te,oe;for(me=0;me<$.length;me++)se=$[me],ue=h.createSVGPoint(se.x,se.y),ue=ue.matrixTransform(this.getTransformToElement(S)),se=new z(ue),fe=se.distance(O),te=se.distance(v)*1.1,oe=fe+te,oe<_?(_=oe,j=[{sample:se,refDistance:te}]):oe<_+1&&j.push({sample:se,refDistance:te});j.sort(function(ve,Oe){return ve.refDistance-Oe.refDistance}),j[0]&&(U=j[0].sample)}return U}},x.setAttribute=function(v,S){const E=this.node;if(S===null)return this.removeAttr(v),this;const k=G[v],{ns:O}=h.qualifyAttr(k);return O?E.setAttributeNS(O,k,S):k==="id"?E.id=S:E.setAttribute(k,S),this},h.createSvgDocument=function(v){if(v){const E=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="${n}">${v}</svg>`,{documentElement:k}=h.parseXML(E,{async:!1});return k}const S=document.createElementNS(t.svg,"svg");return S.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),S.setAttribute("version",n),S},h.createSVGStyle=function(v){const{node:S}=h("style",{type:"text/css"},[h.createCDATASection(v)]);return S},h.createCDATASection=function(v=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(v)},h.idCounter=0,h.uniqueId=function(){return"v-"+ ++h.idCounter},h.toNode=function(v){return h.isV(v)?v.node:v.nodeName&&v||v[0]},h.ensureId=function(v){return v=h.toNode(v),v.id||(v.id=h.uniqueId())},h.sanitizeText=function(v){return(v||"").replace(/ /g," ")},h.isUndefined=function(v){return typeof v>"u"},h.isString=function(v){return typeof v=="string"},h.isObject=function(v){return v&&typeof v=="object"},h.isArray=Array.isArray,h.parseXML=function(v,S){S=S||{};var E;try{var k=new DOMParser;h.isUndefined(S.async)||(k.async=S.async),E=k.parseFromString(v,"text/xml")}catch{E=void 0}if(!E||E.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+v);return E};const R=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(v=>R[v]=v),R.xlinkShow="xlink:show",R.xlinkRole="xlink:role",R.xlinkActuate="xlink:actuate",R.xlinkHref="xlink:href",R.xlinkType="xlink:type",R.xlinkTitle="xlink:title",R.xmlBase="xml:base",R.xmlLang="xml:lang",R.xmlSpace="xml:space";const G=new Proxy(R,{get(v,S){return h.supportCamelCaseAttributes?S in v?v[S]:v[S]=S.replace(/[A-Z]/g,"-$&").toLowerCase():S}});Object.defineProperty(h,"attributeNames",{enumerable:!0,value:G,writable:!1}),Object.defineProperty(h,"supportCamelCaseAttributes",{enumerable:!0,value:!0,writable:!0}),h.qualifyAttr=function(v){if(v.indexOf(":")!==-1){var S=v.split(":");return{ns:t[S[0]],local:S[1]}}return{ns:null,local:v}},h.transformSeparatorRegex=/[ ,]+/,h.transformRegex=/\b\w+\([^()]+\)/g,h.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,h.transformTranslateRegex=/\btranslate\(([^()]+)\)/,h.transformRotateRegex=/\brotate\(([^()]+)\)/,h.transformScaleRegex=/\bscale\(([^()]+)\)/,h.transformStringToMatrix=function(v){let S=h.createSVGMatrix();const E=v&&v.match(h.transformRegex);if(!E)return S;const k=E.length;for(let O=0;O<k;O++){const W=E[O].match(h.transformFunctionRegex);if(W){let Q,ie,I,B,N,D=h.createSVGMatrix();const $=W[1].toLowerCase(),_=W[2].split(h.transformSeparatorRegex);switch($){case"scale":Q=parseFloat(_[0]),ie=_[1]===void 0?Q:parseFloat(_[1]),D=D.scaleNonUniform(Q,ie);break;case"translate":I=parseFloat(_[0]),B=parseFloat(_[1]),D=D.translate(I,B);break;case"rotate":N=parseFloat(_[0]),I=parseFloat(_[1])||0,B=parseFloat(_[2])||0,I!==0||B!==0?D=D.translate(I,B).rotate(N).translate(-I,-B):D=D.rotate(N);break;case"skewx":N=parseFloat(_[0]),D=D.skewX(N);break;case"skewy":N=parseFloat(_[0]),D=D.skewY(N);break;case"matrix":D.a=parseFloat(_[0]),D.b=parseFloat(_[1]),D.c=parseFloat(_[2]),D.d=parseFloat(_[3]),D.e=parseFloat(_[4]),D.f=parseFloat(_[5]);break;default:continue}S=S.multiply(D)}}return S},h.matrixToTransformString=function(v){return v||(v=!0),"matrix("+(v.a!==void 0?v.a:1)+","+(v.b!==void 0?v.b:0)+","+(v.c!==void 0?v.c:0)+","+(v.d!==void 0?v.d:1)+","+(v.e!==void 0?v.e:0)+","+(v.f!==void 0?v.f:0)+")"},h.parseTransformString=function(v){var S,E,k;if(v){var O=h.transformSeparatorRegex;if(v.trim().indexOf("matrix")>=0){var U=h.transformStringToMatrix(v),W=h.decomposeMatrix(U);S=[W.translateX,W.translateY],k=[W.scaleX,W.scaleY],E=[W.rotation];var Q=[];(S[0]!==0||S[1]!==0)&&Q.push("translate("+S+")"),(k[0]!==1||k[1]!==1)&&Q.push("scale("+k+")"),E[0]!==0&&Q.push("rotate("+E+")"),v=Q.join(" ")}else{const I=v.match(h.transformTranslateRegex);I&&(S=I[1].split(O));const B=v.match(h.transformRotateRegex);B&&(E=B[1].split(O));const N=v.match(h.transformScaleRegex);N&&(k=N[1].split(O))}}var ie=k&&k[0]?parseFloat(k[0]):1;return{value:v,translate:{tx:S&&S[0]?parseInt(S[0],10):0,ty:S&&S[1]?parseInt(S[1],10):0},rotate:{angle:E&&E[0]?parseInt(E[0],10):0,cx:E&&E[1]?parseInt(E[1],10):void 0,cy:E&&E[2]?parseInt(E[2],10):void 0},scale:{sx:ie,sy:k&&k[1]?parseFloat(k[1]):ie}}},h.deltaTransformPoint=function(v,S){var E=S.x*v.a+S.y*v.c+0,k=S.x*v.b+S.y*v.d+0;return{x:E,y:k}},h.decomposeMatrix=function(v){var S=h.deltaTransformPoint(v,{x:0,y:1}),E=h.deltaTransformPoint(v,{x:1,y:0}),k=180/s*a(S.y,S.x)-90,O=180/s*a(E.y,E.x);return{translateX:v.e,translateY:v.f,scaleX:l(v.a*v.a+v.b*v.b),scaleY:l(v.c*v.c+v.d*v.d),skewX:k,skewY:O,rotation:k}},h.matrixToScale=function(v){var S,E,k,O;return v?(S=h.isUndefined(v.a)?1:v.a,O=h.isUndefined(v.d)?1:v.d,E=v.b,k=v.c):S=O=1,{sx:E?l(S*S+E*E):S,sy:k?l(k*k+O*O):O}},h.matrixToRotate=function(v){var S={x:0,y:1};return v&&(S=h.deltaTransformPoint(v,S)),{angle:kn(Ll(a(S.y,S.x))-90)}},h.matrixToTranslate=function(v){return{tx:v&&v.e||0,ty:v&&v.f||0}},h.isV=function(v){return v instanceof h},h.isVElement=h.isV,h.isSVGGraphicsElement=function(v){return v?(v=h.toNode(v),v instanceof SVGElement&&typeof v.getScreenCTM=="function"):!1};var Z=h("svg").node;return h.createSVGMatrix=function(v){var S=Z.createSVGMatrix();for(var E in v)S[E]=v[E];return S},h.createSVGTransform=function(v){return h.isUndefined(v)?Z.createSVGTransform():(v instanceof SVGMatrix||(v=h.createSVGMatrix(v)),Z.createSVGTransformFromMatrix(v))},h.createSVGPoint=function(v,S){var E=Z.createSVGPoint();return E.x=v,E.y=S,E},h.transformRect=function(v,S){var E=Z.createSVGPoint();E.x=v.x,E.y=v.y;var k=E.matrixTransform(S);E.x=v.x+v.width,E.y=v.y;var O=E.matrixTransform(S);E.x=v.x+v.width,E.y=v.y+v.height;var U=E.matrixTransform(S);E.x=v.x,E.y=v.y+v.height;var W=E.matrixTransform(S),Q=c(k.x,O.x,U.x,W.x),ie=f(k.x,O.x,U.x,W.x),I=c(k.y,O.y,U.y,W.y),B=f(k.y,O.y,U.y,W.y);return new he(Q,I,ie-Q,B-I)},h.transformPoint=function(v,S){return new z(h.createSVGPoint(v.x,v.y).matrixTransform(S))},h.transformLine=function(v,S){return new ye(h.transformPoint(v.start,S),h.transformPoint(v.end,S))},h.transformPolyline=function(v,S){var E=v instanceof st?v.points:v;h.isArray(E)||(E=[]);for(var k=[],O=0,U=E.length;O<U;O++)k[O]=h.transformPoint(E[O],S);return new st(k)},h.styleToObject=function(v){for(var S={},E=v.split(";"),k=0;k<E.length;k++){var O=E[k],U=O.split("=");S[U[0].trim()]=U[1].trim()}return S},h.createSlicePathData=function(v,S,E,k){var O=2*s-1e-6,U=v,W=S,Q=E,ie=k,I=(ie<Q&&(I=Q,Q=ie,ie=I),ie-Q),B=I<s?"0":"1",N=p(Q),D=g(Q),$=p(ie),_=g(ie);return I>=O?U?"M0,"+W+"A"+W+","+W+" 0 1,1 0,"+-W+"A"+W+","+W+" 0 1,1 0,"+W+"M0,"+U+"A"+U+","+U+" 0 1,0 0,"+-U+"A"+U+","+U+" 0 1,0 0,"+U+"Z":"M0,"+W+"A"+W+","+W+" 0 1,1 0,"+-W+"A"+W+","+W+" 0 1,1 0,"+W+"Z":U?"M"+W*N+","+W*D+"A"+W+","+W+" 0 "+B+",1 "+W*$+","+W*_+"L"+U*$+","+U*_+"A"+U+","+U+" 0 "+B+",0 "+U*N+","+U*D+"Z":"M"+W*N+","+W*D+"A"+W+","+W+" 0 "+B+",1 "+W*$+","+W*_+"L0,0Z"},h.mergeAttrs=function(v,S){for(var E in S)E==="class"?v[E]=v[E]?v[E]+" "+S[E]:S[E]:E==="style"?h.isObject(v[E])&&h.isObject(S[E])?v[E]=h.mergeAttrs(v[E],S[E]):h.isObject(v[E])?v[E]=h.mergeAttrs(v[E],h.styleToObject(S[E])):h.isObject(S[E])?v[E]=h.mergeAttrs(h.styleToObject(v[E]),S[E]):v[E]=h.mergeAttrs(h.styleToObject(v[E]),h.styleToObject(S[E])):v[E]=S[E];return v},h.annotateString=function(v,S,E){S=S||[],E=E||{};for(var k=E.offset||0,O=[],U,W=[],Q,ie,I=0;I<v.length;I++){Q=W[I]=v[I];for(var B=0;B<S.length;B++){var N=S[B],D=N.start+k,$=N.end+k;I>=D&&I<$&&(h.isObject(Q)?Q.attrs=h.mergeAttrs(h.mergeAttrs({},Q.attrs),N.attrs):Q=W[I]={t:v[I],attrs:N.attrs},E.includeAnnotationIndices&&(Q.annotations||(Q.annotations=[])).push(B))}ie=W[I-1],ie?h.isObject(Q)&&h.isObject(ie)?JSON.stringify(Q.attrs)===JSON.stringify(ie.attrs)?U.t+=Q.t:(O.push(U),U=Q):h.isObject(Q)||h.isObject(ie)?(O.push(U),U=Q):U=(U||"")+Q:U=Q}return U&&O.push(U),O},h.findAnnotationsAtIndex=function(v,S){var E=[];return v&&v.forEach(function(k){k.start<S&&S<=k.end&&E.push(k)}),E},h.findAnnotationsBetweenIndexes=function(v,S,E){var k=[];return v&&v.forEach(function(O){(S>=O.start&&S<O.end||E>O.start&&E<=O.end||O.start>=S&&O.end<E)&&k.push(O)}),k},h.shiftAnnotations=function(v,S,E){return v&&v.forEach(function(k){k.start<S&&k.end>=S?k.end+=E:k.start>=S&&(k.start+=E,k.end+=E)}),v},h.convertLineToPathData=function(v){v=h(v);var S=["M",v.attr("x1"),v.attr("y1"),"L",v.attr("x2"),v.attr("y2")].join(" ");return S},h.convertPolygonToPathData=function(v){var S=h.getPointsFromSvgNode(v);return S.length===0?null:h.svgPointsToPath(S)+" Z"},h.convertPolylineToPathData=function(v){var S=h.getPointsFromSvgNode(v);return S.length===0?null:h.svgPointsToPath(S)},h.svgPointsToPath=function(v){for(var S=0,E=v.length;S<E;S++)v[S]=v[S].x+" "+v[S].y;return"M "+v.join(" L")},h.getPointsFromSvgNode=function(v){v=h.toNode(v);var S=[],E=v.points;if(E)for(var k=0,O=E.numberOfItems;k<O;k++)S.push(E.getItem(k));return S},h.KAPPA=.551784,h.convertCircleToPathData=function(v){v=h(v);var S=parseFloat(v.attr("cx"))||0,E=parseFloat(v.attr("cy"))||0,k=parseFloat(v.attr("r")),O=k*h.KAPPA,U=["M",S,E-k,"C",S+O,E-k,S+k,E-O,S+k,E,"C",S+k,E+O,S+O,E+k,S,E+k,"C",S-O,E+k,S-k,E+O,S-k,E,"C",S-k,E-O,S-O,E-k,S,E-k,"Z"].join(" ");return U},h.convertEllipseToPathData=function(v){v=h(v);var S=parseFloat(v.attr("cx"))||0,E=parseFloat(v.attr("cy"))||0,k=parseFloat(v.attr("rx")),O=parseFloat(v.attr("ry"))||k,U=k*h.KAPPA,W=O*h.KAPPA,Q=["M",S,E-O,"C",S+U,E-O,S+k,E-W,S+k,E,"C",S+k,E+W,S+U,E+O,S,E+O,"C",S-U,E+O,S-k,E+W,S-k,E,"C",S-k,E-W,S-U,E-O,S,E-O,"Z"].join(" ");return Q},h.convertRectToPathData=function(v){return v=h(v),h.rectToPath({x:parseFloat(v.attr("x"))||0,y:parseFloat(v.attr("y"))||0,width:parseFloat(v.attr("width"))||0,height:parseFloat(v.attr("height"))||0,rx:parseFloat(v.attr("rx"))||0,ry:parseFloat(v.attr("ry"))||0})},h.rectToPath=function(v){var S,E=v.x,k=v.y,O=v.width,U=v.height,W=c(v.rx||v["top-rx"]||0,O/2),Q=c(v.rx||v["bottom-rx"]||0,O/2),ie=c(v.ry||v["top-ry"]||0,U/2),I=c(v.ry||v["bottom-ry"]||0,U/2);return W||Q||ie||I?S=["M",E,k+ie,"v",U-ie-I,"a",Q,I,0,0,0,Q,I,"h",O-2*Q,"a",Q,I,0,0,0,Q,-I,"v",-(U-I-ie),"a",W,ie,0,0,0,-W,-ie,"h",-(O-2*W),"a",W,ie,0,0,0,-W,ie,"Z"]:S=["M",E,k,"H",E+O,"V",k+U,"H",E,"V",k,"Z"],S.join(" ")},h.normalizePathData=function(){var v=`	
\v\f\r   ᠎             　\u2028\u2029`,S=new RegExp("([a-z])["+v+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+v+"]*,?["+v+"]*)+)","ig"),E=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+v+"]*,?["+v+"]*","ig"),k=Math,O=k.PI,U=k.sin,W=k.cos,Q=k.tan,ie=k.asin,I=k.sqrt,B=k.abs;function N(se,ue,fe,te,oe,ve){var Oe=.3333333333333333,ke=2/3;return[Oe*se+ke*fe,Oe*ue+ke*te,Oe*oe+ke*fe,Oe*ve+ke*te,oe,ve]}function D(se,ue,fe){var te=se*W(fe)-ue*U(fe),oe=se*U(fe)+ue*W(fe);return{x:te,y:oe}}function $(se,ue,fe,te,oe,ve,Oe,ke,De,Le){var Ee=O*120/180,Fe=O/180*(+oe||0),ge=[],q;if(Le)dt=Le[0],tt=Le[1],Mn=Le[2],Hn=Le[3];else{q=D(se,ue,-Fe),se=q.x,ue=q.y,q=D(ke,De,-Fe),ke=q.x,De=q.y;var ee=(se-ke)/2,J=(ue-De)/2,be=ee*ee/(fe*fe)+J*J/(te*te);be>1&&(be=I(be),fe=be*fe,te=be*te);var He=fe*fe,Ve=te*te,ar=(ve==Oe?-1:1)*I(B((He*Ve-He*J*J-Ve*ee*ee)/(He*J*J+Ve*ee*ee)));if(!Number.isFinite(ar))return[se,ue,ke,De,ke,De];var Mn=ar*fe*J/te+(se+ke)/2,Hn=ar*-te*ee/fe+(ue+De)/2,dt=ie(((ue-Hn)/te).toFixed(9)),tt=ie(((De-Hn)/te).toFixed(9));dt=se<Mn?O-dt:dt,tt=ke<Mn?O-tt:tt,dt<0&&(dt=O*2+dt),tt<0&&(tt=O*2+tt),Oe&&dt>tt&&(dt=dt-O*2),!Oe&&tt>dt&&(tt=tt-O*2)}var gn=tt-dt;if(B(gn)>Ee){var ai=tt,Wn=ke,jn=De;tt=dt+Ee*(Oe&&tt>dt?1:-1),ke=Mn+fe*W(tt),De=Hn+te*U(tt),ge=$(ke,De,fe,te,oe,0,Oe,Wn,jn,[tt,ai,Mn,Hn])}gn=tt-dt;var zi=W(dt),li=U(dt),ui=W(tt),Is=U(tt),Nn=Q(gn/4),qn=4/3*(fe*Nn),lr=4/3*(te*Nn),ur=[se,ue],rn=[se+qn*li,ue-lr*zi],mn=[ke+qn*Is,De-lr*ui],vn=[ke,De];if(rn[0]=2*ur[0]-rn[0],rn[1]=2*ur[1]-rn[1],Le)return[rn,mn,vn].concat(ge);ge=[rn,mn,vn].concat(ge).join().split(",");for(var Er=[],Ar=ge.length,Bt=0;Bt<Ar;Bt++)Er[Bt]=Bt%2?D(ge[Bt-1],ge[Bt],Fe).y:D(ge[Bt],ge[Bt+1],Fe).x;return Er}function _(se){if(!se)return null;var ue={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},fe=[];return String(se).replace(S,function(te,oe,ve){var Oe=[],ke=oe.toLowerCase();for(ve.replace(E,function(De,Le){Le&&Oe.push(+Le)}),ke==="m"&&Oe.length>2&&(fe.push([oe].concat(Oe.splice(0,2))),ke="l",oe=oe==="m"?"l":"L");Oe.length>=ue[ke]&&(fe.push([oe].concat(Oe.splice(0,ue[ke]))),!!ue[ke]););}),fe}function j(se){if((!Array.isArray(se)||!Array.isArray(se&&se[0]))&&(se=_(se)),!se||!se.length)return[["M",0,0]];for(var ue=[],fe=0,te=0,oe=0,ve=0,Oe=0,ke,De=se.length,Le=Oe;Le<De;Le++){var Ee=[];ue.push(Ee);var Fe=se[Le];if(ke=Fe[0],ke!=ke.toUpperCase()){Ee[0]=ke.toUpperCase();var ge,q;switch(Ee[0]){case"A":Ee[1]=Fe[1],Ee[2]=Fe[2],Ee[3]=Fe[3],Ee[4]=Fe[4],Ee[5]=Fe[5],Ee[6]=+Fe[6]+fe,Ee[7]=+Fe[7]+te;break;case"V":Ee[1]=+Fe[1]+te;break;case"H":Ee[1]=+Fe[1]+fe;break;case"M":for(oe=+Fe[1]+fe,ve=+Fe[2]+te,ge=Fe.length,q=1;q<ge;q++)Ee[q]=+Fe[q]+(q%2?fe:te);break;default:for(ge=Fe.length,q=1;q<ge;q++)Ee[q]=+Fe[q]+(q%2?fe:te);break}}else for(var ee=Fe.length,J=0;J<ee;J++)Ee[J]=Fe[J];switch(Ee[0]){case"Z":fe=+oe,te=+ve;break;case"H":fe=Ee[1];break;case"V":te=Ee[1];break;case"M":oe=Ee[Ee.length-2],ve=Ee[Ee.length-1],fe=Ee[Ee.length-2],te=Ee[Ee.length-1];break;default:fe=Ee[Ee.length-2],te=Ee[Ee.length-1];break}}return ue}function me(se){var ue=j(se),fe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function te(ge,q,ee){var J,be;if(!ge)return["C",q.x,q.y,q.x,q.y,q.x,q.y];switch(ge[0]in{T:1,Q:1}||(q.qx=null,q.qy=null),ge[0]){case"M":q.X=ge[1],q.Y=ge[2];break;case"A":parseFloat(ge[1])===0||parseFloat(ge[2])===0?ge=["L",ge[6],ge[7]]:ge=["C"].concat($.apply(0,[q.x,q.y].concat(ge.slice(1))));break;case"S":ee==="C"||ee==="S"?(J=q.x*2-q.bx,be=q.y*2-q.by):(J=q.x,be=q.y),ge=["C",J,be].concat(ge.slice(1));break;case"T":ee==="Q"||ee==="T"?(q.qx=q.x*2-q.qx,q.qy=q.y*2-q.qy):(q.qx=q.x,q.qy=q.y),ge=["C"].concat(N(q.x,q.y,q.qx,q.qy,ge[1],ge[2]));break;case"Q":q.qx=ge[1],q.qy=ge[2],ge=["C"].concat(N(q.x,q.y,ge[1],ge[2],ge[3],ge[4]));break;case"H":ge=["L"].concat(ge[1],q.y);break;case"V":ge=["L"].concat(q.x,ge[1]);break}return ge}function oe(ge,q){if(ge[q].length>7){ge[q].shift();for(var ee=ge[q];ee.length;)ve[q]="A",ge.splice(q++,0,["C"].concat(ee.splice(0,6)));ge.splice(q,1),De=ue.length}}for(var ve=[],Oe="",ke="",De=ue.length,Le=0;Le<De;Le++){ue[Le]&&(Oe=ue[Le][0]),Oe!=="C"&&(ve[Le]=Oe,Le>0&&(ke=ve[Le-1])),ue[Le]=te(ue[Le],fe,ke),ve[Le]!=="A"&&Oe==="C"&&(ve[Le]="C"),oe(ue,Le);var Ee=ue[Le],Fe=Ee.length;fe.x=Ee[Fe-2],fe.y=Ee[Fe-1],fe.bx=parseFloat(Ee[Fe-4])||fe.x,fe.by=parseFloat(Ee[Fe-3])||fe.y}return(!ue[0][0]||ue[0][0]!=="M")&&ue.unshift(["M",0,0]),ue}return function(se){return me(se).join(",").split(",").join(" ")}}(),h.namespace=t,h.g=u1,h}(),Mo="[object Arguments]",Kc="[object Array]",Il="[object Boolean]",Pf="[object Date]",mm="[object Error]",c1="[object Function]",Bo="[object Map]",Rl="[object Number]",f1="[object Null]",Ss="[object Object]",Tf="[object RegExp]",zo="[object Set]",Dl="[object String]",Bl="[object Symbol]",d1="[object Undefined]",h1="[object WeakMap]",Cf="[object ArrayBuffer]",kf="[object DataView]",vm="[object Float32Array]",ym="[object Float64Array]",xm="[object Int8Array]",wm="[object Int16Array]",Sm="[object Int32Array]",bm="[object Uint8Array]",Em="[object Uint8ClampedArray]",Am="[object Uint16Array]",Pm="[object Uint32Array]",p1={[Mo]:!0,[Kc]:!0,[Cf]:!0,[kf]:!0,[Il]:!0,[Pf]:!0,[vm]:!0,[ym]:!0,[xm]:!0,[wm]:!0,[Sm]:!0,[Bo]:!0,[Rl]:!0,[Ss]:!0,[Tf]:!0,[zo]:!0,[Dl]:!0,[Bl]:!0,[bm]:!0,[Em]:!0,[Am]:!0,[Pm]:!0,[mm]:!1,[c1]:!1,[h1]:!1},_f="\\ud800-\\udfff",g1="\\u0300-\\u036f",m1="\\ufe20-\\ufe2f",v1="\\u20d0-\\u20ff",y1="\\u1ab0-\\u1aff",x1="\\u1dc0-\\u1dff",w1=g1+m1+v1+y1+x1,Tm="\\u2700-\\u27bf",Cm="a-z\\xdf-\\xf6\\xf8-\\xff",S1="\\xac\\xb1\\xd7\\xf7",b1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",E1="\\u2000-\\u206f",A1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",km="A-Z\\xc0-\\xd6\\xd8-\\xde",P1="\\ufe0e\\ufe0f",_m=S1+b1+E1+A1,Lm="['’]",Vp=`[${_m}]`,Lf=`[${w1}]`,Mm="\\d",T1=`[${Tm}]`,Nm=`[${Cm}]`,Om=`[^${_f}${_m+Mm+Tm+Cm+km}]`,Jc="\\ud83c[\\udffb-\\udfff]",C1=`(?:${Lf}|${Jc})`,Fm=`[^${_f}]`,Mf="(?:\\ud83c[\\udde6-\\uddff]){2}",Nf="[\\ud800-\\udbff][\\udc00-\\udfff]",ys=`[${km}]`,k1="\\u200d",Up=`(?:${Nm}|${Om})`,_1=`(?:${ys}|${Om})`,Gp=`(?:${Lm}(?:d|ll|m|re|s|t|ve))?`,$p=`(?:${Lm}(?:D|LL|M|RE|S|T|VE))?`,Im=`${C1}?`,Rm=`[${P1}]?`,L1=`(?:${k1}(?:${[Fm,Mf,Nf].join("|")})${Rm+Im})*`,M1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",N1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Dm=Rm+Im+L1,O1=`(?:${[T1,Mf,Nf].join("|")})${Dm}`,F1=RegExp([`${ys}?${Nm}+${Gp}(?=${[Vp,ys,"$"].join("|")})`,`${_1}+${$p}(?=${[Vp,ys+Up,"$"].join("|")})`,`${ys}?${Up}+${Gp}`,`${ys}+${$p}`,N1,M1,`${Mm}+`,O1].join("|"),"g"),Of=200,ef="__hash_undefined__",I1=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,R1=`[${_f}]`,D1=`${Fm}${Lf}?`,B1=`(?:${[D1,Lf,Mf,Nf,R1].join("|")})`,Bm=RegExp(`${Jc}(?=${Jc})|${B1+Dm}`,"g"),z1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V1=/^\w*$/,U1=46,G1=/\\(\\)?/g,$1=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),H1=/^(?:0|[1-9]\d*)$/,W1=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),j1=4294967294,q1=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zm=e=>Bm.test(e),Y1=e=>e.match(Bm)||[],X1=e=>e.split(""),Vm=e=>zm(e)?Y1(e):X1(e),Z1=e=>e==null?[]:Vo(e).map(t=>e[t]),Vo=e=>Ln(e)?Um(e):Object.keys(Object(e)),Q1=e=>{if(!zl(e))return Object.keys(e);var t=[];for(var n in Object(e))hasOwnProperty.call(e,n)&&n!="constructor"&&t.push(n);return t},Um=(e,t)=>{const n=Array.isArray(e),r=!n&&$n(e)&&_n(e)===Mo,s=!n&&!r&&Go(e),a=n||r||s,l=e.length,c=new Array(a?l:0);let f=a?-1:l;for(;++f<l;)c[f]=`${f}`;for(const p in e)(t||hasOwnProperty.call(e,p))&&!(a&&(p==="length"||Bf(p,l)))&&c.push(p);return c},sl=(e,t)=>{let{length:n}=e;for(;n--;)if(Os(e[n][0],t))return n;return-1},Os=(e,t)=>e===t||e!==e&&t!==t,$n=e=>e!=null&&typeof e=="object",El=(e,t,n)=>{if(!qe(n))return!1;const r=typeof t;return(r=="number"?Ln(n)&&t>-1&&t<n.length:r=="string"&&t in n)?Os(n[t],e):!1},K1=e=>$n(e)&&_n(e)==zo,J1=e=>$n(e)&&_n(e)==Bo,zl=e=>{const t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Object.prototype;return e===n},Fs=(e,t,n)=>{const r=e[t];(!(hasOwnProperty.call(e,t)&&Os(r,n))||n===void 0&&!(t in e))&&(e[t]=n)},Uo=(e,t,n)=>{let r=-1;const s=t.length;for(;++r<s;){const a=t[r];Fs(n,a,e[a])}return n},Ln=e=>e!=null&&typeof e!="function"&&typeof e.length=="number"&&e.length>-1&&e.length%1===0,ks=e=>typeof e=="symbol"||$n(e)&&_n(e)===Bl,ex=e=>{const t=e.length;let n=new e.constructor(t);return t&&typeof e[0]=="string"&&hasOwnProperty.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Ff=(e,t)=>{let n=-1;const r=e.length;for(t||(t=new Array(r));++n<r;)t[n]=e[n];return t},_n=e=>e==null?e===void 0?d1:f1:Object.prototype.toString.call(e),If=e=>{const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},Gm=(e,t)=>{const n=t?If(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},tx=e=>{const t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t},$m=e=>typeof e.constructor=="function"&&!zl(e)?Object.create(Object.getPrototypeOf(e)):{},Rf=e=>e==null?[]:(e=Object(e),Object.getOwnPropertySymbols(e).filter(n=>propertyIsEnumerable.call(e,n))),nx=(e,t)=>Uo(e,Rf(e),t);function rx(e,t){const n=t?If(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}const ix=(e,t,n)=>{const r=e.constructor;switch(t){case Cf:return If(e);case Il:case Pf:return new r(+e);case kf:return rx(e,n);case vm:case ym:case xm:case wm:case Sm:case bm:case Em:case Am:case Pm:return Gm(e,n);case Bo:return new r(e);case Rl:case Dl:return new r(e);case Tf:return tx(e);case zo:return new r;case Bl:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}},Go=e=>$n(e)&&I1.test(_n(e)),tf=e=>{const t=Object.keys(e);return!Array.isArray(e)&&e!=null&&t.push(...Rf(Object(e))),t},Hm=e=>{const t=[];for(;e;)t.push(...Rf(e)),e=Object.getPrototypeOf(Object(e));return t},Wm=e=>{const t=[];for(const n in e)t.push(n);return Array.isArray(e)||t.push(...Hm(e)),t},ol=({__data__:e},t)=>{const n=e;return mx(t)?n[typeof t=="string"?"string":"hash"]:n.map},sx=(e,t,n,r)=>{const s=tf(e),a=s.length,c=tf(t).length;if(a!=c)return!1;let f,p=a;for(;p--;)if(f=s[p],!hasOwnProperty.call(t,f))return!1;const g=r.get(e),h=r.get(t);if(g&&h)return g==t&&h==e;let x=!0;r.set(e,t),r.set(t,e);let w;for(;++p<a;){f=s[p];const b=e[f],P=t[f];if(!(b===P||n(b,P,r))){x=!1;break}w||(w=f=="constructor")}if(x&&!w){const b=e.constructor,P=t.constructor;b!=P&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof P=="function"&&P instanceof P)&&(x=!1)}return r.delete(e),r.delete(t),x},Vl=(e,t,n)=>e===t?!0:e==null||t==null||!$n(e)&&!$n(t)?e!==e&&t!==t:ox(e,t,Vl,n),ox=(e,t,n,r)=>{let s=Array.isArray(e);const a=Array.isArray(t);let l=s?Kc:_n(e),c=a?Kc:_n(t);l=l==Mo?Ss:l,c=c==Mo?Ss:c;let f=l==Ss;const p=c==Ss,g=l==c;if(g&&!f)return r||(r=new Es),s||Go(e)?jm(e,t,!1,n,r):ux(e,t,l,n,r);const h=f&&hasOwnProperty.call(e,"__wrapped__"),x=p&&hasOwnProperty.call(t,"__wrapped__");if(h||x){const w=h?e.value():e,b=x?t.value():t;return r||(r=new Es),n(w,b,r)}return g?(r||(r=new Es),sx(e,t,n,r)):!1},jm=(e,t,n,r,s)=>{const a=e.length,l=t.length;if(a!=l)return!1;const c=s.get(e),f=s.get(t);if(c&&f)return c==t&&f==e;let p=-1,g=!0;const h=n?new Oo:void 0;for(s.set(e,t),s.set(t,e);++p<a;){const x=e[p],w=t[p];if(h){if(!ax(t,(b,P)=>{if(!lx(h,P)&&(x===b||r(x,b,s)))return h.push(P)})){g=!1;break}}else if(!(x===w||r(x,w,s))){g=!1;break}}return s.delete(e),s.delete(t),g},ax=(e,t)=>{let n=-1;const r=e==null?0:e.length;for(;++n<r;)if(t(e[n],n,e))return!0;return!1},lx=(e,t)=>e.has(t),Hp=(e,t,n,r)=>!(e.byteLength!=t.byteLength||!n(new Uint8Array(e),new Uint8Array(t),r)),ux=(e,t,n,r,s)=>{switch(n){case kf:return e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset?!1:(e=e.buffer,t=t.buffer,Hp(e,t,r,s));case Cf:return Hp(e,t,r,s);case Il:case Pf:case Rl:return Os(+e,+t);case mm:return e.name==t.name&&e.message==t.message;case Tf:case Dl:return e==`${t}`;case Bo:var a=qm;case zo:if(a||(a=Ul),e.size!=t.size)return!1;const l=s.get(e);if(l)return l==t;s.set(e,t);const c=jm(a(e),a(t),!0,r,s);return s.delete(e),c;case Bl:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},qm=e=>{let t=-1,n=Array(e.size);return e.forEach((r,s)=>{n[++t]=[s,r]}),n},Ul=e=>{let t=-1;const n=new Array(e.size);return e.forEach(r=>{n[++t]=r}),n},Df=(e,t)=>{if(Array.isArray(e))return!1;const n=typeof e;return n==="number"||n==="boolean"||e==null||ks(e)?!0:V1.test(e)||!z1.test(e)||t!=null&&e in Object(t)},cx=e=>{const t=[];return e.charCodeAt(0)===U1&&t.push(""),e.replace($1,(n,r,s,a)=>{let l=n;s?l=a.replace(G1,"$1"):r&&(l=r.trim()),t.push(l)}),t},ii=(e,t)=>Array.isArray(e)?e:Df(e,t)?[e]:cx(`${e}`),$o=(e,t)=>{t=ii(t,e);let n=0;const r=t.length;for(;e!=null&&n<r;)e=e[si(t[n])],n++;return n&&n==r?e:void 0};function fx(e,t){if(e!==t){const n=e!==void 0,r=e===null,s=e===e,a=ks(e),l=t!==void 0,c=t===null,f=t===t,p=ks(t);if(!c&&!p&&!a&&e>t||a&&l&&f&&!c&&!p||r&&l&&f||!n&&f||!s)return 1;if(!r&&!a&&!p&&e<t||p&&n&&s&&!r&&!a||c&&n&&s||!l&&s||!f)return-1}return 0}function dx(e,t,n){let r=-1;const s=e.criteria,a=t.criteria,l=s.length,c=n.length;for(;++r<l;){const f=r<c?n[r]:null,g=(f&&typeof f=="function"?f:fx)(s[r],a[r]);if(g)return f&&typeof f!="function"?g*(f=="desc"?-1:1):g}return e.index-t.index}const Ym=(e,t)=>{let n=(l,c)=>!!(l==null?0:l.length)&&l.indexOf(c)>-1,r=!0;const s=[],a=t.length;if(!e.length)return s;t.length>=Of&&(n=(l,c)=>l.has(c),r=!1,t=new Oo(t));e:for(let l in e){let c=e[l];const f=c;if(c=c!==0?c:0,r&&f===f){let p=a;for(;p--;)if(t[p]===f)continue e;s.push(c)}else n(t,f)||s.push(c)}return s},si=e=>{if(typeof e=="string"||ks(e))return e;const t=`${e}`;return t=="0"&&1/e==-1/0?"-0":t},Li=(e,t=!1,n=!1,r=!0,s,a,l,c)=>{let f;if(s&&(f=l?s(e,a,l,c):s(e)),f!==void 0)return f;if(!qe(e))return e;const p=Array.isArray(e),g=_n(e);if(p){if(f=ex(e),!t)return Ff(e,f)}else{const b=typeof e=="function";if(g===Ss||g===Mo||b&&!l){if(f=n||b?{}:$m(e),!t)return n?hx(e,Uo(e,Object.keys(e),f)):nx(e,Object.assign(f,e))}else{if(b||!p1[g])return l?e:{};f=ix(e,g,t)}}c||(c=new Es);const h=c.get(e);if(h)return h;if(c.set(e,f),J1(e))return e.forEach((b,P)=>{f.set(P,Li(b,t,n,r,s,P,e,c))}),f;if(K1(e))return e.forEach(b=>{f.add(Li(b,t,n,r,s,b,e,c))}),f;if(Go(e))return f;const w=p?void 0:(r?n?Wm:tf:n?Zm:Vo)(e);return(w||e).forEach((b,P)=>{w&&(P=b,b=e[P]),Fs(f,P,Li(b,t,n,r,s,P,e,c))}),f},hx=(e,t)=>Uo(e,Hm(e),t),Xm=(e,t)=>t.length<2?e:$o(e,t.slice(0,-1)),px=(e,t,n)=>{if(!qe(e))return e;t=ii(t,e);const r=t.length,s=r-1;let a=-1,l=e;for(;l!=null&&++a<r;){const c=si(t[a]);let f=n;if(a!=s){const p=l[c];f=void 0,f===void 0&&(f=qe(p)?p:Bf(t[a+1])?[]:{})}Fs(l,c,f),l=l[c]}return e},Bf=(e,t)=>{const n=typeof e;return t=t??Number.MAX_SAFE_INTEGER,!!t&&(n==="number"||n!=="symbol"&&H1.test(e))&&e>-1&&e%1==0&&e<t},gx=(e,t)=>{t=ii(t,e),e=Xm(e,t);const n=t[t.length-1];return e==null||delete e[si(n)]},mx=e=>{const t=typeof e;return t==="string"||t==="number"||t==="symbol"||t==="boolean"?e!=="__proto__":e===null},Zm=e=>{const t=[];for(const n in e)t.push(n);return t},vx=e=>{e=Object(e);const t={};for(const n in e)t[n]=e[n];return t},Wp=(e,t)=>{if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]};function Qm(e,t=!1){return(n,...r)=>{let s=-1,a=r.length,l=a>1?r[a-1]:void 0;const c=a>2?r[2]:void 0;for(l=e.length>3&&typeof l=="function"?(a--,l):t?(f,p)=>{if(Array.isArray(f)&&!Array.isArray(p))return p}:void 0,c&&El(r[0],r[1],c)&&(l=a<3?void 0:l,a=1),n=Object(n);++s<a;){const f=r[s];f&&e(n,f,s,l)}return n}}const zf=(e,t,n,r,s)=>{e!==t&&nr(t,(a,l)=>{if(qe(a))s||(s=new Es),yx(e,t,l,n,zf,r,s);else{let c=r?r(e[l],a,`${l}`,e,t,s):void 0;c===void 0&&(c=a),nf(e,l,c)}})},yx=(e,t,n,r,s,a,l)=>{const c=Wp(e,n),f=Wp(t,n),p=l.get(f);if(p){nf(e,n,p);return}let g=a?a(c,f,`${n}`,e,t,l):void 0,h=g===void 0;if(h){const x=Array.isArray(f),w=!x&&Go(f);g=f,x||w?Array.isArray(c)?g=c:$n(c)&&Ln(c)?g=Ff(c):w?(h=!1,g=Gm(f,!0)):g=[]:yt(f)||No(f)?(g=c,No(c)?g=vx(c):(typeof c=="function"||!qe(c))&&(g=$m(f))):h=!1}h&&(l.set(f,g),s(g,f,r,a,l),l.delete(f)),nf(e,n,g)},nf=(e,t,n)=>{(n!==void 0&&!Os(e[t],n)||n===void 0&&!(t in e))&&Fs(e,t,n)};function xx(e,t,n){const r=Object(e),s=n(e);let{length:a}=s,l=-1;for(;a--;){const c=s[++l];if(t(r[c],c,r)===!1)break}return e}const wx=(e,t)=>e&&xx(e,t,Vo),Vf=(e,t)=>{if(e==null)return e;if(!Ln(e))return wx(e,t);const n=e.length,r=Object(e);let s=-1;for(;++s<n&&t(r[s],s,r)!==!1;);return e};function Sx(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}const bx=Set&&1/Ul(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function Km(e,t,n,r,s,a){return qe(e)&&qe(t)&&(a.set(t,e),zf(e,t,void 0,Km,a),a.delete(t)),e}function Ex(e,t,n){t.length?t=t.map(l=>Array.isArray(l)?c=>$o(c,l.length===1?l[0]:l):l):t=[l=>l];let r=-1,s=-1;const a=Ln(e)?new Array(e.length):[];return Vf(e,l=>{const c=t.map(f=>f(l));a[++s]={criteria:c,index:++r,value:l}}),Ax(a,(l,c)=>dx(l,c,n))}function Ax(e,t){let{length:n}=e;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Jm(e){return e===e&&!qe(e)}function ev(e,t){return n=>n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}function tv(e,t){return e!=null&&Vx(e,t,zx)}function Px(e,t){return Df(e)&&Jm(t)?ev(si(e),t):n=>{const r=$o(n,e);return r===void 0&&r===t?tv(n,e):Vl(t,r)}}function nv(e){const t=Tx(e);return t.length===1&&t[0][2]?ev(t[0][0],t[0][1]):n=>n===e||Cx(n,e,t)}function Tx(e){const t=Vo(e);let n=t.length;for(;n--;){const r=t[n],s=e[r];t[n]=[r,s,Jm(s)]}return t}function Cx(e,t,n,r){let s=n.length;const a=s;if(e==null)return!a;let l;for(e=Object(e);s--;)if(l=n[s],l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1;for(;++s<a;){l=n[s];const c=l[0],f=e[c],p=l[1];if(l[2]){if(f===void 0&&!(c in e))return!1}else{const g=new Es;if(!Vl(p,f,g))return!1}}return!0}function kx(e){return Df(e)?_x(si(e)):Lx(e)}function _x(e){return t=>t==null?void 0:t[e]}function Lx(e){return t=>$o(t,e)}function Mx(e){return typeof e=="function"?e:e==null?t=>t:typeof e=="object"?Array.isArray(e)?Px(e[0],e[1]):nv(e):kx(e)}function Gl(){const e=Mx;return arguments.length?e(arguments[0]):e}const Nx=(e,t,n,r)=>{let s=-1;const a=e==null?0:e.length;for(r&&a&&(n=e[++s]);++s<a;)n=t(n,e[s],s,e);return n},Ox=(e,t,n,r,s)=>(s(e,(a,l,c)=>{n=r?(r=!1,a):t(n,a,l,c)}),n);function Fx(e,t,n){const r=Array.isArray(e)?Nx:Ox,s=arguments.length<3;return r(e,t,n,s,Vf)}const Ix=e=>Array.isArray(e)||No(e)||!!(e&&e[Symbol.isConcatSpreadable]);function rv(e,t,n,r,s){let a=-1;const l=e.length;for(n||(n=Ix),s||(s=[]);++a<l;){var c=e[a];t>0&&n(c)?t>1?rv(c,t-1,n,r,s):s.push(...c):s[s.length]=c}return s}const No=e=>$n(e)&&_n(e)=="[object Arguments]",Rx=(e,t)=>Dx(e,t,(n,r)=>tv(e,r)),Dx=(e,t,n)=>{let r=-1;const s=t.length,a={};for(;++r<s;){const l=t[r],c=$o(e,l);n(c,l)&&px(a,ii(l,e),c)}return a},Bx=e=>typeof e=="number"&&e>-1&&e%1==0&&e<=Number.MAX_SAFE_INTEGER,zx=(e,t)=>e!=null&&t in Object(e),Vx=(e,t,n)=>{t=ii(t,e);for(var r=-1,s=t.length,a=!1;++r<s;){var l=si(t[r]);if(!(a=e!=null&&n(e,l)))break;e=e[l]}return a||++r!=s?a:(s=e==null?0:e.length,!!s&&Bx(s)&&Bf(l,s)&&(Array.isArray(e)||No(e)))},Ux=e=>e.match(q1),Gx=e=>e.match(F1),$x=(e,t)=>(W1(e)?Gx(e):Ux(e))||[],Hx=(e,t,n)=>{const{length:r}=e;return n=n===void 0?r:n,!t&&n>=r?e:e.slice(t,n)},Wx=jx("toUpperCase");function jx(e){return t=>{if(!t)return"";const n=zm(t)?Vm(t):void 0,r=n?n[0]:t[0],s=n?Hx(n,1).join(""):t.slice(1);return r[e]()+s}}function qx(e){return nv(Li(e,!0))}class Es{constructor(t){const n=this.__data__=new Ic(t);this.size=n.size}clear(){this.__data__=new Ic,this.size=0}delete(t){const n=this.__data__,r=n.delete(t);return this.size=n.size,r}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,n){let r=this.__data__;if(r instanceof Ic){const s=r.__data__;if(s.length<Of-1)return s.push([t,n]),this.size=++r.size,this;r=this.__data__=new iv(s)}return r.set(t,n),this.size=r.size,this}}class Ic{constructor(t){let n=-1;const r=t==null?0:t.length;for(this.clear();++n<r;){const s=t[n];this.set(s[0],s[1])}}clear(){this.__data__=[],this.size=0}delete(t){const n=this.__data__,r=sl(n,t);if(r<0)return!1;const s=n.length-1;return r==s?n.pop():n.splice(r,1),--this.size,!0}get(t){const n=this.__data__,r=sl(n,t);return r<0?void 0:n[r][1]}has(t){return sl(this.__data__,t)>-1}set(t,n){const r=this.__data__,s=sl(r,t);return s<0?(++this.size,r.push([t,n])):r[s][1]=n,this}}class iv{constructor(t){let n=-1;const r=t==null?0:t.length;for(this.clear();++n<r;){const s=t[n];this.set(s[0],s[1])}}clear(){this.size=0,this.__data__={hash:new jp,map:new Map,string:new jp}}delete(t){const n=ol(this,t).delete(t);return this.size-=n?1:0,n}get(t){return ol(this,t).get(t)}has(t){return ol(this,t).has(t)}set(t,n){const r=ol(this,t),s=r.size;return r.set(t,n),this.size+=r.size==s?0:1,this}}class jp{constructor(t){let n=-1;const r=t==null?0:t.length;for(this.clear();++n<r;){const s=t[n];this.set(s[0],s[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){const n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}get(t){const r=this.__data__[t];return r===ef?void 0:r}has(t){return this.__data__[t]!==void 0}set(t,n){const r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n===void 0?ef:n,this}}class Oo{constructor(t){let n=-1;const r=t==null?0:t.length;for(this.__data__=new iv;++n<r;)this.add(t[n])}add(t){return this.__data__.set(t,ef),this}has(t){return this.__data__.has(t)}}Oo.prototype.push=Oo.prototype.add;const Yx=function(e){var t=Object.prototype.toString;return e===!0||e===!1||!!e&&typeof e=="object"&&t.call(e)===Il},qe=function(e){return!!e&&(typeof e=="object"||typeof e=="function")},Gt=function(e){var t=Object.prototype.toString;return typeof e=="number"||!!e&&typeof e=="object"&&t.call(e)===Rl},xt=function(e){var t=Object.prototype.toString;return typeof e=="string"||!!e&&typeof e=="object"&&t.call(e)===Dl},we=Qm((e,t)=>{if(zl(t)||Ln(t)){Uo(t,Vo(t),e);return}for(var n in t)hasOwnProperty.call(t,n)&&Fs(e,n,t[n])}),Xx=(e,...t)=>{let n=-1,r=t.length;const s=r>2?t[2]:void 0;for(s&&El(t[0],t[1],s)&&(r=1);++n<r;){const a=t[n];if(a==null)continue;const l=Object.keys(a),c=l.length;let f=-1;for(;++f<c;){const p=l[f],g=e[p];(g===void 0||Os(g,Object.prototype[p])&&!hasOwnProperty.call(e,p))&&(e[p]=a[p])}}return e},dn=Xx,Zx=function(...t){return t.push(void 0,Km),Et.apply(void 0,t)},Uf=Zx,rr=(e,t,...n)=>{let r=-1;const s=typeof t=="function",a=Ln(e)?new Array(e.length):[];return Vf(e,l=>{a[++r]=s?t.apply(l,n):Qx(l,t,...n)}),a},Qx=(e,t,...n)=>{t=ii(t,e),e=Xm(e,t);const r=e==null?e:e[si(Sx(t))];return r==null?void 0:r.apply(e,n)},sv=(e,t,n)=>{let r=0,s=e==null?0:e.length;if(s==0)return 0;n=Gl(n,2),t=n(t);const a=t!==t,l=t===null,c=ks(t),f=t===void 0;for(;r<s;){let p;const g=Math.floor((r+s)/2),h=n(e[g]),x=h!==void 0,w=h===null,b=h===h,P=ks(h);a?p=b:f?p=b&&x:l?p=b&&x&&!w:c?p=b&&x&&!w&&!P:w||P?p=!1:p=h<t,p?r=g+1:s=g}return Math.min(s,j1)},Ni=(e,t)=>{let n=-1,r=(f,p)=>!!(f==null?0:f.length)&&f.indexOf(p)>-1;t=Gl(t,2);let s=!0;const{length:a}=e,l=[];let c=l;if(a>=Of){const f=t?null:bx(e);if(f)return Ul(f);s=!1,r=(p,g)=>p.has(g),c=new Oo}else c=t?[]:l;e:for(;++n<a;){let f=e[n];const p=t?t(f):f;if(f=f!==0?f:0,s&&p===p){let g=c.length;for(;g--;)if(c[g]===p)continue e;t&&c.push(p),l.push(f)}else r(c,p)||(c!==l&&c.push(p),l.push(f))}return l},Dt=e=>Li(e),fn=e=>Li(e,!0),pn=e=>{if(e==null)return!0;if(Ln(e)&&(Array.isArray(e)||typeof e=="string"||typeof e.splice=="function"||Go(e)||No(e)))return!e.length;const t=_n(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(zl(e))return!Q1(e).length;for(const n in e)if(hasOwnProperty.call(e,n))return!1;return!0},ni=(e,t)=>Vl(e,t),Je=e=>typeof e=="function",yt=e=>{if(!$n(e)||_n(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},Ye=e=>{if(!e)return[];if(Ln(e))return xt(e)?Vm(e):Ff(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){const r=e[Symbol.iterator]();let s;const a=[];for(;!(s=r.next()).done;)a.push(s.value);return a}const t=_n(e);return(t==Bo?qm:t==zo?Ul:Z1)(e)};function Kx(e,t,n){if(typeof e!="function")throw new TypeError("Expected a function");let r,s,a,l,c,f,p=0,g=!1,h=!1,x=!0;const w=!t&&t!==0&&window&&typeof window.requestAnimationFrame=="function";t=+t||0,qe(n)&&(g=!!n.leading,h="maxWait"in n,a=h?Math.max(+n.maxWait||0,t):a,x="trailing"in n?!!n.trailing:x);function b(v){const S=r,E=s;return r=s=void 0,p=v,l=e.apply(E,S),l}function P(v,S){return w?(window.cancelAnimationFrame(c),window.requestAnimationFrame(v)):setTimeout(v,S)}function T(v){if(w)return window.cancelAnimationFrame(v);clearTimeout(v)}function C(v){return p=v,c=P(R,t),g?b(v):l}function L(v){const S=v-f,E=v-p,k=t-S;return h?Math.min(k,a-E):k}function M(v){const S=v-f,E=v-p;return f===void 0||S>=t||S<0||h&&E>=a}function R(){const v=Date.now();if(M(v))return G(v);c=P(R,L(v))}function G(v){return c=void 0,x&&r?b(v):(r=s=void 0,l)}function Z(...v){const S=Date.now(),E=M(S);if(r=v,s=this,f=S,E){if(c===void 0)return C(f);if(h)return c=P(R,t),b(f)}return c===void 0&&(c=P(R,t)),l}return Z.cancel=()=>{c!==void 0&&T(c),p=0,r=f=s=c=void 0},Z.flush=()=>c===void 0?l:G(Date.now()),Z.pending=()=>c!==void 0,Z}const Jx=(e,t)=>(t=Gl(t,2),Fx(e,(n,r,s)=>(s=t(r),hasOwnProperty.call(n,s)?n[s].push(r):Fs(n,s,[r]),n),{})),pl=(e,t=[])=>{if(e==null)return[];const n=t.length;return n>1&&El(e,t[0],t[1])?t=[]:n>2&&El(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[Gl(t,2)]),Ex(e,t.flat(1),[])},ew=e=>(e==null?0:e.length)?rv(e,1/0):[],qp=(e,...t)=>Ln(e)?Ym(e,t):[],tw=(e,...t)=>$n(e)&&Ln(e)?Ym(e,t.flat(1)):[],rf=(...e)=>{const t=e.flat(1);return Ni(t)},ir=(e,t)=>{if(e==null)return!1;typeof t=="string"&&(t=t.split("."));let n=-1,r=e;for(;++n<t.length;){if(!r||!hasOwnProperty.call(r,t[n]))return!1;r=r[t[n]]}return!0},it=(e,t,n)=>{t=ii(t,e);let r=-1,s=t.length;for(s||(s=1,e=void 0);++r<s;){let a=e==null?void 0:e[si(t[r])];a===void 0&&(r=s,a=n),e=typeof a=="function"?a.call(e):a}return e},Ho=(e,...t)=>{let n={};if(e==null)return n;let r=!1;t=t.flat(1).map(a=>(a=ii(a,e),r||(r=a.length>1),a)),Uo(e,Wm(e),n),r&&(n=Li(n,!0,!0,!0,a=>yt(a)?void 0:a));let s=t.length;for(;s--;)gx(n,t[s]);return n},nw=(e,...t)=>e==null?{}:Rx(e,t.flat(1/0)),nr=(e,t=n=>n)=>{let n=-1;const r=Object(e),s=Ln(e)?Um(e,!0):Zm(e);let a=s.length;for(;a--;){const l=s[++n];if(t(r[l],l,r)===!1)break}},ov=(e="")=>$x(`${e}`.replace(/['\u2019]/g,"")).reduce((t,n,r)=>(n=n.toLowerCase(),t+(r?Wx(n):n)),"");let rw=0;const Fo=(e="")=>{const t=++rw;return`${e}`+t},Et=Qm((e,t,n,r)=>{zf(e,t,n,r)},!0);class av{constructor(){this.map=new WeakMap}has(t,n){return n===void 0?this.map.has(t):n in this.map.get(t)}create(t){return this.has(t)||this.map.set(t,Object.create(null)),this.get(t)}get(t,n){if(!this.has(t))return;const r=this.map.get(t);return n===void 0?r:r[n]}set(t,n,r){if(n===void 0)return;const s=this.create(t);typeof n=="string"?s[n]=r:Object.assign(s,n)}remove(t,n){if(this.has(t))if(n===void 0)this.map.delete(t);else{const r=this.map.get(t);delete r[n]}}}const Cn=new av,lv=new av,Oi=function(e,t){if(!(this instanceof Oi))return new Oi(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?gl:ml,this.target=e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Object.assign(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this.envelope=!0};Oi.prototype={constructor:Oi,isDefaultPrevented:ml,isPropagationStopped:ml,isImmediatePropagationStopped:ml,preventDefault:function(){const e=this.originalEvent;this.isDefaultPrevented=gl,e&&e.preventDefault()},stopPropagation:function(){const e=this.originalEvent;this.isPropagationStopped=gl,e&&e.stopPropagation()},stopImmediatePropagation:function(){const e=this.originalEvent;this.isImmediatePropagationStopped=gl,e&&e.stopImmediatePropagation(),this.stopPropagation()}};["altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","pageX","pageY","shiftKey","view","char","code","charCode","key","keyCode","button","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","screenX","screenY","targetTouches","toElement","touches","which"].forEach(e=>iw(e));function iw(e){Object.defineProperty(Oi.prototype,e,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent?this.originalEvent[e]:void 0},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})}function gl(){return!0}function ml(){return!1}const _s=typeof window<"u"?window.document:null,sw=_s&&_s.documentElement,uv=/^([^.]*)(?:\.(.+)|)/,cv=/[^\x20\t\r\n\f]+/g,de=function(e){return new de.Dom(e)};de.fn=de.prototype={constructor:de,length:0};de.guid=1;de.data=lv;de.merge=function(e,t){let n=+t.length,r=e.length;for(let s=0;s<n;s++)e[r++]=t[s];return e.length=r,e};de.parseHTML=function(e){const t=_s.implementation.createHTMLDocument(),n=t.createElement("base");n.href=_s.location.href,t.head.appendChild(n),t.body.innerHTML=e;const r=t.getElementsByTagName("script");for(let s=0;s<r.length;s++)r[s].remove();return Array.from(t.body.childNodes)};typeof Symbol=="function"&&(de.fn[Symbol.iterator]=Array.prototype[Symbol.iterator]);de.fn.toArray=function(){return Array.from(this)};de.fn.pushStack=function(e){const t=de.merge(this.constructor(),e);return t.prevObject=this,t};de.fn.find=function(e){const[t]=this,n=this.pushStack([]);if(!t)return n;const{nodeType:r}=t;return r!==1&&r!==9&&r!==11||(typeof e!="string"?t!==e&&t.contains(e)&&de.merge(n,[e]):de.merge(n,t.querySelectorAll(e))),n};de.fn.add=function(e,t){const n=de(e).toArray(),r=this.toArray(),s=this.pushStack([]);return de.merge(s,Ni(r.concat(n))),s};de.fn.addBack=function(){return this.add(this.prevObject)};de.fn.filter=function(e){const t=[];for(let n=0;n<this.length;n++){const r=this[n];r.matches(e)&&t.push(r)}return this.pushStack(t)};const ow=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;function aw(e){return e[0]==="<"&&e[e.length-1]===">"&&e.length>=3}const fv=function(e){if(!e)return this;if(typeof e=="function")throw new Error("function not supported");if(arguments.length>1)throw new Error("selector with context not supported");if(e.nodeType)return this[0]=e,this.length=1,this;let t;if(aw(e+""))t=[null,e,null];else if(typeof e=="string")t=ow.exec(e);else return de.merge(this,e);if(!t||!t[1])return lw.find(e);if(t[1])return de.merge(this,de.parseHTML(t[1])),this;const n=_s.getElementById(t[2]);return n&&(this[0]=n,this.length=1),this};de.Dom=fv;fv.prototype=de.fn;de.Event=Oi;de.event={special:Object.create(null)};de.event.has=function(e,t){const n=Cn.get(e,"events");return n?t?Array.isArray(n[t])&&n[t].length>0:!0:!1};de.event.on=function(e,t,n,r,s,a){if(typeof t=="object"){typeof n!="string"&&(r=r||n,n=void 0);for(let l in t)de.event.on(e,l,n,r,t[l],a);return e}if(r==null&&s==null?(s=n,r=n=void 0):s==null&&(typeof n=="string"?(s=r,r=void 0):(s=r,r=n,n=void 0)),!s)return e;if(a===1){const l=s;s=function(c){return de().off(c),l.apply(this,arguments)},s.guid=l.guid||(l.guid=de.guid++)}for(let l=0;l<e.length;l++)de.event.add(e[l],t,s,r,n)};de.event.add=function(e,t,n,r,s){if(typeof e!="object")return;const a=Cn.create(e);let l;n.handler&&(l=n,n=l.handler,s=l.selector),s&&sw.matches(s),n.guid||(n.guid=de.guid++);let c;(c=a.events)||(c=a.events=Object.create(null));let f;(f=a.handle)||(f=a.handle=function(h){return typeof de<"u"?de.event.dispatch.apply(e,arguments):void 0});const p=(t||"").match(cv)||[""];let g=p.length;for(;g--;){const[,h,x=""]=uv.exec(p[g]);if(!h)continue;const w=x.split(".").sort();let b=de.event.special[h];const P=b&&(s?b.delegateType:b.bindType)||h;b=de.event.special[P];const T=Object.assign({type:P,origType:h,data:r,handler:n,guid:n.guid,selector:s,namespace:w.join(".")},l);let C;(C=c[P])||(C=c[P]=[],C.delegateCount=0,(!b||!b.setup||b.setup.call(e,r,w,f)===!1)&&e.addEventListener&&e.addEventListener(P,f)),b&&b.add&&(b.add.call(e,T),T.handler.guid||(T.handler.guid=n.guid)),s?C.splice(C.delegateCount++,0,T):C.push(T)}};de.event.remove=function(e,t,n,r,s){const a=Cn.get(e);if(!a||!a.events)return;const l=a.events,c=(t||"").match(cv)||[""];let f=c.length;for(;f--;){const[,p,g=""]=uv.exec(c[f]);if(!p){for(const L in l)de.event.remove(e,L+c[f],n,r,!0);continue}const h=de.event.special[p],x=h&&(r?h.delegateType:h.bindType)||p,w=l[x];if(!w||w.length===0)continue;const b=g.split(".").sort(),P=g?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,T=w.length;let C=T;for(;C--;){const L=w[C];(s||p===L.origType)&&(!n||n.guid===L.guid)&&(!P||P.test(L.namespace))&&(!r||r===L.selector||r==="**"&&L.selector)&&(w.splice(C,1),L.selector&&w.delegateCount--,h&&h.remove&&h.remove.call(e,L))}T&&w.length===0&&((!h||!h.teardown||h.teardown.call(e,b,a.handle)===!1)&&e.removeEventListener&&e.removeEventListener(x,a.handle),delete l[x])}pn(l)&&(Cn.remove(e,"handle"),Cn.remove(e,"events"))};de.event.dispatch=function(e){const t=this,n=de.event.fix(e);n.delegateTarget=t;const r=Array.from(arguments);r[0]=n;const s=Cn.get(t,"events"),a=s&&s[n.type]||[],l=de.event.special[n.type];if(l&&l.preDispatch&&l.preDispatch.call(t,n)===!1)return;const c=de.event.handlers.call(t,n,a);let f=0,p;for(;(p=c[f++])&&!n.isPropagationStopped();){n.currentTarget=p.elem;let g=0,h;for(;(h=p.handlers[g++])&&!n.isImmediatePropagationStopped();){n.handleObj=h,n.data=h.data;const x=de.event.special[h.origType];let w;x&&x.handle?w=x.handle:w=h.handler;const b=w.apply(p.elem,r);b!==void 0&&(n.result=b)===!1&&(n.preventDefault(),n.stopPropagation())}}return l&&l.postDispatch&&l.postDispatch.call(t,n),n.result};de.event.handlers=function(e,t){const n=t.delegateCount,r=[];if(n&&!(e.type==="click"&&e.button>=1)){for(let s=e.target;s!==this;s=s.parentNode||this)if(s.nodeType===1&&!(e.type==="click"&&s.disabled===!0)){const a=[],l={};for(let c=0;c<n;c++){const f=t[c],p=f.selector+" ";l[p]===void 0&&(l[p]=s.matches(p)),l[p]&&a.push(f)}a.length&&r.push({elem:s,handlers:a})}}return n<t.length&&r.push({elem:this,handlers:t.slice(n)}),r};de.event.fix=function(e){return e.envelope?e:new Oi(e)};const lw=de(_s);function Gf(e){let t=e.length;for(;t--;)dv(e[t])}function dv(e){de.event.remove(e),Cn.remove(e),lv.remove(e)}function hv(e){for(let t=0;t<e.length;t++){const n=e[t];n.parentNode&&n.parentNode.removeChild(n)}}function uw(){for(let e=0;e<this.length;e++){const t=this[e];dv(t),Gf(t.getElementsByTagName("*"))}return hv(this),this}function cw(){return hv(this),this}function fw(){for(let e=0;e<this.length;e++){const t=this[e];t.nodeType===1&&(Gf(t.getElementsByTagName("*")),t.textContent="")}return this}function dw(){const e=[];for(let t=0;t<this.length;t++)e.push(this[t].cloneNode(!0));return this.pushStack(e)}function hw(e){const[t]=this;if(!t)return null;if(arguments.length===0)return t.innerHTML;if(e===void 0)return this;if(Gf(Cn,t.getElementsByTagName("*")),typeof e=="string"||typeof e=="number")t.innerHTML=e;else return t.innerHTML="",this.append(e);return this}function pw(...e){const[t]=this;return t?(e.forEach(n=>{n&&(typeof n=="string"?t.append(...de.parseHTML(n)):n.toString()==="[object Object]"?this.append(...Array.from(n)):Array.isArray(n)?this.append(...n):t.appendChild(n))}),this):this}function gw(...e){const[t]=this;return t?(e.forEach(n=>{n&&(typeof n=="string"?t.prepend(...de.parseHTML(n)):n.toString()==="[object Object]"?this.prepend(...Array.from(n)):Array.isArray(n)?this.prepend(...n):t.insertBefore(n,t.firstChild))}),this):this}function mw(e){return de(e).append(this),this}function vw(e){return de(e).prepend(this),this}const pv={};["width","height","top","bottom","left","right","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","margin","marginTop","marginBottom","marginLeft","marginRight"].forEach(e=>{pv[e]=!0});function yw(e,t,n){typeof n=="number"&&pv[ov(t)]&&(n+="px"),e.style[t]=n}function xw(e,t){let n;if(typeof e=="string")if(t===void 0){const[r]=this;return r?r.style[e]:null}else n={[e]:t};else if(e)n=e;else throw new Error("no styles provided");for(let r in n)if(n.hasOwnProperty(r))for(let s=0;s<this.length;s++)yw(this[s],r,n[r]);return this}function ww(e,t){if(arguments.length<2){const[n]=this;return n?e===void 0?n.dataset:n.dataset[e]:null}for(let n=0;n<this.length;n++)this[n].dataset[e]=t;return this}function $f(e,t,n){for(let r=0;r<t.length;r++){const s=t[r];re.prototype[e].apply({node:s},n)}}function Sw(){return $f("removeClass",this,arguments),this}function bw(){return $f("addClass",this,arguments),this}function Ew(){return $f("toggleClass",this,arguments),this}function Aw(){const[e]=this;return e?re.prototype.hasClass.apply({node:e},arguments):!1}function Pw(e){const t=[];for(let n=0;n<this.length;n++){const r=this[n];let s=Array.from(r.children);typeof e=="string"&&(s=s.filter(a=>a.matches(e))),t.push(...s)}return this.pushStack(t)}function Tw(e){const t=[];for(let n=0;n<this.length;n++){const r=this[n];if(typeof e=="string"){const s=r.closest(e);s&&t.push(s)}else{const[s]=de(e);s&&s.contains(r)&&t.push(s)}}return this.pushStack(t)}function Cw(e,t,n,r){return de.event.on(this,e,t,n,r),this}function kw(e,t,n,r){return de.event.on(this,e,t,n,r,1),this}function _w(e,t,n){if(e&&e.preventDefault&&e.handleObj){const r=e.handleObj;return de(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this}if(typeof e=="object"){for(let r in e)this.off(r,t,e[r]);return this}(t===!1||typeof t=="function")&&(n=t,t=void 0);for(let r=0;r<this.length;r++)de.event.remove(this[r],e,n,t);return this}function Lw(){const[e]=this;if(e===window)return e.document.documentElement.clientWidth;if(!e)return;const t=window.getComputedStyle(e),n=e.offsetWidth,r=parseFloat(t.borderTopWidth),s=parseFloat(t.borderBottomWidth),a=parseFloat(t.paddingTop),l=parseFloat(t.paddingBottom);return n-s-r-a-l}function Mw(){const[e]=this;if(e===window)return e.document.documentElement.clientHeight;if(!e)return;const t=window.getComputedStyle(e),n=e.offsetHeight,r=parseFloat(t.borderLeftWidth),s=parseFloat(t.borderRightWidth),a=parseFloat(t.paddingLeft),l=parseFloat(t.paddingRight);return n-r-s-a-l}function Nw(){const[e]=this;if(!e)return;let t=de(e),n,r,s,a={top:0,left:0};if(t.css("position")==="fixed")r=e.getBoundingClientRect();else{r=t.offset(),s=e.ownerDocument,n=e.offsetParent||s.documentElement;const f=de(n),p=f.css("position")||"static";for(;n&&(n===s.body||n===s.documentElement)&&p==="static";)n=n.parentNode;if(n&&n!==e&&n.nodeType===1){const g=window.getComputedStyle(n),h=parseFloat(g.borderTopWidth)||0,x=parseFloat(g.borderLeftWidth)||0;a=f.offset(),a.top+=h,a.left+=x}}const l=parseFloat(window.getComputedStyle(e).marginTop)||0,c=parseFloat(window.getComputedStyle(e).marginLeft)||0;return{top:r.top-a.top-l,left:r.left-a.left-c}}function Ow(e){const[t]=this;if(e===void 0){if(!t)return null;if(!t.getClientRects().length)return{top:0,left:0};const l=t.getBoundingClientRect();return{top:l.top+window.scrollY,left:l.left+window.scrollX}}if(!t)return this;const n=window.getComputedStyle(t);n.position==="static"&&this.css("position","relative");const r=this.offset(),s=e.top-r.top,a=e.left-r.left;return this.css({top:(parseFloat(n.top)||0)+s+"px",left:(parseFloat(n.left)||0)+a+"px"}),this}const Fw=Object.freeze(Object.defineProperty({__proto__:null,addClass:bw,append:pw,appendTo:mw,children:Pw,clone:dw,closest:Tw,css:xw,data:ww,detach:cw,empty:fw,hasClass:Aw,height:Mw,html:hw,off:_w,offset:Ow,on:Cw,one:kw,position:Nw,prepend:gw,prependTo:vw,remove:uw,removeClass:Sw,toggleClass:Ew,width:Lw},Symbol.toStringTag,{value:"Module"})),Al="animationFrameId",er={};er["transition-property"]=er["transition-duration"]=er["transition-delay"]=er["transition-timing-function"]=er["animation-name"]=er["animation-duration"]=er["animation-delay"]=er["animation-timing-function"]="";function Iw(e,t={}){this.stop();for(let n=0;n<this.length;n++)Rw(this[n],e,t);return this}function Rw(e,t,n={}){let{duration:r=400,easing:s="ease-in-out",delay:a=0,complete:l}=n;const c=setTimeout(function(){const f=de(e);let p=!1,g="transitionend";r=r/1e3,a=a/1e3;const h={};if(typeof t=="string")h["animation-name"]=t,h["animation-duration"]=r+"s",h["animation-delay"]=a+"s",h["animation-timing-function"]=s,g="animationend";else{const b=[];for(var x in t)t.hasOwnProperty(x)&&(h[x]=t[x],b.push(x));r>0&&(h["transition-property"]=b.join(", "),h["transition-duration"]=r+"s",h["transition-delay"]=a+"s",h["transition-timing-function"]=s)}const w=function(b){if(b){if(b.target!==b.currentTarget)return;b.target.removeEventListener(g,w)}else e.removeEventListener(g,w);p=!0,f.css(er),l&&l.call(e)};if(r>0){e.addEventListener(g,w);const b=setTimeout(function(){p||w(null)},(r+a)*1e3+25);Cn.set(e,Al,{id:b,stop:()=>{clearTimeout(b),e.removeEventListener(g,w)}})}f.css(h),r<=0&&w(null)});Cn.set(e,Al,{stop:()=>clearTimeout(c)})}function Dw(){for(let e=0;e<this.length;e++){const t=this[e],n=Cn.get(t,Al);n&&(n.stop(),Cn.remove(t,Al))}return this.css(er),this}const Bw=Object.freeze(Object.defineProperty({__proto__:null,animate:Iw,stop:Dw},Symbol.toStringTag,{value:"Module"})),Yp={outerWidth:"offsetWidth",outerHeight:"offsetHeight",innerWidth:"clientWidth",innerHeight:"clientHeight",scrollLeft:"scrollLeft",scrollTop:"scrollTop",val:"value",text:"textContent"},Xp={disabled:"disabled",value:"value",text:"textContent"};function zw(e,t){if(!e)throw new Error("no property provided");if(arguments.length===1){const[n]=this;return n?n[e]:null}if(t===void 0)return this;for(let n=0;n<this.length;n++)this[n][e]=t;return this}function Vw(e,t){let n;if(typeof e=="string")if(t===void 0){const[r]=this;return r?r.getAttribute(e):null}else n={[e]:t};else if(e)n=e;else throw new Error("no attributes provided");for(let r in n)if(n.hasOwnProperty(r)){const s=n[r];if(Xp[r]){this.prop(Xp[r],s);continue}for(let a=0;a<this.length;a++)s===null?this[a].removeAttribute(r):this[a].setAttribute(r,s)}return this}const gv={prop:zw,attr:Vw};Object.keys(Yp).forEach(e=>{gv[e]=function(...t){return this.prop(Yp[e],...t)}});const As={useCSSSelectors:!1,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},$l=Object.create(null);$l.load={noBubble:!0};[["mouseenter","mouseover"],["mouseleave","mouseout"],["pointerenter","pointerover"],["pointerleave","pointerout"]].forEach(([e,t])=>{$l[e]={delegateType:t,bindType:t,handle:function(n){const r=this,s=n.relatedTarget,a=n.handleObj;let l;return(!s||!r.contains(s))&&(n.type=a.origType,l=a.handler.apply(r,arguments),n.type=t),l}}});const Uw=As.doubleTapInterval,Gw=30;$l.dbltap={bindType:"touchend",delegateType:"touchend",handle:function(e,...t){const{handleObj:n,target:r}=e,s=de.data.create(r),a=new Date().getTime(),l="lastTouch"in s?a-s.lastTouch:0;l<Uw&&l>Gw?(s.lastTouch=null,e.type=n.origType,n.handler.call(this,e,...t)):s.lastTouch=a}};Object.assign(de.fn,Fw);Object.assign(de.fn,Bw);Object.assign(de.fn,gv);Object.assign(de.event.special,$l);const wr=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,As.classNamePrefix.length)!==As.classNamePrefix&&(t=As.classNamePrefix+t),t}).join(" ")},Pl=function(e,t){const n={},r={},s=re.namespace.svg,a=t||s,l=document.createDocumentFragment(),c=function(f,p,g){for(let h=0;h<f.length;h++){const x=f[h];if(typeof x=="string"){const R=document.createTextNode(x);p.appendChild(R);continue}if(!x.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const w=x.tagName;let b;x.hasOwnProperty("namespaceURI")&&(g=x.namespaceURI),b=document.createElementNS(g,w);const P=g===s,T=P?re(b):de(b),C=x.attributes;C&&T.attr(C);const L=x.style;if(L&&de(b).css(L),x.hasOwnProperty("className")){const R=x.className;P?b.className.baseVal=R:b.className=R}if(x.hasOwnProperty("textContent")&&(b.textContent=x.textContent),x.hasOwnProperty("selector")){const R=x.selector;if(n[R])throw new Error("json-dom-parser: selector must be unique");n[R]=b,T.attr("joint-selector",R)}if(x.hasOwnProperty("groupSelector")){let R=x.groupSelector;Array.isArray(R)||(R=[R]);for(let G=0;G<R.length;G++){const Z=R[G];let v=r[Z];v||(v=r[Z]=[]),v.push(b)}}p.appendChild(b);const M=x.children;Array.isArray(M)&&c(M,b,g)}};return c(e,l,a),{fragment:l,selectors:n,groupSelectors:r}},al=function(e){let t=0;if(e.length===0)return t;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t=t&t}return t},Ls=function(e,t,n){for(var r=Array.isArray(t)?t:t.split(n||"/"),s,a=0,l=r.length;a<l;)if(s=r[a++],Object(e)===e&&s in e)e=e[s];else return;return e},mv=function(e,t){return typeof t!="string"&&typeof t!="number"&&(t=String(t)),!(t==="constructor"&&typeof e[t]=="function"||t==="__proto__")},Zp=function(e,t,n,r){const s=Array.isArray(t)?t:t.split(r||"/"),a=s.length-1;let l=e,c=0;for(;c<a;c++){const f=s[c];if(!mv(l,f))return e;l=l[f]||(l[f]={})}return l[s[a]]=n,e},Qp=function(e,t,n){const r=Array.isArray(t)?t:t.split(n),s=r.length-1;let a=e,l=0;for(;l<s;l++){const c=r[l];if(!mv(a,c))return e;const f=a[c];if(!f)return e;a=f}return delete a[r[s]],e},$w=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})},bs=function(e){return bs.id=bs.id||1,e===void 0?"j_"+bs.id++:(e.id=e.id===void 0?"j_"+bs.id++:e.id,e.id)},Lt=function(e){if(e.normalized)return e;const{originalEvent:t,target:n}=e,r=t&&t.changedTouches&&t.changedTouches[0];if(r)for(let s in r)e[s]===void 0&&(e[s]=r[s]);if(n){const s=n.correspondingUseElement;s&&(e.target=s)}return e.normalized=!0,e},Hw=function(e){let s=0,a=0,l=0,c=0;return"detail"in e&&(a=e.detail),"wheelDelta"in e&&(a=-e.wheelDelta/120),"wheelDeltaY"in e&&(a=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(s=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(s=a,a=0),l="deltaX"in e?e.deltaX:s*10,c="deltaY"in e?e.deltaY:a*10,(l||c)&&e.deltaMode&&(e.deltaMode==1?(l*=40,c*=40):(l*=800,c*=800)),e.deltaX===0&&e.deltaY!==0&&e.shiftKey&&(l=c,c=0,s=a,a=0),l&&!s&&(s=l<1?-1:1),c&&!a&&(a=c<1?-1:1),{spinX:s,spinY:a,deltaX:l,deltaY:c}},Ww=function(e,t){return e>t?t:e<-50?-50:e},sf=function(){var e;if(typeof window<"u"&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(n){var r=new Date().getTime(),s=Math.max(0,16-(r-t)),a=setTimeout(function(){n(r+s)},s);return t=r+s,a}}return function(n,r,...s){return e(r!==void 0?n.bind(r,...s):n)}}(),vl=function(){var e,t=typeof window<"u";return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e}(),nn=function(e){return xt(e)&&e.slice(-1)==="%"},jw=function(e,t){function n(c){var f=new RegExp("(?:\\d+(?:\\.\\d+)*)("+c+")$").exec(e);return f?f[1]:null}var r=parseFloat(e);if(Number.isNaN(r))return null;var s={};s.value=r;var a;if(t==null)a="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;a=t.join("|")}else xt(t)&&(a=t);var l=n(a);return l===null?null:(s.unit=l,s)},Po=0;function qw(e,t){const n=e.split(t);let r=1;for(let s=0,a=n.length-1;s<a;s++){const l=[];(s>0||n[0]!=="")&&l.push(Po),l.push(t),(s<a-1||n[a]!=="")&&l.push(Po),n.splice(r,0,...l),r+=l.length+1}return n.filter(s=>s!=="")}function Kp(e,t){if(e===null)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}const Yw=function(e,t,n={},r={}){var s=t.width,a=t.height,l=r.svgDocument||re("svg").node,c=re("tspan").node,f=re("text").attr(n).append(c).node,p=document.createTextNode("");f.style.opacity=0,f.style.display="block",c.style.display="block",c.appendChild(p),l.appendChild(f),r.svgDocument||document.body.appendChild(l);const g=r.preserveSpaces,h=" ",x=r.separator||r.separator===""?r.separator:h,w=typeof x=="string"?x:h;var b=r.eol||`
`,P=r.hyphen?new RegExp(r.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,T=r.maxLineCount;Gt(T)||(T=1/0);var C=e.split(x),L=[],M=[],R,G,Z;g&&re(c).attr("xml:space","preserve");for(var v=0,S=0,E=C.length;v<E;v++){var k=C[v];if(!(!k&&!g)&&typeof k=="string"){var O=!1;if(b&&k.indexOf(b)>=0)if(k.length>1){const $=qw(C[v],b);C.splice(v,1,...$),v--,E=C.length;continue}else{if(g&&typeof C[v-1]=="string"){C.splice(v,Po,"",Po),E+=2,v--;continue}M[++S]=!g||typeof C[v+1]=="string"?"":void 0,O=!0}if(!O){let $;if(g?$=M[S]!==void 0?M[S]+w+k:k:$=M[S]?M[S]+w+k:k,p.data=$,c.getComputedTextLength()<=s)M[S]=$,(R||G)&&(L[S++]=!0,R=0,G=0);else{if(!M[S]||R){var U=!!R;if(R=k.length-1,U||!R){if(!R){if(!M[S]){M=[];break}C.splice(v,2,k+C[v+1]),E--,L[S++]=!0,v--;continue}C[v]=k.substring(0,R);const _=C[v+1];C[v+1]=k.substring(R)+(_===void 0||_===Po?"":_)}else{if(G)C.splice(v,2,C[v]+C[v+1]),G=0;else{var W=k.search(P);W>-1&&W!==k.length-1&&W!==0&&(G=W+1,R=0),C.splice(v,1,k.substring(0,G||R),k.substring(G||R)),E++}S&&!L[S-1]&&S--}(!g||M[S]!=="")&&v--;continue}S++,v--}}var Q=null;if(M.length>T)Q=T-1;else if(a!==void 0){if(Z===void 0&&p.data!=="")if(n.lineHeight==="auto")Z=Kp({value:1.5,unit:"em"},f);else{const $=jw(n.lineHeight,["em","px",""]);Z=Kp($,f)}Z*M.length>a&&(Q=Math.floor(a/Z)-1)}if(Q!==null){M.splice(Q+1);var ie=r.ellipsis;if(!ie||Q<0)break;typeof ie!="string"&&(ie="…");var I=M[Q];if(!I&&!O)break;var B=I.length,N,D;do{if(D=I[B],N=I.substring(0,B),D?D.match(x)&&(N+=D):N+=w,N+=ie,p.data=N,c.getComputedTextLength()<=s){M[Q]=N;break}B--}while(B>=0);break}}}return r.svgDocument?l.removeChild(f):document.body.removeChild(l),M.join(b)},Xw=function(e,t){e=de(e).toArray();var n=e.map(function(s){var a=s.parentNode,l=a.insertBefore(document.createTextNode(""),s.nextSibling);return function(){if(a===this)throw new Error("You can't sort elements if any one is a descendant of another.");a.insertBefore(this,l),a.removeChild(l)}});e.sort(t);for(var r=0;r<n.length;r++)n[r].call(e[r]);return e},Fi=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var n,r,s,a;return n=r=s=a=0,isFinite(e.vertical)&&(n=s=+e.vertical),isFinite(e.horizontal)&&(r=a=+e.horizontal),isFinite(e.top)&&(n=+e.top),isFinite(e.right)&&(r=+e.right),isFinite(e.bottom)&&(s=+e.bottom),isFinite(e.left)&&(a=+e.left),{top:n,right:r,bottom:s,left:a}},Zw={linear:function(e){return e},quad:function(e){return e*e},cubic:function(e){return e*e*e},inout:function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},exponential:function(e){return Math.pow(2,10*(e-1))},bounce:function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11){var r=(11-6*t-11*e)/4;return-r*r+n*n}},reverse:function(e){return function(t){return 1-e(1-t)}},reflect:function(e){return function(t){return .5*(t<.5?e(2*t):2-e(2-2*t))}},clamp:function(e,t,n){return t=t||0,n=n||1,function(r){var s=e(r);return s<t?t:s>n?n:s}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},elastic:function(e){return e||(e=1.5),function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}},vv={number:function(e,t){var n=t-e;return function(r){return e+n*r}},object:function(e,t){var n=Object.keys(e);return function(r){var s,a,l={};for(s=n.length-1;s!=-1;s--)a=n[s],l[a]=e[a]+(t[a]-e[a])*r;return l}},hexColor:function(e,t){var n=parseInt(e.slice(1),16),r=parseInt(t.slice(1),16),s=n&255,a=(r&255)-s,l=n&65280,c=(r&65280)-l,f=n&16711680,p=(r&16711680)-f;return function(g){var h=s+a*g&255,x=l+c*g&65280,w=f+p*g&16711680;return"#"+(1<<24|h|x|w).toString(16).slice(1)}},unit:function(e,t){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(e),s=n.exec(t),a=s[1].indexOf("."),l=a>0?s[1].length-a-1:0;e=+r[1];var c=+s[1]-e,f=r[2];return function(p){return(e+c*p).toFixed(l)+f}}},Qw={outline:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',n=Number.isFinite(e.margin)?e.margin:2,r=Number.isFinite(e.width)?e.width:1;return Vn(t)({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:n+r,innerRadius:n})},highlight:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return Vn(t)({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return Vn('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return Vn(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Vn('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Vn('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Vn('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return Vn('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Vn('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return Vn('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Vn('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},Vn=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},e.replace(t,function(r){for(var s=Array.from(arguments),a=s.slice(1,4).find(function(f){return!!f}),l=a.split("."),c=n[l.shift()];c!==void 0&&l.length;)c=c[l.shift()];return c!==void 0?c:""})}};function yv(e,t,n,r){if(n===r)return{};const s={};return Object.keys(e).forEach(a=>{const l=e[a],c=t[a];if(!Array.isArray(l)&&!Array.isArray(c)&&qe(l)&&qe(c)){const f=n+1,p=yv(l,c,f,r);Object.keys(p).length>0?s[a]=p:(n===0||f===r)&&(s[a]={})}else ni(l,c)||(s[a]=l)}),s}function Kw(e,t,n){const{maxDepth:r=Number.POSITIVE_INFINITY}=n;return yv(e,t,0,r)}var jt={},Jp=/\s+/,ti,Ri=function(e,t,n,r,s){var a=0,l;if(n&&typeof n=="object")for(r!==void 0&&("context"in s)&&s.context===void 0&&(s.context=r),l=Object.keys(n);a<l.length;a++)t=Ri(e,t,l[a],n[l[a]],s);else if(n&&Jp.test(n))for(l=n.split(Jp);a<l.length;a++)t=e(t,l[a],r,s);else t=e(t,n,r,s);return t};jt.on=function(e,t,n){if(this._events=Ri(Jw,this._events||{},e,t,{context:n,ctx:this,listening:ti}),ti){var r=this._listeners||(this._listeners={});r[ti.id]=ti,ti.interop=!1}return this};jt.listenTo=function(e,t,n){if(!e)return this;var r=e._listenId||(e._listenId=Fo("l")),s=this._listeningTo||(this._listeningTo={}),a=ti=s[r];a||(this._listenId||(this._listenId=Fo("l")),a=ti=s[r]=new Hl(this,e));var l=eS(e,t,n,this);if(ti=void 0,l)throw l;return a.interop&&a.on(t,n),this};var Jw=function(e,t,n,r){if(n){var s=e[t]||(e[t]=[]),a=r.context,l=r.ctx,c=r.listening;c&&c.count++,s.push({callback:n,context:a,ctx:a||l,listening:c})}return e},eS=function(e,t,n,r){try{e.on(t,n,r)}catch(s){return s}};jt.off=function(e,t,n){return this._events?(this._events=Ri(xv,this._events,e,t,{context:n,listeners:this._listeners}),this):this};jt.stopListening=function(e,t,n){var r=this._listeningTo;if(!r)return this;for(var s=e?[e._listenId]:Object.keys(r),a=0;a<s.length;a++){var l=r[s[a]];if(!l)break;l.obj.off(t,n,this),l.interop&&l.off(t,n)}return pn(r)&&(this._listeningTo=void 0),this};var xv=function(e,t,n,r){if(e){var s=r.context,a=r.listeners,l=0,c;if(!t&&!s&&!n){if(a!=null)for(c=Object.keys(a);l<c.length;l++)a[c[l]].cleanup();return}for(c=t?[t]:Object.keys(e);l<c.length;l++){t=c[l];var f=e[t];if(!f)break;for(var p=[],g=0;g<f.length;g++){var h=f[g];if(n&&n!==h.callback&&n!==h.callback._callback||s&&s!==h.context)p.push(h);else{var x=h.listening;x&&x.off(t,n)}}p.length?e[t]=p:delete e[t]}return e}};jt.once=function(e,t,n){var r=Ri(wv,{},e,t,this.off.bind(this));return typeof e=="string"&&n==null&&(t=void 0),this.on(r,t,n)};jt.listenToOnce=function(e,t,n){var r=Ri(wv,{},t,n,this.stopListening.bind(this,e));return this.listenTo(e,r)};var wv=function(e,t,n,r){if(n){var s=e[t]=tS(function(){r(t,s),n.apply(this,arguments)});s._callback=n}return e},tS=function(e){var t;if(typeof e!="function")throw new TypeError("Expected a function");var n=2;return function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=void 0),t}};jt.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+1];return Ri(nS,this._events,e,void 0,n),this};var nS=function(e,t,n,r){if(e){var s=e[t],a=e.all;s&&a&&(a=a.slice()),s&&eg(s,r),a&&eg(a,[t].concat(r))}return e},eg=function(e,t){var n,r=-1,s=e.length,a=t[0],l=t[1],c=t[2];switch(t.length){case 0:for(;++r<s;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<s;)(n=e[r]).callback.call(n.ctx,a);return;case 2:for(;++r<s;)(n=e[r]).callback.call(n.ctx,a,l);return;case 3:for(;++r<s;)(n=e[r]).callback.call(n.ctx,a,l,c);return;default:for(;++r<s;)(n=e[r]).callback.apply(n.ctx,t);return}},Hl=function(e,t){this.id=e._listenId,this.listener=e,this.obj=t,this.interop=!0,this.count=0,this._events=void 0};Hl.prototype.on=jt.on;Hl.prototype.off=function(e,t){var n;this.interop?(this._events=Ri(xv,this._events,e,t,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=this.count===0),n&&this.cleanup()};Hl.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]};jt.bind=jt.on;jt.unbind=jt.off;var Hf=function(e,t){var n=this,r;return e&&ir(e,"constructor")?r=e.constructor:r=function(){return n.apply(this,arguments)},we(r,n,t),r.prototype=Object.assign(Object.create(n.prototype),e),r.prototype.constructor=r,r.__super__=n.prototype,r},rS=function(e,t,n,r){switch(t){case 1:return function(){return e[n](this[r])};case 2:return function(s){return e[n](this[r],s)};case 3:return function(s,a){return e[n](this[r],tg(s,this),a)};case 4:return function(s,a,l){return e[n](this[r],tg(s,this),a,l)};default:return function(){var s=Array.prototype.slice.call(arguments);return s.unshift(this[r]),e[n].apply(e,s)}}},iS=function(e,t,n,r){nr(n,function(s,a){t[a]&&(e.prototype[a]=rS(t,s,a,r))})},tg=function(e,t){return Je(e)?e:qe(e)&&!t._isModel(e)?sS(e):xt(e)?function(n){return n.get(e)}:e},sS=function(e){var t=qx(e);return function(n){return t(n.attributes)}},Pn=function(e,t){var n=e||{};t||(t={}),this.preinitialize.apply(this,arguments),this.cid=Fo(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection);var r=it(this,"defaults");n=dn(we({},r,n),r),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};we(Pn.prototype,jt,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(e){return Dt(this.attributes)},get:function(e){return this.attributes[e]},has:function(e){return this.get(e)!=null},set:function(e,t,n){if(e==null)return this;var r;if(typeof e=="object"?(r=e,n=t):(r={})[e]=t,n||(n={}),!this._validate(r,n))return!1;var s=n.unset,a=n.silent,l=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=Dt(this.attributes),this.changed={});var f=this.attributes,p=this.changed,g=this._previousAttributes;for(var h in r)t=r[h],ni(f[h],t)||l.push(h),ni(g[h],t)?delete p[h]:p[h]=t,s?delete f[h]:f[h]=t;if(this.idAttribute in r){var x=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,x,n)}if(!a){l.length&&(this._pending=n);for(var w=0;w<l.length;w++)this.trigger("change:"+l[w],this,f[l[w]],n)}if(c)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,we({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,we({},e,{unset:!0}))},hasChanged:function(e){return e==null?!pn(this.changed):ir(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?Dt(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes,n={},r;for(var s in e){var a=e[s];ni(t[s],a)||(n[s]=a,r=!0)}return r?n:!1},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return Dt(this._previousAttributes)},clone:function(){return new this.constructor(this.attributes)},isValid:function(e){return this._validate({},we({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=we({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,we(t,{validationError:n})),!1):!0}});Pn.extend=Hf;function Sv(e){e=Ni(e);const t=Ye(e).reduce(function(n,r){return n[r.id]=r.clone(),n},{});return Ye(e).forEach(function(n){const r=t[n.id];if(r.isLink()){const l=r.source(),c=r.target();l.id&&t[l.id]&&r.prop("source/id",t[l.id].id),c.id&&t[c.id]&&r.prop("target/id",t[c.id].id)}const s=n.get("parent");s&&t[s]&&r.set("parent",t[s].id);const a=Ye(n.get("embeds")).reduce(function(l,c){return t[c]&&l.push(t[c].id),l},[]);pn(a)||r.set("embeds",a)}),t}const oS=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],aS=oS.reduce((e,t)=>(e[t]=!0,e),{}),lS={qualify:function(e){return yt(e)},set:function(e,t,n){Object.keys(e).forEach(function(r){if(aS[r]&&r in n){const s=e[r];n.tagName==="SELECT"&&Array.isArray(s)?Array.from(n.options).forEach(function(a,l){a.selected=s.includes(a.value)}):n[r]=s}})}};function ll(e,t,n){return function(r,s){var a=nn(r);r=parseFloat(r),a&&(r/=100);var l;if(isFinite(r)){var c=s[n]();a||r>0&&r<1?l=c[e]+s[t]*r:l=c[e]+r}var f=z();return f[e]=l||0,f}}function Kr(e,t){return function(n,r){var s=nn(n);n=parseFloat(n),s&&(n/=100);var a={};if(isFinite(n)){var l=s||n>=0&&n<=1?n*r[t]:Math.max(n+r[t],0);a[e]=l}return a}}const qt={"ref-x":{position:ll("x","width","origin")},"ref-y":{position:ll("y","height","origin")},"ref-dx":{position:ll("x","width","corner")},"ref-dy":{position:ll("y","height","corner")},"ref-width":{set:Kr("width","width")},"ref-height":{set:Kr("height","height")},"ref-rx":{set:Kr("rx","width")},"ref-ry":{set:Kr("ry","height")},"ref-cx":{set:Kr("cx","width")},"ref-cy":{set:Kr("cy","height")},"ref-r-inscribed":{set:function(e){var t=Kr(e,"width"),n=Kr(e,"height");return function(r,s){var a=s.height>s.width?t:n;return a(r,s)}}("r")},"ref-r-circumscribed":{set:function(e,t){var n=nn(e);e=parseFloat(e),n&&(e/=100);var r=Math.sqrt(t.height*t.height+t.width*t.width),s;return isFinite(e)&&(n||e>=0&&e<=1?s=e*r:s=Math.max(e+r,0)),{r:s}}}};qt.refX=qt["ref-x"];qt.refY=qt["ref-y"];qt["ref-x2"]=qt["ref-x"];qt["ref-y2"]=qt["ref-y"];qt["ref-width2"]=qt["ref-width"];qt["ref-height2"]=qt["ref-height"];qt["ref-r"]=qt["ref-r-inscribed"];const yr={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},uS=Object.keys(yr).map(e=>yr[e]).join(""),Rc="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",cS=/\s/g,ng=new RegExp(`^(${Rc}\\*)?([${uS}])(/${Rc})?([-+]{1,2}${Rc})?$`,"g");function bv(e){throw new Error(`Invalid calc() expression: ${e}`)}function fS(e,t){const n=ng.exec(e.replace(cS,""));n||bv(e),ng.lastIndex=0;const[,r,s,a,l]=n,{x:c,y:f,width:p,height:g}=t;let h=0;switch(s){case yr.width:{h=p;break}case yr.height:{h=g;break}case yr.x:{h=c;break}case yr.y:{h=f;break}case yr.minimum:{h=Math.min(g,p);break}case yr.maximum:{h=Math.max(g,p);break}case yr.diagonal:{h=Math.sqrt(g*g+p*p);break}}return r&&(h*=parseFloat(r)),a&&(h/=parseFloat(a.slice(1))),l&&(h+=dS(l)),h}function dS(e){if(!e)return 0;const[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}function Ms(e){return typeof e=="string"&&e.includes("calc")}const Ev="calc(",rg=Ev.length;function Ns(e,t){let n=e,r=0;do{let s=n.indexOf(Ev,r);if(s===-1)return n;let a=s+rg,l=1;e:do{switch(n[a]){case"(":{l++;break}case")":{if(l--,l===0)break e;break}case void 0:bv(n)}a++}while(!0);let c=n.slice(s+rg,a);Ms(c)&&(c=Ns(c,t));const f=String(fS(c,t));n=n.slice(0,s)+f+n.slice(a+1),r=s+f.length}while(!0)}function ds(e,t,n){return n.text!==void 0}const Dc=["font-weight","font-family","font-size","letter-spacing","text-transform"],Av={"line-height":{qualify:ds},"text-vertical-anchor":{qualify:ds},"text-path":{qualify:ds},annotations:{qualify:ds},eol:{qualify:ds},"display-empty":{qualify:ds},text:{qualify:function(e,t,n){const r=n["text-wrap"];return!r||!yt(r)},unset:function(e){e.textContent=""},set:function(e,t,n,r){const s="joint-text",a=de.data.get(n,s),l=r["line-height"],c=r["text-vertical-anchor"],f=r["display-empty"],p=r["font-size"],g=r.annotations,h=r.eol,x=r.x;let w=r["text-path"];const b=JSON.stringify([e,l,g,c,h,f,w,x,p]);if(a===void 0||a!==b){if(p&&n.setAttribute("font-size",p),qe(w)){const P=w.selector;if(typeof P=="string"){const T=this.findNode(P);T instanceof SVGPathElement&&(w=we({"xlink:href":"#"+T.id},w))}}re(n).text(""+e,{lineHeight:l,annotations:g,textPath:w,x,textVerticalAnchor:c,eol:h,displayEmpty:f}),de.data.set(n,s,b)}}},"text-wrap":{qualify:yt,set:function(e,t,n,r){var s={},a=e.width||0;nn(a)?s.width=t.width*parseFloat(a)/100:Ms(a)?s.width=Number(Ns(a,t)):e.width===null?s.width=1/0:a<=0?s.width=t.width+a:s.width=a;var l=e.height||0;nn(l)?s.height=t.height*parseFloat(l)/100:Ms(l)?s.height=Number(Ns(l,t)):e.height===null||(l<=0?s.height=t.height+l:s.height=l);var c,f=e.text;if(f===void 0&&(f=r.text),f!==void 0){const p=e.breakText||Yw,g=getComputedStyle(n),h={};for(let x=0;x<Dc.length;x++){const w=Dc[x];w in r&&n.setAttribute(w,r[w]),h[w]=g[w]}h.lineHeight=r["line-height"],c=p(""+f,s,h,{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else c="";Av.text.set.call(this,c,t,n,r)},FONT_ATTRIBUTES:Dc},title:{qualify:function(e,t){return t instanceof SVGElement},unset:function(e){de.data.remove(e,"joint-title");const t=e.firstElementChild;t&&t.remove()},set:function(e,t,n){var r="joint-title",s=de.data.get(n,r);if(s===void 0||s!==e){if(de.data.set(n,r,e),n.tagName==="title"){n.textContent=e;return}var a=n.firstElementChild;if(a&&a.tagName==="title")a.textContent=e;else{var l=document.createElementNS(n.namespaceURI,"title");l.textContent=e,n.insertBefore(l,a)}}}}};function ul(e,t){var n=new z(1,0);return function(r){var s,a,l=this[e](r);return l?(a=t.rotate?l.vector().vectorAngle(n):0,s=l.start):(s=this.path.start,a=0),a===0?{transform:"translate("+s.x+","+s.y+")"}:{transform:"translate("+s.x+","+s.y+") rotate("+a+")"}}}function So(){return this.model.isLink()}const Io={connection:{qualify:So,unset:"d",set:function({stubs:e=0}){let t;if(isFinite(e)&&e!==0){let n;e<0?n=(this.getConnectionLength()+e)/2:n=e;const r=this.getConnection(),s=this.getConnectionSubdivisions(),a=r.divideAtLength(n,{segmentSubdivisions:s}),l=r.divideAtLength(-n,{segmentSubdivisions:s});a&&l&&(t=`${a[0].serialize()} ${l[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},"at-connection-length-keep-gradient":{qualify:So,unset:"transform",set:ul("getTangentAtLength",{rotate:!0})},"at-connection-length-ignore-gradient":{qualify:So,unset:"transform",set:ul("getTangentAtLength",{rotate:!1})},"at-connection-ratio-keep-gradient":{qualify:So,unset:"transform",set:ul("getTangentAtRatio",{rotate:!0})},"at-connection-ratio-ignore-gradient":{qualify:So,unset:"transform",set:ul("getTangentAtRatio",{rotate:!1})}};Io["at-connection-length"]=Io["at-connection-length-keep-gradient"];Io["at-connection-ratio"]=Io["at-connection-ratio-keep-gradient"];function Pv(e,t){var n="joint-shape",r=t&&t.resetOffset;return function(s,a,l){var c=de.data.get(l,n);if(!c||c.value!==s){var f=e(s);c={value:s,shape:f,shapeBBox:f.bbox()},de.data.set(l,n,c)}var p=c.shape.clone(),g=c.shapeBBox.clone(),h=g.origin(),x=a.origin();g.x=x.x,g.y=x.y;var w=a.maxRectScaleToFit(g,x),b=g.width===0||a.width===0?1:w.sx,P=g.height===0||a.height===0?1:w.sy;return p.scale(b,P,h),r&&p.translate(-h.x,-h.y),p}}function ig(e){function t(r){return new Ce(re.normalizePathData(r))}var n=Pv(t,e);return function(r,s,a){var l=n(r,s,a);return{d:l.serialize()}}}function sg(e){var t=Pv(st,e);return function(n,r,s){var a=t(n,r,s);return{points:a.serialize()}}}const Ro={"ref-d-reset-offset":{unset:"d",set:ig({resetOffset:!0})},"ref-d-keep-offset":{unset:"d",set:ig({resetOffset:!1})},"ref-points-reset-offset":{unset:"points",set:sg({resetOffset:!0})},"ref-points-keep-offset":{unset:"points",set:sg({resetOffset:!1})}};Ro["ref-d"]=Ro["ref-d-reset-offset"];Ro["ref-points"]=Ro["ref-points-reset-offset"];function Bc(e){var t={},n=e.stroke;typeof n=="string"&&(t.stroke=n,t.fill=n);var r=e["stroke-opacity"];return r===void 0&&(r=e.opacity),r!==void 0&&(t["stroke-opacity"]=r,t["fill-opacity"]=r),t}function og(e){const{paper:t}=this;return`url(#${e.type==="pattern"?t.definePattern(e):t.defineGradient(e)})`}const hS={"source-marker":{qualify:yt,unset:"marker-start",set:function(e,t,n,r){return e=we(Bc(r),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},"target-marker":{qualify:yt,unset:"marker-end",set:function(e,t,n,r){return e=we(Bc(r),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},"vertex-marker":{qualify:yt,unset:"marker-mid",set:function(e,t,n,r){return e=we(Bc(r),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},fill:{qualify:yt,set:og},stroke:{qualify:yt,set:og},filter:{qualify:yt,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}}};function ag(e,t,n){return function(r,s){var a;r==="middle"?a=s[t]/2:r===n?a=s[t]:isFinite(r)?a=r>-1&&r<1?-s[t]*r:-r:nn(r)?a=s[t]*parseFloat(r)/100:a=0;var l=new z;return l[e]=-(s[e]+a),l}}const pS={"x-alignment":{offset:ag("x","width","right")},"y-alignment":{offset:ag("y","height","bottom")},"reset-offset":{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}}};function lg(e){return function(n,r,s){const a=re(s);a.attr(e)!==n&&a.attr(e,n)}}const Di={ref:{},href:{set:lg("href")},"xlink:href":{set:lg("xlink:href")},port:{set:function(e){return e===null||e.id===void 0?e:e.id}},style:{qualify:yt,set:function(e,t,n){de(n).css(e)}},html:{unset:function(e){de(e).empty()},set:function(e,t,n){de(n).html(e+"")}},props:lS};we(Di,qt);we(Di,Av);we(Di,Io);we(Di,Ro);we(Di,hS);we(Di,pS);const Tv=Di,gS=function(e,t){if(Array.isArray(e))return t};function ug(e){for(const t in e){const n=e[t];qe(n)&&!Array.isArray(n)&&pn(n)&&delete e[t]}}const or=Pn.extend({constructor:function(e,t){var n,r=e||{};if(typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=Fo("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r,t)||{}),n=it(this,"defaults")){const s=t&&t.mergeArrays===!0?!1:gS;r=Et({},n,r,s)}this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,n){throw new Error("Must define a translate() method.")},toJSON:function(e){const{ignoreDefaults:t,ignoreEmptyAttributes:n=!1}=e||{},r=it(this.constructor.prototype,"defaults");if(t===!1){const c=fn(this.attributes);return n&&ug(c),c}let s={},a=fn(this.attributes);t===!0?s=r:(Array.isArray(t)?t:["attrs"]).forEach(f=>{s[f]=r[f]||{}});const l=Kw(a,Ho(s,"id","type"),{maxDepth:4});return n&&ug(l),l},initialize:function(e){const t=this.getIdAttribute();(!e||e[t]===void 0)&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return $w()},processPorts:function(){var e=this.ports,t={};nr(this.get("attrs"),function(a,l){a&&a.port&&(a.port.id!==void 0?t[a.port.id]=a.port:t[a.port]={id:a.port})});var n={};if(nr(e,function(a,l){t[l]||(n[l]=!0)}),this.graph&&!pn(n)){var r=this.graph.getConnectedLinks(this,{inbound:!0});r.forEach(function(a){n[a.get("target").port]&&a.remove()});var s=this.graph.getConnectedLinks(this,{outbound:!0});s.forEach(function(a){n[a.get("source").port]&&a.remove()})}this.ports=t},remove:function(e={}){const{graph:t,collection:n}=this;if(!t)return n&&n.remove(this,e),this;t.startBatch("remove");const r=this.getParentCell();r&&r.unembed(this,e);const s=this.getEmbeddedCells();for(let a=0,l=s.length;a<l;a++){const c=s[a];c&&c.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=dn(e||{},{foregroundEmbeds:!0});let n;e.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];const r=e.foregroundEmbeds?n:pl(n,f=>f.z());let a=t.maxZIndex()-n.length+1;const l=t.get("cells");let c=l.toArray().indexOf(r[0])!==l.length-n.length;c||(c=r.some(function(f,p){return f.z()!==a+p})),c&&(this.startBatch("to-front"),a=a+n.length,r.forEach(function(f,p){f.set("z",a+p,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=dn(e||{},{foregroundEmbeds:!0});let r;e.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),r.unshift(this)):r=[this];const s=e.foregroundEmbeds?r:pl(r,c=>c.z());let a=t.minZIndex();var n=t.get("cells");let l=n.toArray().indexOf(s[0])!==0;l||(l=s.some(function(c,f){return c.z()!==a+f})),l&&(this.startBatch("to-back"),a-=r.length,s.forEach(function(c,f){c.set("z",a+f,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return e===void 0?this.get("parent"):this.set("parent",e,t)},embed:function(e,t={}){const n=Array.isArray(e)?e:[e];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");if(t.reparent)Ni(n.map(s=>s.getParentCell())).forEach(s=>{s&&s._unembedCells(n,t)});else if(n.some(r=>r.isEmbedded()&&this.id!==r.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(n,t),this},unembed:function(e,t){const n=Array.isArray(e)?e:[e];return this._unembedCells(n,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every(n=>this!==n&&!this.isEmbeddedIn(n))},_embedCells:function(e,t){const n="embed";this.startBatch(n);const r=we([],this.get("embeds"));e.forEach(s=>{r[s.isLink()?"unshift":"push"](s.id),s.parent(this.id,t)}),this.set("embeds",Ni(r),t),this.stopBatch(n)},_unembedCells:function(e,t){const n="unembed";this.startBatch(n),e.forEach(r=>r.unset("parent",t)),this.set("embeds",qp(this.get("embeds"),...e.map(r=>r.id)),t),this.stopBatch(n)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},!this.graph)return[];if(e.deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);const t=this.get("embeds");if(pn(t))return[];let n=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(n=pl(n,r=>r.z())),n},_getEmbeddedCellsBfs:function(e){const t=[],n=[];for(n.push(this);n.length>0;){const r=n.shift();t.push(r);const s=r.getEmbeddedCells({sortSiblings:e});n.push(...s)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){const t=[],n=[];for(n.push(this);n.length>0;){const r=n.pop();t.push(r);const s=r.getEmbeddedCells({sortSiblings:e});for(let a=s.length-1;a>=0;--a)n.push(s[a])}return t.shift(),t},isEmbeddedIn:function(e,t){var n=xt(e)?e:e.id,r=this.parent();if(t=we({deep:!0},t),this.graph&&t.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}else return r===n},isEmbedded:function(){return!!this.parent()},clone:function(e){if(e=e||{},e.deep)return Ye(Sv([this].concat(this.getEmbeddedCells({deep:!0}))));var t=Pn.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,n){var r="/",s=xt(e);if(s||Array.isArray(e))if(arguments.length>1){var a,l;s?(a=e,l=a.split("/")):(a=e.join(r),l=e.slice());var c=l[0],f=l.length;const M=n||{};M.propertyPath=a,M.propertyValue=t,M.propertyPathArray=l,"rewrite"in M||(M.rewrite=!1);for(var p={},g=p,h=c,x=1;x<f;x++){var w=l[x],b=Number.isFinite(s?Number(w):w);g=g[h]=b?[]:{},h=w}p=Zp(p,l,t,"/");var P=Et({},this.attributes);M.rewrite&&Qp(P,a,"/");var T=Et(P,p);return this.set(c,T[c],M)}else return Ls(this.attributes,e,r);const C=t||{};C.propertyPath=null,C.propertyValue=e,C.propertyPathArray=[],"rewrite"in C||(C.rewrite=!1);const L={};for(const M in e){const{changedValue:R}=Et({},{changedValue:this.attributes[M]},{changedValue:e[M]});L[M]=R}return this.set(L,C)},removeProp:function(e,t){t=t||{};var n=Array.isArray(e)?e:e.split("/"),r=n[0];if(r==="attrs"&&(t.dirty=!0),n.length===1)return this.unset(e,t);var s=n.slice(1),a=this.get(r);return a==null?this:(a=fn(a),Qp(a,s,"/"),this.set(r,a,t))},attr:function(e,t,n){var r=Array.from(arguments);return r.length===0?this.get("attrs"):(Array.isArray(e)?r[0]=["attrs"].concat(e):xt(e)?r[0]="attrs/"+e:r[0]={attrs:e},this.prop.apply(this,r))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,n,r){r=r||"/";var s={duration:100,delay:10,timingFunction:Zw.linear,valueFunction:vv.number};n=we(s,n);var a=0,l,c=(function(h){var x,w,b;a=a||h,h-=a,w=h/n.duration,w<1?this._transitionIds[e]=x=sf(c):(w=1,delete this._transitionIds[e]),b=l(n.timingFunction(w)),n.transitionId=x,this.prop(e,b,n),x||this.trigger("transition:end",this,e)}).bind(this);const{_scheduledTransitionIds:f}=this;let p;var g=h=>{f[e]&&(f[e]=qp(f[e],p),f[e].length===0&&delete f[e]),this.stopPendingTransitions(e,r),l=n.valueFunction(Ls(this.attributes,e,r),t),this._transitionIds[e]=sf(h),this.trigger("transition:start",this,e)};return p=setTimeout(g,n.delay,c),f[e]||(f[e]=[]),f[e].push(p),p},getTransitions:function(){return rf(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t="/"){const{_scheduledTransitionIds:n={}}=this;let r=Object.keys(n);if(e){const s=e.split(t);r=r.filter(a=>ni(s,a.split(t).slice(0,s.length)))}return r.forEach(s=>{n[s].forEach(l=>clearTimeout(l)),delete n[s]}),this},stopPendingTransitions(e,t="/"){const{_transitionIds:n={}}=this;let r=Object.keys(n);if(e){const s=e.split(t);r=r.filter(a=>ni(s,a.split(t).slice(0,s.length)))}r.forEach(s=>{const a=n[s];vl(a),delete n[s],this.trigger("transition:end",this,s)})},stopTransitions:function(e,t="/"){return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,we({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,we({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var n in e)!e.hasOwnProperty(n)||!this.hasChanged(n)||(t|=e[n]);return t},angle:function(){return 0},position:function(){return new z(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new z},getBBox:function(){return new he(0,0,0,0)},getPointRotatedAroundCenter(e,t,n){const r=new z(t,n);return e&&r.rotate(this.getBBox().center(),e),r},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes,n=Tv;return t&&t[e]||n[e]},define:function(e,t,n,r){n=we({defaults:Uf({type:e},t,this.prototype.defaults)},n);var s=this.extend(n,r);return typeof joint<"u"&&ir(joint,"shapes")&&Zp(joint.shapes,e,s,"."),s}}),mS=function(e,t,n){if(xt(n)){if(!of[n])throw new Error('Unknown wrapper: "'+n+'"');n=of[n]}if(!Je(n))throw new Error("Wrapper must be a function.");Ye(t).forEach(function(r){e[r]=n(e[r])})},of={cells:function(e){return function(){var t=Array.from(arguments),n=t.length,r=n>0&&t[0]||[],s=n>1&&t[n-1]||{};return Array.isArray(r)||(s instanceof or?r=t:r instanceof or&&(t.length>1&&t.pop(),r=t)),s instanceof or&&(s={}),e.call(this,r,s)}}};function Sr(e,...t){const n=[];return e.forEach((s,a)=>{n.push(s),a in t&&n.push(t[a])}),vS(n.join(""))}function vS(e){const t=new DOMParser,n=`<svg>${e.trim()}</svg>`;if(t.parseFromString(n.replace(/@/g,""),"application/xml").getElementsByTagName("parsererror")[0])throw new Error("Invalid SVG markup");const a=t.parseFromString(n,"text/html").querySelector("svg");return yS(a)}function Cv(e){const t={},{tagName:n,attributes:r,namespaceURI:s,style:a,childNodes:l}=e;t.namespaceURI=s,t.tagName=s===re.namespace.xhtml?n.toLowerCase():n;const c={};for(var f=a.length;f--;){var p=a[f];c[p]=a.getPropertyValue(p)}t.style=c;const g=r.getNamedItem("@selector");g&&(t.selector=g.value,r.removeNamedItem("@selector"));const h=r.getNamedItem("@group-selector");if(h){const P=h.value.split(",");t.groupSelector=P.map(T=>T.trim()),r.removeNamedItem("@group-selector")}const x=r.getNamedItem("class");x&&(t.className=x.value);const w=[];l.forEach(P=>{switch(P.nodeType){case Node.TEXT_NODE:{const T=P.data.replace(/\s\s+/g," ");T.trim()&&w.push(T);break}case Node.ELEMENT_NODE:{w.push(Cv(P));break}}}),w.length&&(t.children=w);const b={};return Array.from(r).forEach(P=>{const{name:T,value:C}=P;b[T]=C}),Object.keys(b).length>0&&(t.attributes=b),t}function yS(e){const t=[];return Array.from(e.children).forEach(n=>{t.push(Cv(n))}),t}const mt={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function kv(e,t){const n=new he(e);switch(t){case void 0:throw new Error("Position required");case mt.LEFT:case"leftMiddle":return n.leftMiddle();case mt.RIGHT:case"rightMiddle":return n.rightMiddle();case mt.TOP:case"topMiddle":return n.topMiddle();case mt.BOTTOM:case"bottomMiddle":return n.bottomMiddle();case mt.TOP_LEFT:case"topLeft":case"origin":return n.topLeft();case mt.TOP_RIGHT:case"topRight":return n.topRight();case mt.BOTTOM_LEFT:case"bottomLeft":return n.bottomLeft();case mt.BOTTOM_RIGHT:case"bottomRight":case"corner":return n.bottomRight();case mt.CENTER:return n.center();default:throw new Error(`Unknown position: ${t}`)}}function _v(e,t,n){var r=e.toJSON();return r.angle=t||0,dn({},n,r)}function Wo(e,t,n,r){return e.map(function(s,a,l){var c=this.pointAt((a+.5)/l.length);return(s.dx||s.dy)&&c.offset(s.dx||0,s.dy||0),_v(c.round(),0,Wf(r,s))},_i(t,n))}function Lv(e,t,n,r){var s=t.center(),a=t.width/t.height,l=t.topMiddle(),c=Ht.fromRect(t);return e.map(function(f,p,g){var h=n+r(p,g.length),x=l.clone().rotate(s,-h).scale(a,1,s),w=f.compensateRotation?-c.tangentTheta(x):0;return(f.dx||f.dy)&&x.offset(f.dx||0,f.dy||0),f.dr&&x.move(s,f.dr),_v(x.round(),w,Wf(t,f))})}function Wf(e,t){let{x:n,y:r,angle:s}=t;return nn(n)?n=parseFloat(n)/100*e.width:Ms(n)&&(n=Number(Ns(n,e))),nn(r)?r=parseFloat(r)/100*e.height:Ms(r)&&(r=Number(Ns(r,e))),{x:n,y:r,angle:s}}function af(e,t){const{x:n,y:r}=Wf(e,t);return new z(n||0,r||0)}const xS=function(e,t){return e.map(n=>{const r=af(t,n).round().toJSON();return r.angle=n.angle||0,r})},wS=function(e,t,n){return n.fn(e,t,n)},SS=function(e,t,n){var r=af(t,n.start||t.origin()),s=af(t,n.end||t.corner());return Wo(e,r,s,t)},bS=function(e,t,n){return Wo(e,t.origin(),t.bottomLeft(),t)},ES=function(e,t,n){return Wo(e,t.topRight(),t.corner(),t)},AS=function(e,t,n){return Wo(e,t.origin(),t.topRight(),t)},PS=function(e,t,n){return Wo(e,t.bottomLeft(),t.corner(),t)},TS=function(e,t,n){var r=n.startAngle||0,s=n.step||360/e.length;return Lv(e,t,r,function(a){return a*s})},CS=function(e,t,n){var r=n.startAngle||0,s=n.step||20;return Lv(e,t,r,function(a,l){return(a+.5-l/2)*s})},kS=Object.freeze(Object.defineProperty({__proto__:null,absolute:xS,bottom:PS,ellipse:CS,ellipseSpread:TS,fn:wS,left:bS,line:SS,right:ES,top:AS},Symbol.toStringTag,{value:"Module"}));function oi(e,t){return Uf({},e,t,{x:0,y:0,angle:0,attrs:{}})}function Mv(e){var t=e.center(),n=t.theta(e.origin()),r=t.theta(e.bottomLeft()),s=t.theta(e.corner()),a=t.theta(e.topRight());return[n,a,s,r]}function Nv(e,t,n,r){r=dn({},r,{offset:15});var s=t.center().theta(e),a,l,c,f,p=r.offset,g=0;const[h,x,w,b]=Mv(t);s<x||s>w?(c=".3em",a=p,l=0,f="start"):s<h?(a=0,l=-p,n?(g=-90,f="start",c=".3em"):(f="middle",c="0")):s<b?(c=".3em",a=-p,l=0,f="end"):(a=0,l=p,n?(g=90,f="start",c=".3em"):(f="middle",c=".6em"));var P=Math.round;return oi(r,{x:P(a),y:P(l),angle:g,attrs:{labelText:{y:c,textAnchor:f}}})}function Ov(e,t,n,r){r=dn({},r,{offset:15});var s=t.center().theta(e),a,l,c,f,p=r.offset,g=0;const[h,x,w,b]=Mv(t);s<x||s>w?(c=".3em",a=-p,l=0,f="end"):s<h?(a=0,l=p,n?(g=90,f="start",c=".3em"):(f="middle",c=".6em")):s<b?(c=".3em",a=p,l=0,f="start"):(a=0,l=-p,n?(g=-90,f="start",c=".3em"):(f="middle",c="0"));var P=Math.round;return oi(r,{x:P(a),y:P(l),angle:g,attrs:{labelText:{y:c,textAnchor:f}}})}function Fv(e,t,n){n=dn({},n,{offset:20});var r=bl(0,0),s=-e.theta(r),a=s,l=e.clone().move(r,n.offset).difference(e).round(),c=".3em",f;(s+90)%180===0?(f=t?"end":"middle",!t&&s===-270&&(c="0em")):s>-270&&s<-90?(f="start",a=s-180):f="end";var p=Math.round;return oi(n,{x:p(l.x),y:p(l.y),angle:t?a:0,attrs:{labelText:{y:c,textAnchor:f}}})}const _S=function(e,t,n){return oi(n)},LS=function(e,t,n){return oi(n,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},MS=function(e,t,n){return oi(n,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},NS=function(e,t,n){return oi(n,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},OS=function(e,t,n){return oi(n,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},FS=function(e,t,n){return Nv(e,t,!0,n)},IS=function(e,t,n){return Nv(e,t,!1,n)},RS=function(e,t,n){return Ov(e,t,!0,n)},DS=function(e,t,n){return Ov(e,t,!1,n)},BS=function(e,t,n){return Fv(e.difference(t.center()),!1,n)},zS=function(e,t,n){return Fv(e.difference(t.center()),!0,n)},VS=Object.freeze(Object.defineProperty({__proto__:null,bottom:OS,inside:DS,insideOriented:RS,left:LS,manual:_S,outside:IS,outsideOriented:FS,radial:BS,radialOriented:zS,right:MS,top:NS},Symbol.toStringTag,{value:"Module"}));var Iv=function(e){var t=fn(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=kS,this.portLabelLayoutNamespace=VS,this._init(t)};Iv.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var n=this.getGroup(e),r=this.getPortsByGroup(e),s=n.position||{},a=s.name,l=this.portLayoutNamespace;l[a]||(a="left");var c=s.args||{},f=r.map(function(h){return h&&h.position&&h.position.args}),p=l[a](f,t,c),g={ports:r,result:[]};return Ye(p).reduce((function(h,x,w){var b=h.ports[w];return h.result.push({portId:b.id,portTransformation:x,labelTransformation:this._getPortLabelLayout(b,z(x),t),portAttrs:b.attrs,portSize:b.size,labelSize:b.label.size}),h}).bind(this),g),g.result},_getPortLabelLayout:function(e,t,n){var r=this.portLabelLayoutNamespace,s=e.label.position.name||"left";return r[s]?r[s](t,n,e.label.position.args):null},_init:function(e){if(qe(e.groups))for(var t=Object.keys(e.groups),n=0,r=t.length;n<r;n++){var s=t[n];this.groups[s]=this._evaluateGroup(e.groups[s])}for(var a=Ye(e.items),l=0,c=a.length;l<c;l++)this.ports.push(this._evaluatePort(a[l]))},_evaluateGroup:function(e){return Et(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=we({},e),n=this.getGroup(e.group);return t.markup=t.markup||n.markup,t.attrs=Et({},n.attrs,t.attrs),t.position=this._createPositionNode(n,t),t.label=Et({},n.label,this._getLabel(t)),t.z=this._getZIndex(n,t),t.size=we({},n.size,t.size),t},_getZIndex:function(e,t){return Gt(t.z)?t.z:Gt(e.z)||e.z==="auto"?e.z:"auto"},_createPositionNode:function(e,t){return Et({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var n={},r;Je(e)?(r="fn",n.fn=e):xt(e)?r=e:e===void 0?r=t?"left":null:Array.isArray(e)?(r="absolute",n.x=e[0],n.y=e[1]):qe(e)&&(r=e.name,we(n,e.args));var s={args:n};return r&&(s.name=r),s},_getLabel:function(e,t){var n=e.label||{},r=n;return r.position=this._getPosition(n.position,t),r}};const US={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};Ye(e.items).forEach(function(c){t[c.id]=!0});var n=this.previous("ports")||{},r={};Ye(n.items).forEach(function(c){t[c.id]||(r[c.id]=!0)});var s=this.graph;if(s&&!pn(r)){var a=s.getConnectedLinks(this,{inbound:!0});a.forEach(function(c){r[c.get("target").port]&&c.remove()});var l=s.getConnectedLinks(this,{outbound:!0});l.forEach(function(c){r[c.get("source").port]&&c.remove()})}},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return this.getPortIndex(e)!==-1},getPorts:function(){return fn(this.prop("ports/items"))||[]},getGroupPorts:function(e){const t=Ye(this.prop(["ports","items"])).filter(n=>n.group===e);return fn(t)},getPort:function(e){return fn(Ye(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortGroupNames:function(){return Object.keys(this._portSettingsData.groups)},getPortsPositions:function(e){var t=this._portSettingsData.getGroupPortsMetrics(e,he(this.size()));return t.reduce(function(n,r){var s=r.portTransformation;return n[r.portId]={x:s.x,y:s.y,angle:s.angle},n},{})},getPortIndex:function(e){var t=qe(e)?e.id:e;return this._isValidPortId(t)?Ye(this.prop("ports/items")).findIndex(function(n){return n.id===t}):-1},addPort:function(e,t){if(!qe(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var n=we([],this.prop("ports/items"));return n.push(e),this.prop("ports/items",n,t),this},insertPort:function(e,t,n){const r=typeof e=="number"?e:this.getPortIndex(e);if(!qe(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");const s=we([],this.prop("ports/items"));return s.splice(r,0,t),this.prop("ports/items",s,n),this},portProp:function(e,t,n,r){var s=this.getPortIndex(e);if(s===-1)throw new Error("Element: unable to find port with id "+e);var a=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?a[0]=["ports","items",s].concat(t):xt(t)?a[0]=["ports/items/",s,"/",t].join(""):(a=["ports/items/"+s],yt(t)&&(a.push(t),a.push(n))),this.prop.apply(this,a)},_validatePorts:function(){var e=this.get("ports")||{},t=[];e=e||{};var n=Ye(e.items);return n.forEach(function(r){typeof r!="object"&&t.push("Element: invalid port ",r),this._isValidPortId(r.id)||(r.id=this.generatePortId())},this),Ni(n,"id").length!==n.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return e!=null&&!qe(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",we([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){const n=t||{},r=this.getPortIndex(e);if(r!==-1){const s=we([],this.prop(["ports","items"]));s.splice(r,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],s,n),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let n,r;if(Array.isArray(e)){if(n=t||{},e.length===0)return this.this;r=we([],this.prop(["ports","items"])).filter(function(a){return!e.some(function(l){const c=qe(l)?l.id:l;return a.id===c})})}else n=e||{},r=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],r,n),this.stopBatch("port-remove"),this},_createPortData:function(){var e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));var t;this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new Iv(this.get("ports"));var n=this._portSettingsData.getPorts();if(t){var r=n.filter(function(a){if(!t.find(function(l){return l.id===a.id}))return a}),s=t.filter(function(a){if(!n.find(function(l){return l.id===a.id}))return a});s.length>0&&this.trigger("ports:remove",this,s),r.length>0&&this.trigger("ports:add",this,r)}}},GS={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),n=0,r=t.node.childNodes.length;n<r;n++)e.push(t.node.childNodes[n]);var s=Jx(this.model._portSettingsData.getPorts(),"z"),a="auto";Ye(s[a]).forEach(function(g){var h=this._getPortElement(g);t.append(h),e.push(h)},this);for(var l=Object.keys(s),c=0;c<l.length;c++){var f=l[c];if(f!==a){var p=parseInt(f,10);this._appendPorts(s[f],p,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,n){var r=this._getContainerElement(),s=Ye(e).map(this._getPortElement,this);n[t]||t<0?re(n[Math.max(t,0)]).before(s):r.append(s)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNodes:function(e,t){const n=this._portElementsCache[e];if(!n)return[];if(!t)return[n.portContentElement.node];const r=n.portElement.node,s=n.portSelectors;return this.findBySelector(t,r,s)},findPortNode:function(e,t){const[n=null]=this.findPortNodes(e,t);return n},_updatePorts:function(){this._updatePortGroup(void 0);var e=Object.keys(this.model._portSettingsData.groups);e.forEach(this._updatePortGroup,this)},_removePorts:function(){rr(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,n,r,s;var a=re(this.portContainerMarkup).addClass("joint-port"),l=this._getPortMarkup(e);if(Array.isArray(l)){var c=this.parseDOMJSON(l,a.node),f=c.fragment;f.childNodes.length>1?t=re("g").append(f):t=re(f.firstChild),s=c.selectors}else t=re(l),Array.isArray(t)&&(t=re("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group}),Gt(e.id)&&t.attr("port-id-type","number");const p=this._getPortLabelMarkup(e.label);if(Array.isArray(p)){const{fragment:P,selectors:T}=this.parseDOMJSON(p,a.node),C=P.childNodes.length;C>0&&(r=T,n=C===1?re(P.firstChild):re("g").append(P))}else n=re(p),Array.isArray(n)&&(n=re("g").append(n));var g;if(s&&r){for(var h in r)if(s[h]&&h!==this.selector)throw new Error("ElementView: selectors within port must be unique.");g=we({},s,r)}else g=s||r||{};const x="portRoot",w="labelRoot",b="labelText";if(x in g||(g[x]=t.node),n){const P=n.node;if(w in g||(g[w]=P),!(b in g)){const T=n.tagName()==="TEXT"?P:Array.from(P.querySelectorAll("text"));g[b]=T,r||(r={}),r[b]=T}}return a.append(t.addClass("joint-port-body")),n&&a.append(n.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:a,portLabelElement:n,portSelectors:g,portLabelSelectors:r,portContentElement:t,portContentSelectors:s},a},_updatePortGroup:function(e){for(var t=he(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(e,t),r=0,s=n.length;r<s;r++){var a=n[r],l=a.portId,c=this._portElementsCache[l]||{},f=a.portTransformation,p=a.labelTransformation;p&&c.portLabelElement&&(this.updateDOMSubtreeAttributes(c.portLabelElement.node,p.attrs,{rootBBox:new he(a.labelSize),selectors:c.portLabelSelectors}),this.applyPortTransform(c.portLabelElement,p,-f.angle||0)),this.updateDOMSubtreeAttributes(c.portElement.node,a.portAttrs,{rootBBox:new he(a.portSize),selectors:c.portSelectors}),this.applyPortTransform(c.portElement,f)}},applyPortTransform:function(e,t,n){var r=re.createSVGMatrix().rotate(n||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(r,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},Nt=or.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),or.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,n){const r=Gt(t);n=(r?n:e)||{};const{parentRelative:s,deep:a,restrictedArea:l}=n;let c;if(s){if(!this.graph)throw new Error("Element must be part of a graph.");const f=this.getParentCell();f&&!f.isLink()&&(c=f.get("position"))}if(r){if(c&&(e+=c.x,t+=c.y),a||l){const{x:f,y:p}=this.get("position");this.translate(e-f,t-p,n)}else this.set("position",{x:e,y:t},n);return this}else{const f=z(this.get("position"));return s?f.difference(c):f}},translate:function(e,t,n){if(e=e||0,t=t||0,e===0&&t===0)return this;n=n||{},n.translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0},s=n.restrictedArea;if(s&&n.translateBy===this.id)if(typeof s=="function"){var a=s.call(this,r.x+e,r.y+t,n);e=a.x-r.x,t=a.y-r.y}else{var l=this.getBBox({deep:!0}),c=r.x-l.x,f=r.y-l.y,p=Math.max(s.x+c,Math.min(s.x+s.width+c-l.width,r.x+e)),g=Math.max(s.y+f,Math.min(s.y+s.height+f-l.height,r.y+t));e=p-r.x,t=g-r.y}var h={x:r.x+e,y:r.y+t};return n.tx=e,n.ty=t,n.transition?(qe(n.transition)||(n.transition={}),this.transition("position",h,we({},n.transition,{valueFunction:vv.object})),rr(this.getEmbeddedCells(),"translate",e,t,n)):(this.startBatch("translate",n),this.set("position",h,n),rr(this.getEmbeddedCells(),"translate",e,t,n),this.stopBatch("translate",n)),this},size:function(e,t,n){var r=this.get("size");return e===void 0?{width:r.width,height:r.height}:(qe(e)&&(n=t,t=Gt(e.height)?e.height:r.height,e=Gt(e.width)?e.width:r.width),this.resize(e,t,n))},resize:function(e,t,n){if(n=n||{},this.startBatch("resize",n),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":t=r.height;break;case"top":case"bottom":e=r.width;break}var s=kn(this.get("angle")||0),a=this.getBBox(),l;if(s){var c={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(c+=Math.floor((s+45)/90),c%=4);var f=a[["bottomLeft","corner","topRight","origin"][c]](),p=z(f).rotate(a.center(),-s),g=Math.sqrt(e*e+t*t)/2,h=c*Math.PI/2;h+=Math.atan(c%2==0?t/e:e/t),h-=en(s);var x=z.fromPolar(g,h,p);l=z(x).offset(e/-2,t/-2)}else switch(l=a.topLeft(),n.direction){case"top":case"top-right":l.offset(0,a.height-t);break;case"left":case"bottom-left":l.offset(a.width-e,0);break;case"top-left":l.offset(a.width-e,a.height-t);break}this.set("size",{width:e,height:t},n),this.position(l.x,l.y,n)}else this.set("size",{width:e,height:t},n);return this.stopBatch("resize",n),this},scale:function(e,t,n,r){var s=this.getBBox().scale(e,t,n);return this.startBatch("scale",r),this.position(s.x,s.y,r),this.resize(s.width,s.height,r),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");const n=this.getEmbeddedCells().filter(r=>r.isElement());return n.length===0?this:(this.startBatch("fit-embeds",e),e.deep&&rr(n,"fitToChildren",e),this._fitToElements(Object.assign({elements:n},e)),this.stopBatch("fit-embeds"),this)},fitParent:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;const n=this.getParentCell();if(!n||!n.isElement())return this;const r=n.getEmbeddedCells().filter(s=>s.isElement());return r.length===0?this:(this.startBatch("fit-parent",e),n._fitToElements(Object.assign({elements:r},e)),e.deep&&n.fitParent(e),this.stopBatch("fit-parent"),this)},_fitToElements:function(e={}){const t=this.graph.getCellsBBox(e.elements);if(!t)return;const{expandOnly:n,shrinkOnly:r}=e;if(n&&r)return;let{x:s,y:a,width:l,height:c}=t;const{left:f,right:p,top:g,bottom:h}=Fi(e.padding);s-=f,a-=g,l+=f+p,c+=h+g;let x=new he(s,a,l,c);if(n)x=this.getBBox().union(x);else if(r){const w=this.getBBox().intersect(x);if(!w)return;x=w}this.set({position:{x:x.x,y:x.y},size:{width:x.width,height:x.height}},e)},rotate:function(e,t,n,r){if(n){var s=this.getBBox().center(),a=this.get("size"),l=this.get("position");s.rotate(n,this.get("angle")-e);var c=s.x-a.width/2-l.x,f=s.y-a.height/2-l.y;this.startBatch("rotate",{angle:e,absolute:t,origin:n}),this.position(l.x+c,l.y+f,r),this.rotate(e,t,null,r),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,r);return this},angle:function(){return kn(this.get("angle")||0)},getBBox:function(e={}){const{graph:t,attributes:n}=this,{deep:r,rotate:s}=e;if(r&&t){const h=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return h.push(this),t.getCellsBBox(h,e)}const{angle:a=0,position:{x:l,y:c},size:{width:f,height:p}}=n,g=new he(l,c,f,p);return s&&g.rotateAroundCenter(a),g},getPointFromConnectedLink:function(e,t){var n=this.getBBox(),r=n.center(),s=e.get(t);if(!s)return r;var a=s.port;if(!a||!this.hasPort(a))return r;var l=this.portProp(a,["group"]),c=this.getPortsPositions(l),f=new z(c[a]).offset(n.origin()),p=this.angle();return p&&f.rotate(r,-p),f}});we(Nt.prototype,US);const Wl=or.extend({defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,x:"calc(x)",y:"calc(y)",width:"calc(w)",height:"calc(h)"}},position:{distance:.5}}},defaults:{source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,n){if(e===void 0)return Dt(this.get("source"));var r,s,a=e instanceof or;if(a)return r=Dt(t)||{},r.id=e.id,s=n,this.set("source",r,s);var l=!yt(e);return l?(r=Dt(t)||{},r.x=e.x,r.y=e.y,s=n,this.set("source",r,s)):(r=e,s=t,this.set("source",r,s))},target:function(e,t,n){if(e===void 0)return Dt(this.get("target"));var r,s,a=e instanceof or;if(a)return r=Dt(t)||{},r.id=e.id,s=n,this.set("target",r,s);var l=!yt(e);return l?(r=Dt(t)||{},r.x=e.x,r.y=e.y,s=n,this.set("target",r,s)):(r=e,s=t,this.set("target",r,s))},router:function(e,t,n){if(e===void 0){var r=this.get("router");return r?typeof r=="object"?Dt(r):r:null}var s=typeof e=="object"||typeof e=="function",a=s?e:{name:e,args:t},l=s?t:n;return this.set("router",a,l)},connector:function(e,t,n){if(e===void 0){var r=this.get("connector");return r?typeof r=="object"?Dt(r):r:null}var s=typeof e=="object"||typeof e=="function",a=s?e:{name:e,args:t},l=s?t:n;return this.set("connector",a,l)},label:function(e,t,n){var r=this.labels();return e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=r.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,n)},labels:function(e,t){return arguments.length===0?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){const{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,n){if(!t)throw new Error("dia.Link: no label provided");var r=this.labels(),s=r.length;return e=isFinite(e)&&e!==null?e|0:s,e<0&&(e=s+e+1),r.splice(e,0,t),this.labels(r,n)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var n=this.labels();return e=isFinite(e)&&e!==null?e|0:-1,n.splice(e,1),this.labels(n,t)},vertex:function(e,t,n){var r=this.vertices();if(e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=r.length+e),arguments.length<=1)return this.prop(["vertices",e]);var s=this._normalizeVertex(t);return this.prop(["vertices",e],s,n)},vertices:function(e,t){if(arguments.length===0)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var n=[],r=0;r<e.length;r++){var s=e[r],a=this._normalizeVertex(s);n.push(a)}return this.set("vertices",n,t)},insertVertex:function(e,t,n){if(!t)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),s=r.length;e=isFinite(e)&&e!==null?e|0:s,e<0&&(e=s+e+1);var a=this._normalizeVertex(t);return r.splice(e,0,a),this.vertices(r,n)},removeVertex:function(e,t){var n=this.vertices();return e=isFinite(e)&&e!==null?e|0:-1,n.splice(e,1),this.vertices(n,t)},_normalizeVertex:function(e){var t=!yt(e);return t?{x:e.x,y:e.y}:e},translate:function(e,t,n){return n=n||{},n.translateBy=n.translateBy||this.id,n.tx=e,n.ty=t,this.applyToPoints(function(r){return{x:(r.x||0)+e,y:(r.y||0)+t}},n)},scale:function(e,t,n,r){return this.applyToPoints(function(s){return z(s).scale(e,t,n).toJSON()},r)},applyToPoints:function(e,t){if(!Je(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:r,target:s}=this.attributes;r.id||(n.source=e(r)),s.id||(n.target=e(s));var a=this.vertices();return a.length>0&&(n.vertices=a.map(e)),this.set(n,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new z(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new z(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const e=[this.getSourcePoint(),...this.vertices().map(z),this.getTargetPoint()];return new st(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),s=this.getParentCell();n&&r&&(n===r||n.isEmbeddedIn(r)?t=r:r.isEmbeddedIn(n)?t=n:t=this.graph.getCommonAncestor(n,r)),s&&(!t||t.id!==s.id)&&s.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:n}=this.attributes,r=t.id,s=n.id;if(!r||!s)return!1;var a=r===s;if(!a&&e.deep&&this.graph){var l=this.getSourceCell(),c=this.getTargetCell();a=l.isEmbeddedIn(c)||c.isEmbeddedIn(l)}return a},getSourceCell:function(){const{graph:e,attributes:t}=this;var n=t.source;return n&&n.id&&e&&e.getCell(n.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){const{graph:e,attributes:t}=this;var n=t.target;return n&&n.id&&e&&e.getCell(n.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=xt(e)||Gt(e)?e:e.id,n=this.getRelationshipAncestor();return!!n&&(n.id===t||n.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){var n=e.port===t.port||!e.port&&!t.port;return e.id===t.id&&n}}),Rv={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))},isSafari:function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[e];if(typeof n<"u")return n;try{n=t()}catch{n=!1}return this._results[e]=n,n}},$S=Nt.define("standard.Rectangle",{attrs:{root:{cursor:"move"},body:{width:"calc(w)",height:"calc(h)",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),HS=Nt.define("standard.Circle",{attrs:{root:{cursor:"move"},body:{cx:"calc(s/2)",cy:"calc(s/2)",r:"calc(s/2)",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),WS=Nt.define("standard.Ellipse",{attrs:{root:{cursor:"move"},body:{cx:"calc(w/2)",cy:"calc(h/2)",rx:"calc(w/2)",ry:"calc(h/2)",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),jS=Nt.define("standard.Path",{attrs:{root:{cursor:"move"},body:{d:"M 0 0 H calc(w) V calc(h) H 0 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),qS=Nt.define("standard.Polygon",{attrs:{root:{cursor:"move"},body:{points:"0 0 calc(w) 0 calc(w) calc(h) 0 calc(h)",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),YS=Nt.define("standard.Polyline",{attrs:{root:{cursor:"move"},body:{points:"0 0 calc(w) 0 calc(w) calc(h) 0 calc(h)",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),XS=Nt.define("standard.Image",{attrs:{root:{cursor:"move"},image:{width:"calc(w)",height:"calc(h)"},label:{textVerticalAnchor:"top",textAnchor:"middle",x:"calc(w/2)",y:"calc(h+10)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),ZS=Nt.define("standard.BorderedImage",{attrs:{root:{cursor:"move"},border:{width:"calc(w)",height:"calc(h)",stroke:"#333333",strokeWidth:2},background:{width:"calc(w-1)",height:"calc(h-1)",x:.5,y:.5,fill:"#FFFFFF"},image:{width:"calc(w-1)",height:"calc(h-1)",x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",x:"calc(w/2)",y:"calc(h+10)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),QS=Nt.define("standard.EmbeddedImage",{attrs:{root:{cursor:"move"},body:{width:"calc(w)",height:"calc(h)",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{width:"calc(0.3*w)",height:"calc(h-20)",x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",x:"calc(0.3*w+20)",y:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),KS=Nt.define("standard.InscribedImage",{attrs:{root:{cursor:"move"},border:{rx:"calc(w/2)",ry:"calc(h/2)",cx:"calc(w/2)",cy:"calc(h/2)",stroke:"#333333",strokeWidth:2},background:{rx:"calc(w/2)",ry:"calc(h/2)",cx:"calc(w/2)",cy:"calc(h/2)",fill:"#FFFFFF"},image:{width:"calc(0.68*w)",height:"calc(0.68*h)",x:"calc(0.16*w)",y:"calc(0.16*h)",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",x:"calc(w/2)",y:"calc(h+10)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),JS=Nt.define("standard.HeaderedRectangle",{attrs:{root:{cursor:"move"},body:{width:"calc(w)",height:"calc(h)",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{width:"calc(w)",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2+15)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var zc=10;const e2=Nt.define("standard.Cylinder",{attrs:{root:{cursor:"move"},body:{lateralArea:zc,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{cx:"calc(w/2)",cy:zc,rx:"calc(w/2)",ry:zc,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h+15)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(e===void 0)return this.attr("body/lateralArea");var n={lateralArea:e},r=nn(e),s=r?`calc(${parseFloat(e)/100}*h)`:e,a={cy:s,ry:s};return this.attr({body:n,top:a},t)}},{attributes:{"lateral-area":{set:function(e,t){var n=nn(e);n&&(e=parseFloat(e)/100);var r=t.x,s=t.y,a=t.width,l=t.height,c=a/2,f=n?l*e:e,p=re.KAPPA,g=p*c,h=p*(n?l*e:e),x=r,w=r+a/2,b=r+a,P=s+f,T=P-f,C=s+l-f,L=s+l,M=["M",x,P,"L",x,C,"C",r,C+h,w-g,L,w,L,"C",w+g,L,b,C+h,b,C,"L",b,P,"C",b,P-h,w+g,T,w,T,"C",w-g,T,x,P-h,x,P,"Z"];return{d:M.join(" ")}},unset:"d"}}});var t2={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},n2={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},r2=Rv.test("svgforeignobject")?t2:n2;const i2=Nt.define("standard.TextBlock",{attrs:{root:{cursor:"move"},body:{width:"calc(w)",height:"calc(h)",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{width:"calc(w)",height:"calc(h)"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},r2]},{attributes:{text:{set:function(e,t,n,r){if(n instanceof HTMLElement)n.textContent=e;else{var s=r.style||{},a={text:e,width:-5,height:"100%"},l=we({"text-vertical-anchor":"middle"},s);return Tv["text-wrap"].set.call(this,a,t,n,l),{fill:s.color||null}}},unset:function(e){if(e.textContent="",e instanceof SVGElement)return"fill"},position:function(e,t,n){if(n instanceof SVGElement)return t.center()}}}}),Dv=Wl.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),s2=Wl.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),o2=Wl.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,transform:"translate(3,6)",stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]}),a2=Object.freeze(Object.defineProperty({__proto__:null,BorderedImage:ZS,Circle:HS,Cylinder:e2,DoubleLink:s2,Ellipse:WS,EmbeddedImage:QS,HeaderedRectangle:JS,Image:XS,InscribedImage:KS,Link:Dv,Path:jS,Polygon:qS,Polyline:YS,Rectangle:$S,ShadowLink:o2,TextBlock:i2},Symbol.toStringTag,{value:"Module"})),l2=Object.freeze(Object.defineProperty({__proto__:null,standard:a2},Symbol.toStringTag,{value:"Module"})),xs={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},u2=Object.values(xs),c2=10,f2=1,jf=function(e,t,n=[],r={}){const{cornerType:s=xs.POINT,cornerRadius:a=c2,cornerPreserveAspectRatio:l=!1,precision:c=f2,raw:f=!1}=r;if(u2.indexOf(s)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let p;if(s===xs.POINT||!a){const g=[e].concat(n).concat([t]),h=new st(g);p=new Ce(h)}else{p=new Ce,p.appendSegment(Ce.createSegment("M",e));let g;const h=n.length;for(let x=0;x<h;x++){const w=new z(n[x]),b=n[x-1]||e,P=n[x+1]||t,T=g||w.distance(b)/2;g=w.distance(P)/2;let C,L;l?C=L=-Math.min(a,T,g):(C=-Math.min(a,T),L=-Math.min(a,g));const M=w.clone().move(b,C).round(c),R=w.clone().move(P,L).round(c);switch(p.appendSegment(Ce.createSegment("L",M)),s){case xs.CUBIC:{const G=.3333333333333333,Z=2/3,v=new z(G*M.x+Z*w.x,Z*w.y+G*M.y),S=new z(G*R.x+Z*w.x,Z*w.y+G*R.y);p.appendSegment(Ce.createSegment("C",v,S,R));break}case xs.LINE:{p.appendSegment(Ce.createSegment("L",R));break}case xs.GAP:{p.appendSegment(Ce.createSegment("M",R));break}}}p.appendSegment(Ce.createSegment("L",t))}return f?p:p.serialize()};var d2=5,cg=["arc","gap","cubic"],h2=0,fg=1,p2=["smooth"],cl=1/3,fl=2/3;function dg(e,t){let{x:n,y:r}=e,{x:s,y:a}=t;if(n>s){let l=n;n=s,s=l,l=r,r=a,a=l}if(r>a){let l=n;n=s,s=l,l=r,r=a,a=l}return[new z(n,r),new z(s,a)]}function g2(e,t){const[{x:n,y:r},{x:s,y:a}]=dg(e.start,e.end),[{x:l,y:c},{x:f,y:p}]=dg(t.start,t.end),g=n<=f&&l<=s,h=r<=p&&c<=a;return g&&h}function Vc(e,t,n){var r=[].concat(e,n,t);return r.reduce(function(s,a,l){var c=r[l+1];return c!=null&&(s[l]=_i(a,c)),s},[])}function m2(e){var t=e.paper,n=t._jumpOverUpdateList;if(n==null){n=t._jumpOverUpdateList=[];var r=t.model;r.on("batch:stop",function(){this.hasActiveBatch()||v2(t)}),r.on("reset",function(){n=t._jumpOverUpdateList=[]})}n.indexOf(e)<0&&(n.push(e),e.listenToOnce(e.model,"change:connector remove",function(){n.splice(n.indexOf(e),1)}))}function v2(e){for(var t=e._jumpOverUpdateList,n=0;n<t.length;n++){const r=t[n],s=r.getFlag(r.constructor.Flags.CONNECTOR);r.requestUpdate(s)}}function y2(e,t){return Ye(t).reduce(function(n,r){var s=e.intersection(r);return s&&n.push(s),n},[])}function hg(e,t){return _i(e,t).squaredLength()}function x2(e,t,n){return t.reduce(function(r,s,a){if(s.skip===!0)return r;var l=r.pop()||e,c=bl(s).move(l.start,-n),f=bl(s).move(l.start,+n),p=t[a+1];if(p!=null){var g=f.distance(p);g<=n&&(f=p.move(l.start,g),p.skip=!0)}else{var h=c.distance(l.end);if(h<n*2+fg)return r.push(l),r}var x=f.distance(l.start);if(x<n*2+fg)return r.push(l),r;var w=_i(c,f);return w.isJump=!0,r.push(_i(l.start,c),w,_i(f,l.end)),r},[])}function pg(e,t,n,r){var s=new Ce,a;return a=Ce.createSegment("M",e[0].start),s.appendSegment(a),Ye(e).forEach(function(l,c){if(l.isJump){var f,p,g,h;if(n==="arc"){f=-90,p=l.start.difference(l.end);var x=+(p.x<0||p.x===0&&p.y<0);x&&(f+=180);var w=l.midpoint(),b=new ye(w,l.end).rotate(w,f),P;P=new ye(l.start,w),g=P.pointAt(2/3).rotate(l.start,f),h=b.pointAt(1/3).rotate(b.end,-f),a=Ce.createSegment("C",g,h,b.end),s.appendSegment(a),P=new ye(w,l.end),g=b.pointAt(1/3).rotate(b.end,f),h=P.pointAt(1/3).rotate(l.end,-f),a=Ce.createSegment("C",g,h,l.end),s.appendSegment(a)}else if(n==="gap")a=Ce.createSegment("M",l.end),s.appendSegment(a);else if(n==="cubic"){f=l.start.theta(l.end);var T=t*.6,C=t*1.35;p=l.start.difference(l.end),x=+(p.x<0||p.x===0&&p.y<0),x&&(C*=-1),g=z(l.start.x+T,l.start.y+C).rotate(l.start,f),h=z(l.end.x-T,l.end.y+C).rotate(l.end,f),a=Ce.createSegment("C",g,h,l.end),s.appendSegment(a)}}else{var L=e[c+1];r==0||!L||L.isJump?(a=Ce.createSegment("L",l.end),s.appendSegment(a)):w2(r,s,l.end,l.start,L.end)}}),s}function w2(e,t,n,r,s){var a=n.distance(r)/2,l=n.distance(s)/2,c=-Math.min(e,a),f=-Math.min(e,l),p=n.clone().move(r,c).round(),g=n.clone().move(s,f).round(),h=new z(cl*p.x+fl*n.x,fl*n.y+cl*p.y),x=new z(cl*g.x+fl*n.x,fl*n.y+cl*g.y),w;w=Ce.createSegment("L",p),t.appendSegment(w),w=Ce.createSegment("C",h,x,g),t.appendSegment(w)}const S2=function(e,t,n,r){m2(this);var s=r.raw,a=r.size||d2,l=r.jump&&(""+r.jump).toLowerCase(),c=r.radius||h2,f=r.ignoreConnectors||p2;cg.indexOf(l)===-1&&(l=cg[0]);var p=this.paper,g=p.model,h=g.getLinks();if(h.length===1)return pg(Vc(e,t,n),a,l,c);var x=this.model,w=h.indexOf(x),b=p.options.defaultConnector||{},P=h.filter(function(G,Z){var v=G.get("connector")||b;return Ye(f).includes(v.name)?!1:Z>w?v.name!=="jumpover":!0}),T=P.map(function(G){return p.findViewByModel(G)}),C=Vc(e,t,n),L=T.map(function(G){return G==null?[]:G===this?C:Vc(G.sourcePoint,G.targetPoint,G.route)},this),M=C.reduce(function(G,Z){var v=P.reduce(function(S,E,k){if(E!==x){const O=L[k].slice(),U=O.findIndex(Q=>g2(Z,Q));U>-1&&Z.containsPoint(O[U].end)&&O.splice(U+1,1);const W=y2(Z,O);S.push.apply(S,W)}return S},[]).sort(function(S,E){return hg(Z.start,S)-hg(Z.start,E)});return v.length>0?G.push.apply(G,x2(Z,v,a)):G.push(Z),G},[]),R=pg(M,a,l,c);return s?R:R.serialize()},b2=function(e,t,n=[],r={}){const{raw:s}=r;return jf(e,t,n,{cornerType:"point",raw:s})},E2=10,A2=0,P2=function(e,t,n=[],r={}){const{radius:s=E2,raw:a}=r;return jf(e,t,n,{cornerType:"cubic",cornerRadius:s,precision:A2,raw:a})},T2=function(e,t,n,r){var s=r&&r.raw,a;if(n&&n.length!==0){var l=[e].concat(n).concat([t]),c=Ke.throughPoints(l);a=new Ce(c)}else{a=new Ce;var f;if(f=Ce.createSegment("M",e),a.appendSegment(f),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var p=(e.x+t.x)/2;f=Ce.createSegment("C",p,e.y,p,t.y,t.x,t.y),a.appendSegment(f)}else{var g=(e.y+t.y)/2;f=Ce.createSegment("C",e.x,g,t.x,g,t.x,t.y),a.appendSegment(f)}}return s?a:a.serialize()},Tn={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},$t={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},qf=function(e,t,n=[],r={},s){const a=!!r.raw,{direction:l=Tn.AUTO,precision:c=3}=r,f={coeff:r.distanceCoefficient||.6,angleTangentCoefficient:r.angleTangentCoefficient||80,tau:r.tension||.5,sourceTangent:r.sourceTangent?new z(r.sourceTangent):null,targetTangent:r.targetTangent?new z(r.targetTangent):null,rotate:!!r.rotate};typeof r.sourceDirection=="string"?f.sourceDirection=r.sourceDirection:typeof r.sourceDirection=="number"?f.sourceDirection=new z(1,0).rotate(null,r.sourceDirection):f.sourceDirection=r.sourceDirection?new z(r.sourceDirection).normalize():null,typeof r.targetDirection=="string"?f.targetDirection=r.targetDirection:typeof r.targetDirection=="number"?f.targetDirection=new z(1,0).rotate(null,r.targetDirection):f.targetDirection=r.targetDirection?new z(r.targetDirection).normalize():null;const p=[e,...n,t].map(P=>new z(P));let g;if(f.sourceTangent)g=f.sourceTangent;else{const P=M2(s,p,l,f),T=p[0].distance(p[1])*f.coeff,C=p[1].difference(p[0]).normalize(),L=lf(P,C);if(L>Math.PI/4){const M=T+(L-Math.PI/4)*f.angleTangentCoefficient;g=P.clone().scale(M,M)}else g=P.clone().scale(T,T)}let h;if(f.targetTangent)h=f.targetTangent;else{const P=N2(s,p,l,f),T=p.length-1,C=p[T-1].distance(p[T])*f.coeff,L=p[T-1].difference(p[T]).normalize(),M=lf(P,L);if(M>Math.PI/4){const R=C+(M-Math.PI/4)*f.angleTangentCoefficient;h=P.clone().scale(R,R)}else h=P.clone().scale(C,C)}const w=F2(p,g,h,f).map(P=>I2(P,f)),b=new Ce(w).round(c);return a?b:b.serialize()};qf.Directions=Tn;qf.TangentDirections=$t;function C2(e,t,n){const{sourceBBox:r}=e;let s,a;if(!e.sourceView)r.x>t[1].x?s="right":s="left";else if(a=e.sourceView.model.angle(),n.rotate&&a){const c=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),f=t[0].clone();f.rotate(r.center(),a),s=c.sideNearestToPoint(f)}else s=r.sideNearestToPoint(t[0]);let l;switch(s){case"left":l=new z(-1,0);break;case"right":default:l=new z(1,0);break}return n.rotate&&a&&l.rotate(null,-a),l}function k2(e,t,n){const{targetBBox:r}=e;let s,a;if(!e.targetView)r.x>t[t.length-2].x?s="left":s="right";else if(a=e.targetView.model.angle(),n.rotate&&a){const c=e.targetView.getNodeUnrotatedBBox(e.targetView.el),f=t[t.length-1].clone();f.rotate(r.center(),a),s=c.sideNearestToPoint(f)}else s=r.sideNearestToPoint(t[t.length-1]);let l;switch(s){case"left":l=new z(-1,0);break;case"right":default:l=new z(1,0);break}return n.rotate&&a&&l.rotate(null,-a),l}function _2(e,t,n){const{sourceBBox:r}=e;let s,a;if(!e.sourceView)r.y>t[1].y?s="bottom":s="top";else if(a=e.sourceView.model.angle(),n.rotate&&a){const c=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),f=t[0].clone();f.rotate(r.center(),a),s=c.sideNearestToPoint(f)}else s=r.sideNearestToPoint(t[0]);let l;switch(s){case"top":l=new z(0,-1);break;case"bottom":default:l=new z(0,1);break}return n.rotate&&a&&l.rotate(null,-a),l}function L2(e,t,n){const{targetBBox:r}=e;let s,a;if(!e.targetView)r.y>t[t.length-2].y?s="top":s="bottom";else if(a=e.targetView.model.angle(),n.rotate&&a){const c=e.targetView.getNodeUnrotatedBBox(e.targetView.el),f=t[t.length-1].clone();f.rotate(r.center(),a),s=c.sideNearestToPoint(f)}else s=r.sideNearestToPoint(t[t.length-1]);let l;switch(s){case"top":l=new z(0,-1);break;case"bottom":default:l=new z(0,1);break}return n.rotate&&a&&l.rotate(null,-a),l}function gg(e,t,n){const{sourceBBox:r}=e;let s,a;if(!e.sourceView)s=r.sideNearestToPoint(t[1]);else if(a=e.sourceView.model.angle(),n.rotate&&a){const c=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),f=t[0].clone();f.rotate(r.center(),a),s=c.sideNearestToPoint(f)}else s=r.sideNearestToPoint(t[0]);let l;switch(s){case"top":l=new z(0,-1);break;case"bottom":l=new z(0,1);break;case"right":l=new z(1,0);break;case"left":l=new z(-1,0);break}return n.rotate&&a&&l.rotate(null,-a),l}function mg(e,t,n){const{targetBBox:r}=e;let s,a;if(!e.targetView)s=r.sideNearestToPoint(t[t.length-2]);else if(a=e.targetView.model.angle(),n.rotate&&a){const c=e.targetView.getNodeUnrotatedBBox(e.targetView.el),f=t[t.length-1].clone();f.rotate(r.center(),a),s=c.sideNearestToPoint(f)}else s=r.sideNearestToPoint(t[t.length-1]);let l;switch(s){case"top":l=new z(0,-1);break;case"bottom":l=new z(0,1);break;case"right":l=new z(1,0);break;case"left":l=new z(-1,0);break}return n.rotate&&a&&l.rotate(null,-a),l}function vg(e,t,n){return t[1].difference(t[0]).normalize()}function yg(e,t,n){const r=t.length-1;return t[r-1].difference(t[r]).normalize()}function xg(e,t,n){const{sourceBBox:r}=e,s=r.center();return t[0].difference(s).normalize()}function wg(e,t,n){const{targetBBox:r}=e,s=r.center();return t[t.length-1].difference(s).normalize()}function M2(e,t,n,r){if(r.sourceDirection)switch(r.sourceDirection){case $t.UP:return new z(0,-1);case $t.DOWN:return new z(0,1);case $t.LEFT:return new z(-1,0);case $t.RIGHT:return new z(1,0);case $t.AUTO:return gg(e,t,r);case $t.CLOSEST_POINT:return vg(e,t);case $t.OUTWARDS:return xg(e,t);default:return r.sourceDirection}switch(n){case Tn.HORIZONTAL:return C2(e,t,r);case Tn.VERTICAL:return _2(e,t,r);case Tn.CLOSEST_POINT:return vg(e,t);case Tn.OUTWARDS:return xg(e,t);case Tn.AUTO:default:return gg(e,t,r)}}function N2(e,t,n,r){if(r.targetDirection)switch(r.targetDirection){case $t.UP:return new z(0,-1);case $t.DOWN:return new z(0,1);case $t.LEFT:return new z(-1,0);case $t.RIGHT:return new z(1,0);case $t.AUTO:return mg(e,t,r);case $t.CLOSEST_POINT:return yg(e,t);case $t.OUTWARDS:return wg(e,t);default:return r.targetDirection}switch(n){case Tn.HORIZONTAL:return k2(e,t,r);case Tn.VERTICAL:return L2(e,t,r);case Tn.CLOSEST_POINT:return yg(e,t);case Tn.OUTWARDS:return wg(e,t);case Tn.AUTO:default:return mg(e,t,r)}}function O2(e,t){const n=Math.cos(t),r=Math.sin(t),s=n*e.x-r*e.y,a=r*e.x+n*e.y;e.x=s,e.y=a}function lf(e,t){let n=e.dot(t)/(e.magnitude()*t.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function Sg(e,t){return e.x*t.y-e.y*t.x}function F2(e,t,n,r){const{tau:s,coeff:a}=r,l=[],c=[],f=[],p=e.length-1;for(let g=0;g<p;g++)l[g]=e[g].distance(e[g+1]);c[0]=t,c[p]=n;for(let g=1;g<p;g++){let h,x;g===1?h=e[g-1].clone().offset(c[g-1].x,c[g-1].y):h=e[g-1].clone(),g===p-1?x=e[g+1].clone().offset(c[g+1].x,c[g+1].y):x=e[g+1].clone();const w=h.difference(e[g]).normalize(),b=x.difference(e[g]).normalize(),P=lf(w,b);let T=(Math.PI-P)/2,C;const L=Sg(w,b);let M;M=Sg(e[g].difference(e[g+1]),e[g].difference(e[g-1])),L<0&&(T=-T),P<Math.PI/2&&(T<0&&M<0||T>0&&M>0)&&(T=T-Math.PI),C=b.clone(),O2(C,T);const R=C.clone(),G=C.clone(),Z=l[g-1]*a,v=l[g]*a;R.scale(Z,Z),G.scale(v,v),c[g]=[R,G]}for(let g=0;g<p;g++){let h,x;g===0?h=e[g+1].difference(c[g].x/s,c[g].y/s):h=e[g+1].difference(c[g][1].x/s,c[g][1].y/s),g===p-1?x=e[g].clone().offset(c[g+1].x/s,c[g+1].y/s):x=e[g].difference(c[g+1][0].x/s,c[g+1][0].y/s),f[g]=[h,e[g],e[g+1],x]}return f}function I2(e,t){const{tau:n}=t,r=new z;r.x=e[1].x+(e[2].x-e[0].x)/(6*n),r.y=e[1].y+(e[2].y-e[0].y)/(6*n);const s=new z;return s.x=e[2].x+(e[3].x-e[1].x)/(6*n),s.y=e[2].y+(e[3].y-e[1].y)/(6*n),new Ke(e[1],r,s,e[2])}const R2=Object.freeze(Object.defineProperty({__proto__:null,curve:qf,jumpover:S2,normal:b2,rounded:P2,smooth:T2,straight:jf},Symbol.toStringTag,{value:"Module"}));var ki=function(e){this.cid=Fo("view"),this.preinitialize.apply(this,arguments),we(this,nw(e,B2)),this._ensureElement(),this.initialize.apply(this,arguments)},D2=/^(\S+)\s*(.*)$/,B2=["model","collection","el","id","attributes","className","tagName","events","style"];we(ki.prototype,jt,{tagName:"div",$:function(e){return this.$el.find(e)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof de?e:de(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=it(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var n=e[t];if(Je(n)||(n=this[n]),!!n){var r=t.match(D2);this.delegate(r[1],r[2],n.bind(this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(it(this,"el"));else{var e=we({},it(this,"attributes"));this.id&&(e.id=it(this,"id")),this.className&&(e.class=it(this,"className")),this.setElement(this._createElement(it(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}});ki.extend=Hf;const Ai={},Ps=ki.extend({options:{},theme:null,themeClassNamePrefix:wr("theme-"),requireSetThemeOverride:!1,defaultTheme:As.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=we({},this.options,e),ki.call(this,e)},initialize:function(){Ai[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(e){if(e||(e=it(this,"children")),e){var t=this.svgElement,n=re.namespace[t?"svg":"xhtml"],r=Pl(e,n);(t?this.vel:this.$el).empty().append(r.fragment),this.childNodes=r.selectors}return this},findAttributeNode:function(e,t){let n=t;for(;n&&n.nodeType===1;){if(n.getAttribute(e))return n;if(n===this.el)return null;n=n.parentNode}return null},findAttribute:function(e,t){const n=this.findAttributeNode(e,t);return n&&n.getAttribute(e)},_ensureElement:function(){if(this.el)this.setElement(it(this,"el"));else{var e=it(this,"tagName"),t=we({},it(this,"attributes")),n=we({},it(this,"style"));this.id&&(t.id=it(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(re.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof de?e:de(e),this.el=this.$el[0],this.svgElement&&(this.vel=re(this.el))},_ensureElClassName:function(){var e=it(this,"className");if(e){var t=wr(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override?this:(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e,this)},addThemeClassName:function(e){if(e=e||this.theme,!e)return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){e=e||this.theme;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Ai[this.cid]=null,ki.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,n){if(!t)return this;n||(n={});var r=this.getEventNamespace();for(var s in t){var a=t[s];typeof a!="function"&&(a=this[a]),a&&de(e).on(s+r,n,a.bind(this))}return this},undelegateElementEvents:function(e){return de(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=it(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var n=e.data,r="__"+this.cid+"__";return t===void 0?n?n[r]||{}:{}:(n||(n=e.data={}),n[r]||(n[r]={}),we(n[r],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&we({},e[0])||{},n=e[1]&&we({},e[1])||{},r=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return typeof r=="function"&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},t.render.__render__=r,ki.extend.call(this,t,n)}});var ri=function(e,t){t||(t={}),this.preinitialize.apply(this,arguments),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,we({silent:!0},t))},z2={add:!0,remove:!0,merge:!0},V2={add:!0,remove:!1},bg=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var r=Array(e.length-n),s=t.length,a;for(a=0;a<r.length;a++)r[a]=e[a+n];for(a=0;a<s;a++)e[a+n]=t[a];for(a=0;a<r.length;a++)e[a+s+n]=r[a]};we(ri.prototype,jt,{model:Pn,preinitialize:function(){},initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){return this.set(e,we({merge:!1},t,V2))},remove:function(e,t){t=we({},t);var n=!Array.isArray(e);e=n?[e]:e.slice();var r=this._removeModels(e,t);return!t.silent&&r.length&&(t.changes={added:[],merged:[],removed:r},this.trigger("update",this,t)),n?r[0]:r},set:function(e,t){if(e!=null){t=we({},z2,t);var n=!Array.isArray(e);e=n?[e]:e.slice();var r=t.at;r!=null&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var s=[],a=[],l=[],c=[],f={},p=t.add,g=t.merge,h=t.remove,x=!1,w=this.comparator&&r==null&&t.sort!==!1,b=xt(this.comparator)?this.comparator:null,P,T;for(T=0;T<e.length;T++){P=e[T];var C=this.get(P);if(C){if(g&&P!==C){var L=this._isModel(P)?P.attributes:P;C.set(L,t),l.push(C),w&&!x&&(x=C.hasChanged(b))}f[C.cid]||(f[C.cid]=!0,s.push(C)),e[T]=C}else p&&(P=e[T]=this._prepareModel(P,t),P&&(a.push(P),this._addReference(P,t),f[P.cid]=!0,s.push(P)))}if(h){for(T=0;T<this.length;T++)P=this.models[T],f[P.cid]||c.push(P);c.length&&this._removeModels(c,t)}var M=!1,R=!w&&p&&h;if(s.length&&R?(M=this.length!==s.length||this.models.some(function(G,Z){return G!==s[Z]}),this.models.length=0,bg(this.models,s,0),this.length=this.models.length):a.length&&(w&&(x=!0),bg(this.models,a,r??this.length),this.length=this.models.length),x&&this.sort({silent:!0}),!t.silent){for(T=0;T<a.length;T++)r!=null&&(t.index=r+T),P=a[T],P.trigger("add",P,this,t);(x||M)&&this.trigger("sort",this,t),(a.length||c.length||l.length)&&(t.changes={added:a,removed:c,merged:l},this.trigger("update",this,t))}return n?e[0]:e}},reset:function(e,t){t=t?Dt(t):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,we({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,we({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,we({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return Array.prototype.slice.apply(this.models,arguments)},get:function(e){if(e!=null)return this._byId[e]||this._byId[this.modelId(this._isModel(e)?e.attributes:e,e.idAttribute)]||e.cid&&this._byId[e.cid]},has:function(e){return this.get(e)!=null},at:function(e){return e<0&&(e+=this.length),this.models[e]},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var n=t.length;return Je(t)&&(t=t.bind(this)),n===1||xt(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e,t){return e[t||this.model.prototype.idAttribute||"id"]},values:function(){return new To(this,Bv)},keys:function(){return new To(this,zv)},entries:function(){return new To(this,U2)},each:function(e,t){this.models.forEach(e,t)},filter:function(e,t){return this.models.filter(e,t)},find:function(e,t){return this.models.find(e,t)},findIndex:function(e,t){return this.models.findIndex(e,t)},first:function(){return this.models[0]},includes:function(e){return this.models.includes(e)},last:function(){return this.models[this.models.length-1]},isEmpty:function(){return!this.models.length},map:function(e,t){return this.models.map(e,t)},reduce:function(e,t=this.first()){return this.models.reduce(e,t)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?Dt(t):{},t.collection=this;var n;return this.model.prototype?n=new this.model(e,t):n=this.model(e,t),n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var s=this.get(e[r]);if(s){var a=this.models.indexOf(s);this.models.splice(a,1),this.length--,delete this._byId[s.cid];var l=this.modelId(s.attributes,s.idAttribute);l!=null&&delete this._byId[l],t.silent||(t.index=a,s.trigger("remove",s,this,t)),n.push(s),this._removeReference(s,t)}}return e.length>0&&!t.silent&&delete t.index,n},_isModel:function(e){return e instanceof Pn},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes,e.idAttribute);n!=null&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes,e.idAttribute);n!=null&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if(t){if((e==="add"||e==="remove")&&n!==this)return;if(e==="changeId"){var s=this.modelId(t.previousAttributes(),t.idAttribute),a=this.modelId(t.attributes,t.idAttribute);s!=null&&delete this._byId[s],a!=null&&(this._byId[a]=t)}}this.trigger.apply(this,arguments)}});var Tl=typeof Symbol=="function"&&Symbol.iterator;Tl&&(ri.prototype[Tl]=ri.prototype.values);var To=function(e,t){this._collection=e,this._kind=t,this._index=0},Bv=1,zv=2,U2=3;Tl&&(To.prototype[Tl]=function(){return this});To.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var e=this._collection.at(this._index);this._index++;var t;if(this._kind===Bv)t=e;else{var n=this._collection.modelId(e.attributes,e.idAttribute);this._kind===zv?t=n:t=[n,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var G2={toArray:1,sortBy:3},$2=[ri,G2,"models"];function H2(e){var t=e[0],n=e[1],r=e[2];iS(t,{sortBy:pl,toArray:Ye},n,r)}H2($2);ri.extend=Hf;function bo(e){return e?Array.isArray(e)?e:[e]:[]}const Un=Ps.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){const{paper:n}=e;this.cellView=e,this.nodeSelector=t,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(e,t=null){let n;if(typeof t=="string")n=e.findNode(t);else if(yt(t)){const r=e.model.isLink(),{label:s=null,port:a,selector:l}=t;r&&s!==null?n=e.findLabelNode(s,l):!r&&a?n=e.findPortNode(a,l):n=e.findNode(l)}else t&&(n=re.toNode(t),n instanceof SVGElement||(n=null));return n||null},getNodeMatrix(e,t){const{options:n}=this,{layer:r}=n,{rotatableNode:s}=e,a=e.getNodeMatrix(t);return s?r?s.contains(t)?a:e.getRootRotateMatrix().inverse().multiply(a):e.getNodeRotateMatrix(t).multiply(a):a},mount(){const{MOUNTABLE:e,cellView:t,el:n,options:r,transformGroup:s,detachedTransformGroup:a,postponedUpdate:l,nodeSelector:c}=this;if(!e||s)return;if(l){this.update(t,c),this.transform();return}const{vel:f,paper:p}=t,{layer:g}=r;if(g){let h;a?(h=a,this.detachedTransformGroup=null):h=re("g").addClass("highlight-transform").append(n),this.transformGroup=h,p.getLayerView(g).insertSortedNode(h.node,r.z)}else(!n.parentNode||n.nextSibling)&&f.append(n)},unmount(){const{MOUNTABLE:e,transformGroup:t,vel:n}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):n.remove())},transform(){const{transformGroup:e,cellView:t,updateRequested:n}=this;if(!e||t.model.isLink()||n)return;const r=t.getRootTranslateMatrix(),s=t.getRootRotateMatrix(),a=r.multiply(s);e.attr("transform",re.matrixToTransformString(a))},update(){const{node:e,cellView:t,nodeSelector:n,updateRequested:r,id:s}=this;if(r)return;this.postponedUpdate=!1;const a=this.node=this.findNode(t,n);e&&this.unhighlight(t,e),a?(this.highlight(t,a),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",s,this))},onRemove(){const{node:e,cellView:t,id:n,constructor:r}=this;e&&this.unhighlight(t,e),this.unmount(),r._removeRef(t,n)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){const t=it(this,"UPDATE_ATTRIBUTES");!Array.isArray(t)||t.length===0||this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:e}=this;if(!e)return;const{model:t,paper:n}=e;it(this,"UPDATE_ATTRIBUTES").some(s=>t.hasChanged(s))&&n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,n){const r=this.uniqueId(t,n);this.add(e,t,r,n)},unhighlight:function(e,t,n){const r=this.uniqueId(t,n);this.remove(e,r)},get(e,t=null){const{cid:n}=e,{_views:r}=this,s=r[n];if(t===null){const a=[];if(!s)return a;for(let l in s){const c=s[l];c instanceof this&&a.push(c)}return a}else{if(!s)return null;if(t in s){const a=s[t];if(a instanceof this)return a}return null}},add(e,t,n,r={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");const s=Un.get(e,n);s&&s.remove();const a=new this(r);return a.id=n,this._addRef(e,n,a),a.requestUpdate(e,t),a.listenToUpdateAttributes(e),a},_addRef(e,t,n){const{cid:r}=e,{_views:s}=this;let a=s[r];a||(a=s[r]={}),a[t]=n},_removeRef(e,t){const{cid:n}=e,{_views:r}=this,s=r[n];if(s){t&&delete s[t];for(let a in s)return;delete r[n]}},remove(e,t=null){bo(this.get(e,t)).forEach(n=>{n.remove()})},getAll(e,t=null){const n=[],{_views:r}=this;for(let s in r)for(let a in r[s]){const l=r[s][a];l.cellView.paper===e&&l instanceof this&&(t===null||a===t)&&n.push(l)}return n},removeAll(e,t=null){this.getAll(e,t).forEach(n=>n.remove())},update(e,t=null,n=!1){bo(this.get(e,t)).forEach(r=>{(n||r.UPDATABLE)&&r.update()})},transform(e,t=null){bo(this.get(e,t)).forEach(n=>{n.UPDATABLE&&n.transform()})},unmount(e,t=null){bo(this.get(e,t)).forEach(n=>n.unmount())},mount(e,t=null){bo(this.get(e,t)).forEach(n=>n.mount())},uniqueId(e,t=""){return re.ensureId(e)+JSON.stringify(t)}}),W2=Un.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){const{options:n}=this,{useFirstSubpath:r}=n;let s;try{const a=re(t);if(s=a.convertToPathData().trim(),a.tagName()==="PATH"&&r){const l=s.search(/.M/i)+1;l>0&&(s=s.substr(0,l))}}catch{const l=e.getNodeBoundingRect(t);s=re.rectToPath(we({},n,l.toJSON()))}return s},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){const{vel:n,options:r}=this,{padding:s,layer:a}=r;let l=this.getNodeMatrix(e,t);if(s){!a&&t===e.el&&n.remove();let c=e.getNodeBoundingRect(t);const f=c.x+c.width/2,p=c.y+c.height/2;c=re.transformRect(c,l);const g=Math.max(c.width,1),h=Math.max(c.height,1),x=(g+s)/g,w=(h+s)/h,b=re.createSVGMatrix({a:x,b:0,c:0,d:w,e:f-x*f,f:p-w*p});l=l.multiply(b)}n.attr({d:this.getPathData(e,t),transform:re.matrixToTransformString(l)})},highlight(e,t){const{vel:n,options:r}=this;n.attr(r.attrs),r.nonScalingStroke&&n.attr("vector-effect","non-scaling-stroke"),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}}),Eg=20;function j2(e,t){const n=e.children();for(;n.length>0;){const r=n.shift();t(r)&&n.push(...r.children())}}const q2=Un.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:Eg,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:r,MASK_REMOVE_TAGS:s}=this,a=t.tagName();if(!re.isSVGGraphicsElement(t)||s.includes(a))return t.remove(),!1;if(r.includes(a)){const l=e.vel.findOne(`#${t.id}`);if(l){const{node:c}=l;let f=e.getNodeBoundingRect(c);e.model.isElement()&&(f=re.transformRect(f,e.getNodeMatrix(c)));const p=re("rect",f.toJSON()),{x:g,y:h}=f.center(),{angle:x,cx:w=g,cy:b=h}=l.rotate();x&&p.rotate(x,w,b),t.parent().append(p)}return t.remove(),!1}return n.forEach(l=>{l==="fill"&&t.attr("fill")==="none"||t.removeAttr(l)}),!0},transformMaskRoot(e,t){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(r=>{t.removeAttr(r)})},getMaskShape(e,t){const{options:n,MASK_REPLACE_TAGS:r}=this,{deep:s}=n,a=t.tagName();let l;if(a==="G"){if(!s)return null;l=t.clone(),j2(l,c=>this.transformMaskChild(e,c))}else{if(r.includes(a))return null;l=t.clone()}return this.transformMaskRoot(e,l),l},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){const{VISIBLE:n,INVISIBLE:r,options:s}=this,{padding:a,attrs:l}=s,c=parseFloat(re("g").attr(l).attr("stroke-width")),f=t.attr("fill")!=="none";let p=parseFloat(t.attr("stroke-width"));isNaN(p)&&(p=1);const g=p+a*2,h=g+c*2;let x=this.getMaskShape(e,t);if(!x){const w=e.getNodeBoundingRect(t.node);w.inflate(w.width?0:.5,w.height?0:.5),x=re("rect",w.toJSON())}return x.attr(l),re("mask",{id:this.getMaskId()}).append([x.clone().attr({fill:f?n:"none",stroke:n,"stroke-width":h}),x.clone().attr({fill:f?r:"none",stroke:r,"stroke-width":g})])},removeMask(e){const t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){const{options:n,vel:r}=this,{padding:s,attrs:a,maskClip:l=Eg,layer:c}=n,f="stroke"in a?a.stroke:"#000000";!c&&t===e.el&&r.remove();const p=e.getNodeBoundingRect(t).inflate(s+l),g=this.getNodeMatrix(e,t),h=this.getMask(e,re(t));this.addMask(e.paper,h),r.attr(p.toJSON()),r.attr({transform:re.matrixToTransformString(g),mask:`url(#${h.id})`,fill:f})},unhighlight(e){this.removeMask(e.paper)}}),Y2=Un.extend({UPDATABLE:!1,MOUNTABLE:!1,highlight:function(e,t){const{alphaValue:n=.3}=this.options;t.style.opacity=n},unhighlight:function(e,t){t.style.opacity=""}}),Ag=wr("highlighted"),X2=Un.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:Ag},highlight:function(e,t){re(t).addClass(this.options.className)},unhighlight:function(e,t){re(t).removeClass(this.options.className)}},{className:Ag}),Uc={ROW:"row",COLUMN:"column"},Z2=Un.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){const n=e.model,{attribute:r,size:s=20,gap:a=5,direction:l=Uc.ROW}=this.options;if(!r)throw new Error("List: attribute is required");const c=typeof s=="number"?{width:s,height:s}:s,f=l===Uc.ROW,p=f?c.width:c.height;let g=n.get(r);Array.isArray(g)||(g=[]);const h=this._prevItems||[],x=g.map((T,C)=>ni(h[C],g[C]));if(h.length!==g.length||x.some(T=>!T)){const T=this.vel.children(),C=g.map((L,M)=>{const R=M in T?T[M].node:null;if(x[M])return R;const G=this.createListItem(L,c,R);if(!G)return null;if(!(G instanceof SVGElement))throw new Error("List: item must be an SVGElement");G.dataset.index=M,G.dataset.attribute=r;const Z=M*(p+a);return G.setAttribute("transform",f?`translate(${Z}, 0)`:`translate(0, ${Z})`),G});this.vel.empty().append(C),this._prevItems=g}const w=g.length,b=w===0?0:w*p+(w-1)*a,P=f?{width:b,height:c.height}:{width:c.width,height:b};this.position(n,P)},position(e,t){const{vel:n,options:r}=this,{margin:s=5,position:a="top-left"}=r,{width:l,height:c}=e.size(),{left:f,right:p,top:g,bottom:h}=Fi(s),x=new he(f,g,l-(f+p),c-(g+h));let{x:w,y:b}=kv(x,a);switch(a){case mt.CENTER:case mt.TOP:case mt.BOTTOM:{w-=t.width/2;break}case mt.RIGHT:case mt.BOTTOM_RIGHT:case mt.TOP_RIGHT:{w-=t.width;break}}switch(a){case mt.CENTER:case mt.RIGHT:case mt.LEFT:{b-=t.height/2;break}case mt.BOTTOM:case mt.BOTTOM_RIGHT:case mt.BOTTOM_LEFT:{b-=t.height;break}}n.attr("transform",`translate(${w}, ${b})`)}},{Directions:Uc,Positions:mt}),Q2=Object.freeze(Object.defineProperty({__proto__:null,addClass:X2,list:Z2,mask:q2,opacity:Y2,stroke:W2},Symbol.toStringTag,{value:"Module"}));function jl(e,t,n){if(yt(n)){const{x:s,y:a}=n;if(isFinite(a)){const l=new ye(t,e),{start:c,end:f}=l.parallel(a);t=c,e=f}n=s}if(!isFinite(n))return e;var r=e.distance(t);return n===0&&r>0?e:e.move(t,-Math.min(n,r-1))}function Yf(e){var t=e.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function K2(e,t,n=0){let r,s,a,l;const{start:c,end:f}=e;switch(t){case"left":r="x",s=f,a=c,l=-1;break;case"right":r="x",s=c,a=f,l=1;break;case"top":r="y",s=f,a=c,l=-1;break;case"bottom":r="y",s=c,a=f,l=1;break;default:return}c[r]<f[r]?s[r]=a[r]:a[r]=s[r],isFinite(n)&&(s[r]+=l*n,a[r]+=l*n)}function J2(e,t,n,r){let{offset:s,alignOffset:a,align:l}=r;return l&&K2(e,l,a),jl(e.end,e.start,s)}function Vv(e,t,n,r){var s=t.getNodeBBox(n);r.stroke&&s.inflate(Yf(n)/2);var a=e.intersect(s),l=a?e.start.chooseClosest(a):e.end;return jl(l,e.start,r.offset)}function eb(e,t,n,r){var s=t.model.angle();if(s===0)return Vv(e,t,n,r);var a=t.getNodeUnrotatedBBox(n);r.stroke&&a.inflate(Yf(n)/2);var l=a.center(),c=e.clone().rotate(l,s),f=c.setLength(1e6).intersect(a),p=f?c.start.chooseClosest(f).rotate(l,-s):e.end;return jl(p,e.start,r.offset)}function tb(e){if(!e)return null;var t=e;do{var n=t.tagName;if(typeof n!="string")return null;if(n=n.toUpperCase(),n==="G")t=t.firstElementChild;else if(n==="TITLE")t=t.nextElementSibling;else break}while(t);return t}var Gc="segmentSubdivisons",$c="shapeBBox";function nb(e,t,n,r){var s,a,l=r.selector,c=e.end;if(typeof l=="string"?s=t.findNode(l):l===!1?s=n:Array.isArray(l)?s=Ls(n,l):s=tb(n),!re.isSVGGraphicsElement(s)){if(s===n||!re.isSVGGraphicsElement(n))return c;s=n}var f=t.getNodeShape(s),p=t.getNodeMatrix(s),g=t.getRootTranslateMatrix(),h=t.getRootRotateMatrix(),x=g.multiply(h).multiply(p),w=x.inverse(),b=re.transformLine(e,w),P=b.start.clone(),T=t.getNodeData(s);if(r.insideout===!1){T[$c]||(T[$c]=f.bbox());var C=T[$c];if(C.containsPoint(P))return c}var L;if(f instanceof Ce){var M=r.precision||2;T[Gc]||(T[Gc]=f.getSegmentSubdivisions({precision:M})),L={precision:M,segmentSubdivisions:T[Gc]}}r.extrapolate===!0&&b.setLength(1e6),a=b.intersect(f,L),a?re.isArray(a)&&(a=P.chooseClosest(a)):r.sticky===!0&&(f instanceof he?a=f.pointNearestToPoint(P):f instanceof Ht?a=f.intersectionWithLineFromCenterToPoint(P):a=f.closestPoint(P,L));var R=a?re.transformPoint(a,x):c,G=r.offset||0;return r.stroke&&(G+=Yf(s)/2),jl(R,e.start,G)}const rb=J2,ib=Vv,sb=eb,ob=nb,ab=Object.freeze(Object.defineProperty({__proto__:null,anchor:rb,bbox:ib,boundary:ob,rectangle:sb},Symbol.toStringTag,{value:"Module"})),lb=function(e,t,n){return e},ub=function(e,t,n){var r=t.side||"bottom",s=Fi(t.padding||40),a=n.sourceBBox,l=n.targetBBox,c=a.center(),f=l.center(),p,g,h;switch(r){case"bottom":h=1,p="y",g="height";break;case"top":h=-1,p="y",g="height";break;case"left":h=-1,p="x",g="width";break;case"right":h=1,p="x",g="width";break;default:throw new Error("Router: invalid side")}return c[p]+=h*(a[g]/2+s[r]),f[p]+=h*(l[g]/2+s[r]),h*(c[p]-f[p])>0?f[p]=c[p]:c[p]=f[p],[c].concat(e,f)};var cb={N:"S",S:"N",E:"W",W:"E"},fb={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function Cl(e,t,n){var r=new z(e.x,t.y);return n.containsPoint(r)&&(r=new z(t.x,e.y)),r}function uf(e,t){return e[t==="W"||t==="E"?"width":"height"]}function Wt(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function dl(e){return new he(e.x,e.y,0,0)}function kl(e){var t=Fi(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function Uv(e,t){return e.sourceBBox.clone().moveAndExpand(kl(t))}function Gv(e,t){return e.targetBBox.clone().moveAndExpand(kl(t))}function db(e,t){if(e.sourceAnchor)return e.sourceAnchor;var n=Uv(e,t);return n.center()}function hb(e,t){if(e.targetAnchor)return e.targetAnchor;var n=Gv(e,t);return n.center()}function $v(e,t,n){var r=new z(e.x,t.y),s=new z(t.x,e.y),a=Wt(e,r),l=Wt(e,s),c=cb[n],f=a===n||a!==c&&(l===c||l!==n)?r:s;return{points:[f],direction:Wt(f,t)}}function yl(e,t,n){var r=Cl(e,t,n);return{points:[r],direction:Wt(r,t)}}function pb(e,t,n,r){var s={},a=[new z(e.x,t.y),new z(t.x,e.y)],l=a.filter(function(h){return!n.containsPoint(h)}),c=l.filter(function(h){return Wt(h,e)!==r}),f;if(c.length>0)f=c.filter(function(h){return Wt(e,h)===r}).pop(),f=f||c[0],s.points=[f],s.direction=Wt(f,t);else{f=tw(a,l)[0];var p=new z(t).move(f,-uf(n,r)/2),g=Cl(p,e,n);s.points=[g,p],s.direction=Wt(p,t)}return s}function gb(e,t,n,r){var s=yl(t,e,r),a=s.points[0];if(n.containsPoint(a)){s=yl(e,t,n);var l=s.points[0];if(r.containsPoint(l)){var c=new z(e).move(l,-uf(n,Wt(e,l))/2),f=new z(t).move(a,-uf(r,Wt(t,a))/2),p=new ye(c,f).midpoint(),g=yl(e,p,n),h=$v(p,t,g.direction);s.points=[g.points[0],h.points[0]],s.direction=h.direction}}return s}function Hc(e,t,n,r,s){var a={},l=n.union(r).inflate(1),c=l.center().distance(t)>l.center().distance(e),f=c?t:e,p=c?e:t,g,h,x;return s?(g=z.fromPolar(l.width+l.height,fb[s],f),g=l.pointNearestToPoint(g).move(g,-1)):g=l.pointNearestToPoint(f).move(f,1),h=Cl(g,p,l),g.round().equals(h.round())?(h=z.fromPolar(l.width+l.height,en(g.theta(f))+Math.PI/2,p),h=l.pointNearestToPoint(h).move(p,1).round(),x=Cl(g,h,l),a.points=c?[h,x,g]:[g,x,h]):a.points=c?[h,g]:[g,h],a.direction=Wt(c?g:h,t),a}function cf(e,t,n){var r=Uv(n,t),s=Gv(n,t),a=db(n,t),l=hb(n,t);r=r.union(dl(a)),s=s.union(dl(l)),e=Ye(e).map(z),e.unshift(a),e.push(l);for(var c,f=[],p=0,g=e.length-1;p<g;p++){var h=null,x=e[p],w=e[p+1],b=!!Wt(x,w);if(p===0)p+1===g?r.intersect(s.clone().inflate(1))?h=Hc(x,w,r,s):b||(h=gb(x,w,r,s)):r.containsPoint(w)?h=Hc(x,w,r,dl(w).moveAndExpand(kl(t))):b||(h=yl(x,w,r));else if(p+1===g){var P=b&&Wt(w,x)===c;s.containsPoint(x)||P?h=Hc(x,w,dl(x).moveAndExpand(kl(t)),s,c):b||(h=pb(x,w,s,c))}else b||(h=$v(x,w,c));h?(Array.prototype.push.apply(f,h.points),c=h.direction):c=Wt(x,w),p+1<g&&f.push(w)}return f}var Hv={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:[],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,n){if(!Je(cf))throw new Error("Manhattan requires the orthogonal router as default fallback.");return cf(e,we({},Hv,t),n)},fallbackRoute:function(e,t,n){return null},draggingRoute:null};function Xf(e){this.map={},this.options=e,this.mapGridSize=100}Xf.prototype.build=function(e,t){var n=this.options,r=Ye(n.excludeEnds).reduce(function(f,p){var g=t.get(p);if(g){var h=e.getCell(g.id);h&&f.push(h)}return f},[]),s=[],a=e.getCell(t.get("source").id);a&&(s=rf(s,a.getAncestors().map(function(f){return f.id})));var l=e.getCell(t.get("target").id);l&&(s=rf(s,l.getAncestors().map(function(f){return f.id})));var c=this.mapGridSize;return e.getElements().reduce(function(f,p){var g=Ye(n.excludeTypes).includes(p.get("type")),h=r.find(function(R){return R.id===p.id}),x=s.includes(p.id),w=g||h||x;if(!w)for(var b=p.getBBox().moveAndExpand(n.paddingBox),P=b.origin().snapToGrid(c),T=b.corner().snapToGrid(c),C=P.x;C<=T.x;C+=c)for(var L=P.y;L<=T.y;L+=c){var M=C+"@"+L;f[M]=f[M]||[],f[M].push(b)}return f},this.map),this};Xf.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return Ye(this.map[t]).every(function(n){return!n.containsPoint(e)})};function Bi(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}Bi.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var n=sv(this.items,e,(function(r){return this.values[r]}).bind(this));this.items.splice(n,0,e)};Bi.prototype.remove=function(e){this.hash[e]=this.CLOSE};Bi.prototype.isOpen=function(e){return this.hash[e]===this.OPEN};Bi.prototype.isClose=function(e){return this.hash[e]===this.CLOSE};Bi.prototype.isEmpty=function(){return this.items.length===0};Bi.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};function Wv(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function jv(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function qv(e,t){if(e.sourceAnchor)return e.sourceAnchor;var n=Wv(e,t);return n.center()}function mb(e,t){if(e.targetAnchor)return e.targetAnchor;var n=jv(e,t);return n.center()}function Wc(e,t,n,r,s){var a=360/n,l=e.theta(vb(e,t,r,s)),c=kn(l+a/2);return a*Math.floor(c/a)}function vb(e,t,n,r){var s=r.step,a=t.x-e.x,l=t.y-e.y,c=a/n.x,f=l/n.y,p=c*s,g=f*s;return new z(e.x+p,e.y+g)}function Pg(e,t){var n=Math.abs(e-t);return n>180?360-n:n}function yb(e,t,n){var r=n.step;Ye(n.directions).forEach(function(s){s.gridOffsetX=s.offsetX/r*t.x,s.gridOffsetY=s.offsetY/r*t.y})}function xb(e,t,n){return{source:t.clone(),x:Tg(n.x-t.x,e),y:Tg(n.y-t.y,e)}}function Tg(e,t){if(!e)return t;var n=Math.abs(e),r=Math.round(n/t);if(!r)return n;var s=r*t,a=n-s,l=a/r;return t+l}function wb(e,t){var n=t.source,r=Mi(e.x-n.x,t.x)+n.x,s=Mi(e.y-n.y,t.y)+n.y;return new z(r,s)}function Ao(e,t){return e.round(t)}function xl(e,t,n){return Ao(wb(e.clone(),t),n)}function Co(e){return e.clone().toString()}function jc(e){return new z(e.x===0?0:Math.abs(e.x)/e.x,e.y===0?0:Math.abs(e.y)/e.y)}function Sb(e,t,n,r,s,a,l){for(var c=[],f=jc(s.difference(n)),p=Co(n),g=e[p],h;g;){h=t[p];var x=jc(h.difference(g));x.equals(f)||(c.unshift(h),f=x),p=Co(g),g=e[p]}var w=t[p],b=jc(w.difference(r));return b.equals(f)||c.unshift(w),c}function Cg(e,t){for(var n=1/0,r=0,s=t.length;r<s;r++){var a=e.manhattanDistance(t[r]);a<n&&(n=a)}return n}function kg(e,t,n,r,s){var a=s.precision,l=s.directionMap,c=e.difference(t.center()),f=qe(l)?Object.keys(l):[],p=Ye(n),g=f.reduce(function(h,x){if(p.includes(x)){for(var w=l[x],b=new z(e.x+w.x*(Math.abs(c.x)+t.width),e.y+w.y*(Math.abs(c.y)+t.height)),P=new ye(e,b),T=P.intersect(t)||[],C=T.length,L,M=null,R=0;R<C;R++){var G=T[R],Z=e.squaredDistance(G);(L===void 0||Z>L)&&(L=Z,M=G)}if(M){var v=xl(M,r,a);t.containsPoint(v)&&(v=xl(v.offset(w.x*r.x,w.y*r.y),r,a)),h.push(v)}}return h},[]);return t.containsPoint(e)||g.push(xl(e,r,a)),g}function bb(e,t,n,r){var s=r.precision,a,l;e instanceof he?a=Ao(qv(this,r).clone(),s):a=Ao(e.clone(),s),t instanceof he?l=Ao(mb(this,r).clone(),s):l=Ao(t.clone(),s);var c=xb(r.step,a,l),f,p,g,h;if(e instanceof he?(f=a,g=kg(f,e,r.startDirections,c,r)):(f=a,g=[f]),t instanceof he?(p=l,h=kg(l,t,r.endDirections,c,r)):(p=l,h=[p]),g=g.filter(ke=>!n(ke)),h=h.filter(ke=>!n(ke)),g.length>0&&h.length>0){for(var x=new Bi,w={},b={},P={},T=0,C=g.length;T<C;T++){var L=g[T],M=Co(L);x.add(M,Cg(L,h)),w[M]=L,P[M]=0}var R=r.previousDirectionAngle,G=R===void 0,Z,v,S=r.directions;yb(S,c,r);for(var E=S.length,k=Ye(h).reduce(function(ke,De){var Le=Co(De);return ke.push(Le),ke},[]),O=r.maximumLoops;!x.isEmpty()&&O>0;){var U=x.pop(),W=w[U],Q=b[U],ie=P[U],I=Q===void 0,B=W.equals(f),N;I?G?B?N=null:N=Wc(f,W,E,c,r):N=R:N=Wc(Q,W,E,c,r);var D=g.length===h.length;if(D){for(var $=0;$<g.length;$++)if(!g[$].equals(h[$])){D=!1;break}}var _=I&&D;if(!_&&k.indexOf(U)>=0)return r.previousDirectionAngle=N,Sb(b,w,W,f,p);for(T=0;T<E;T++){Z=S[T];var j=Z.angle;if(v=Pg(N,j),!(!(G&&B)&&v>r.maxAllowedDirectionChange)){var me=xl(W.clone().offset(Z.gridOffsetX,Z.gridOffsetY),c,s),se=Co(me);if(!(x.isClose(se)||n(me))){if(k.indexOf(se)>=0){var ue=me.equals(p);if(!ue){var fe=Wc(me,p,E,c,r),te=Pg(j,fe);if(te>r.maxAllowedDirectionChange)continue}}var oe=Z.cost,ve=B?0:r.penalties[v],Oe=ie+oe+ve;(!x.isOpen(se)||Oe<P[se])&&(w[se]=me,b[se]=W,P[se]=Oe,x.add(se,Oe+Cg(me,h)))}}}O--}}return r.fallbackRoute.call(this,f,p,r)}function Eb(e){if(e.directions=it(e,"directions"),e.penalties=it(e,"penalties"),e.paddingBox=it(e,"paddingBox"),e.padding=it(e,"padding"),e.padding){var t=Fi(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}Ye(e.directions).forEach(function(n){var r=new z(0,0),s=new z(n.offsetX,n.offsetY);n.angle=kn(r.theta(s))})}function Ab(e,t,n){Eb(t),n.options.perpendicular=!!t.perpendicular;var r=Wv(n,t),s=jv(n,t),a=qv(n,t);let l;if(typeof t.isPointObstacle=="function")l=t.isPointObstacle;else{const M=new Xf(t);M.build(n.paper.model,n.model),l=R=>!M.isPointAccessible(R)}for(var c=Ye(e).map(z),f=[],p=a,g,h,x=0,w=c.length;x<=w;x++){var b=null;if(h=g||r,g=c[x],!g){g=s;var P=!n.model.get("source").id||!n.model.get("target").id;if(P&&Je(t.draggingRoute)){var T=h===r?a:h,C=g.origin();b=t.draggingRoute.call(n,T,C,t)}}if(b=b||bb.call(n,h,g,l,t),b===null)return t.fallbackRouter(e,t,n);var L=b[0];L&&L.equals(p)&&b.shift(),p=b[b.length-1]||p,Array.prototype.push.apply(f,b)}return f}const ff=function(e,t,n){return Ab(e,we({},Hv,t),n)};var Pb={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),n=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:n},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:n},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:n},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:n}]},fallbackRoute:function(e,t,n){var r=e.theta(t),s=[],a={x:t.x,y:e.y},l={x:e.x,y:t.y};if(r%180>90){var c=a;a=l,l=c}var f=r%90<45?a:l,p=new ye(e,f),g=90*Math.ceil(r/90),h=z.fromPolar(p.squaredLength(),en(g+135),f),x=new ye(t,h),w=p.intersection(x),b=w||t,P=w?b:e,T=360/n.directions.length,C=P.theta(t),L=kn(C+T/2),M=T*Math.floor(L/T);return n.previousDirectionAngle=M,b&&s.push(b.round()),s.push(t),s}};const Tb=function(e,t,n){if(!Je(ff))throw new Error("Metro requires the manhattan router.");return ff(e,we({},Pb,t),n)},ne={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},_g=[ne.LEFT,ne.RIGHT,ne.TOP,ne.BOTTOM],xr={[ne.LEFT]:ne.RIGHT,[ne.RIGHT]:ne.LEFT,[ne.TOP]:ne.BOTTOM,[ne.BOTTOM]:ne.TOP},Cb=[ne.TOP,ne.BOTTOM],ei={0:ne.RIGHT,180:ne.LEFT,270:ne.TOP,90:ne.BOTTOM};function tr(e){return e.angle()}function hs(e){return new st(e).simplify({threshold:1}).points}function ko(e,t){const{point:n,x0:r,y0:s,view:a,bbox:l,direction:c}=e,{point:f,x0:p,y0:g,view:h,bbox:x,direction:w}=t;let b;if(a)a.model.isLink()?b=Lg(f,n,a):c===ne.ANCHOR_SIDE?b=l.sideNearestToPoint(n):c===ne.MAGNET_SIDE?b=a.model.getBBox().sideNearestToPoint(n):b=c;else{const T=new he(r,s,0,0);b=_g.includes(c)?c:T.sideNearestToPoint(f)}let P;if(h)h.model.isLink()?P=Lg(n,f,h):w===ne.ANCHOR_SIDE?P=x.sideNearestToPoint(f):w===ne.MAGNET_SIDE?P=h.model.getBBox().sideNearestToPoint(f):P=w;else{const T=new he(p,g,0,0);P=_g.includes(w)?w:T.sideNearestToPoint(n)}return[b,P]}function kb(e,t,n){const{x0:r,y0:s,width:a,height:l,point:c,margin:f}=e,p=r+a,g=s+l,h=r-f,x=p+f,w=s-f,{x:b}=c,{x0:P,y0:T}=t;return P===b&&T<s?ne.BOTTOM:P<b&&T<w?n.point.x===b?ne.BOTTOM:ne.RIGHT:P>b&&T<w?n.point.x===b?ne.BOTTOM:ne.LEFT:P<h&&T>w||P>x&&T>w?ne.TOP:P>=h&&P<=b&&T>g||P<=x&&P>=b&&T>g?n.point.x<P?ne.RIGHT:ne.LEFT:ne.BOTTOM}function _b(e,t,n){const{x0:r,y0:s,width:a,height:l,point:c,margin:f}=e,p=r+a,g=s+l,h=r-f,x=p+f,w=g+f,{x:b}=c,{x0:P,y0:T}=t;return P===b&&T>g?ne.TOP:P<b&&T>w?n.point.x===b?ne.TOP:ne.RIGHT:P>b&&T>w?n.point.x===b?ne.TOP:ne.LEFT:P<h&&T<w||P>x&&T<w?ne.BOTTOM:P>=h&&P<=b&&T<s||P<=x&&P>=b&&T<s?n.point.x<P?ne.RIGHT:ne.LEFT:ne.TOP}function Lb(e,t,n){const{y0:r,x0:s,width:a,height:l,point:c,margin:f}=e,p=s+a,g=r+l,h=s-f,x=r-f,w=g+f,{x:b,y:P}=c,{x0:T,y0:C}=t;return T<b&&C===P?ne.RIGHT:T<=h&&C<P?ne.BOTTOM:T<=h&&C>P?ne.TOP:T>=h&&C<x||T>=h&&C>w?ne.LEFT:T>p&&C>=x&&C<=P||T>p&&C<=w&&C>=P?n.point.y<C?ne.BOTTOM:ne.TOP:ne.RIGHT}function Mb(e,t,n){const{y0:r,x0:s,width:a,height:l,point:c,margin:f}=e,p=s+a,g=r+l,h=p+f,x=r-f,w=g+f,{x:b,y:P}=c,{x0:T,y0:C}=t;return T>b&&C===P?ne.LEFT:T>=h&&C<P?ne.BOTTOM:T>=h&&C>P?ne.TOP:T<=h&&C<x||T<=h&&C>w?ne.RIGHT:T<s&&C>=x&&C<=P||T<s&&C<=w&&C>=P?n.point.y<C?ne.BOTTOM:ne.TOP:ne.LEFT}function Nb(e,t,n){const[r]=ko(e,t);switch(r){case ne.TOP:return kb(e,t,n);case ne.RIGHT:return Mb(e,t,n);case ne.BOTTOM:return _b(e,t,n);case ne.LEFT:return Lb(e,t,n)}}function Lg(e,t,n){const r=n.getTangentAtLength(n.getClosestPointLength(t)),s=Math.round(tr(r)/90)*90;if(s%180===0&&e.y===t.y)return e.x<t.x?ne.LEFT:ne.RIGHT;if(e.x===t.x)return e.y<t.y?ne.TOP:ne.BOTTOM;switch(s){case 0:case 180:case 360:return e.y<t.y?ne.TOP:ne.BOTTOM;case 90:case 270:return e.x<t.x?ne.LEFT:ne.RIGHT}}function Mg(e,t,n,r,s,a,l){r===ne.AUTO&&(r=s?ne.MAGNET_SIDE:ne.ANCHOR_SIDE);const c=e&&e.model.isElement(),{x:f,y:p,width:g=0,height:h=0}=c?he.fromRectUnion(n,e.model.getBBox()):a;return{point:t,x0:f,y0:p,view:e,bbox:n,width:g,height:h,direction:r,margin:c?l:0}}function Ob({x:e,y:t}){const n=new z(e,t);return{point:n,x0:n.x,y0:n.y,view:null,bbox:new he(e,t,0,0),width:0,height:0,direction:null,margin:0}}function _l(e,t,n){const r=t.point.clone(),{x0:s,y0:a,width:l,height:c}=t;switch(e){case"left":r.x=s-n;break;case"right":r.x=s+l+n;break;case"top":r.y=a-n;break;case"bottom":r.y=a+c+n;break}return r}function df(e,t,{dx:n=0,dy:r=0}){const s={x:e.point.x+n,y:e.point.y+r},a={x:t.point.x+n,y:t.point.y+r};return[e.point,s,a,t.point]}function Ng(e,t,n,r){const s=kn(n-90);let a=0,l=0;s===90?l=-r:s===180?a=-r:s===270?l=r:s===0&&(a=r);const c=df(e,t,{dx:a,dy:l}),f=c[2],p=new ye(t.point,f),g=ei[tr(p)];return{loopRoute:c,continueDirection:g}}function Fb(e,t){const{x0:n,x1:r,outsidePoint:s}=e,{x0:a,x1:l,outsidePoint:c}=t;let f=Math.min(n,a),p=Math.max(r,l);if(e.direction===t.direction){const L=e.y0<t.y0?e:t,M=L===e?t:e,R=e.direction===ne.TOP?L:M;f=R.x0,p=R.x1}const{x:g}=s,{x:h}=c,x=Math.abs(g-f),w=Math.abs(h-f),b=x+w,P=Math.abs(g-p),T=Math.abs(h-p),C=P+T;return[b,C]}function Ib(e,t){const{y0:n,y1:r,outsidePoint:s}=e,{y0:a,y1:l,outsidePoint:c}=t;let f=Math.min(n,a),p=Math.max(r,l);if(e.direction===t.direction){const L=e.x0<t.x0?e:t,M=L===e?t:e,R=e.direction===ne.LEFT?L:M;f=R.y0,p=R.y1}const{y:g}=s,{y:h}=c,x=Math.abs(g-f),w=Math.abs(h-f),b=x+w,P=Math.abs(g-p),T=Math.abs(h-p),C=P+T;return[b,C]}function Og(e,t,n){switch(t){case ne.LEFT:e.inflate(0,n).moveAndExpand({x:-n,width:n});break;case ne.RIGHT:e.inflate(0,n).moveAndExpand({width:n});break;case ne.TOP:e.inflate(n,0).moveAndExpand({y:-n,height:n});break;case ne.BOTTOM:e.inflate(n,0).moveAndExpand({height:n});break}return e}function Jr(e,t,n={}){const{point:r,x0:s,y0:a,width:l,height:c,margin:f}=e,{point:p,x0:g,y0:h,width:x,height:w,margin:b}=t,{targetInSourceBBox:P=!1}=n,T=g+x,C=h+w,L=s+l,M=a+c,R=s-f,G=L+f,Z=a-f,v=M+f,S=g-b,E=T+b,k=h-b,O=C+b,[U,W]=ko(e,t),Q=_l(U,{point:r,x0:s,y0:a,width:l,height:c},f),ie=_l(W,{point:p,x0:g,y0:h,width:x,height:w},b),{x:I,y:B}=Q,{x:N,y:D}=ie,$=(g+T)/2,_=(h+C)/2,j=(s+L)/2,me=(a+M)/2,se=(j<$?L+g:T+s)/2,ue=(me<_?M+h:C+a)/2,fe=new he(s,a,l,c),te=new he(g,h,x,w),oe=fe.clone().inflate(f),ve=te.clone().inflate(b),Oe=Object.assign({},e,{x1:L,y1:M,outsidePoint:Q,direction:U}),ke=Object.assign({},t,{x1:T,y1:C,outsidePoint:ie,direction:W}),[De,Le]=Fb(Oe,ke),[Ee,Fe]=Ib(Oe,ke);if(U==="left"&&W==="right"){const ge=oe.containsPoint(ie),q=ve.containsPoint(Q);if(ge||q){const J=(B+D)/2;return[{x:I,y:B},{x:I,y:J},{x:N,y:J},{x:N,y:D}]}if(R<N){let J=ue,be=I,He=N;const Ve=Ee<Fe;return(J>=Z&&J<=v||J>=k&&J<=O)&&(v>=k&&Ve?J=Math.min(k,Z):Z<=O&&!Ve&&(J=Math.max(O,v)),be=Math.min(I,S),He=Math.max(N,G),Ve&&B<h||!Ve&&B>C?be=I:(Ve&&D<a||!Ve&&D>M)&&(He=N)),[{x:be,y:B},{x:be,y:J},{x:He,y:J},{x:He,y:D}]}const ee=(I+N)/2;return[{x:ee,y:B},{x:ee,y:D}]}else if(U==="right"&&W==="left"){const ge=oe.containsPoint(ie),q=ve.containsPoint(Q);if(ge||q){const J=(B+D)/2;return[{x:I,y:B},{x:I,y:J},{x:N,y:J},{x:N,y:D}]}if(G>N){let J=ue,be=I,He=N;const Ve=Ee<Fe;return(J>=Z&&J<=v||J>=k&&J<=O)&&(v>=k&&Ve?J=Math.min(k,Z):Z<=O&&!Ve&&(J=Math.max(O,v)),be=Math.max(I,E),He=Math.min(N,R),Ve&&B<h||!Ve&&B>C?be=I:(Ve&&D<a||!Ve&&D>M)&&(He=N)),[{x:be,y:B},{x:be,y:J},{x:He,y:J},{x:He,y:D}]}const ee=(I+N)/2;return[{x:ee,y:B},{x:ee,y:D}]}else if(U==="top"&&W==="bottom"){const ge=oe.containsPoint(ie),q=ve.containsPoint(Q);if(ge||q){const J=(I+N)/2;return[{x:I,y:B},{x:J,y:B},{x:J,y:D},{x:N,y:D}]}if(Z<D){let J=se,be=B,He=D;const Ve=De<Le;return(J>=R&&J<=G||J>=S&&J<=E)&&(G>=S&&Ve?J=Math.min(S,R):R<=E&&!Ve&&(J=Math.max(E,G)),be=Math.min(B,k),He=Math.max(D,v),Ve&&I<g||!Ve&&I>T?be=B:(Ve&&N<s||!Ve&&N>L)&&(He=D)),[{x:I,y:be},{x:J,y:be},{x:J,y:He},{x:N,y:He}]}const ee=(B+D)/2;return[{x:I,y:ee},{x:N,y:ee}]}else if(U==="bottom"&&W==="top"){const ge=oe.containsPoint(ie),q=ve.containsPoint(Q);if(ge||q){const J=(I+N)/2;return[{x:I,y:B},{x:J,y:B},{x:J,y:D},{x:N,y:D}]}if(v>D){let J=se,be=B,He=D;const Ve=De<Le;return(J>=R&&J<=G||J>=S&&J<=E)&&(G>=S&&Ve?J=Math.min(S,R):R<=E&&!Ve&&(J=Math.max(E,G)),be=Math.max(B,O),He=Math.min(D,Z),Ve&&I<g||!Ve&&I>T?be=B:(Ve&&N<s||!Ve&&N>L)&&(He=D)),[{x:I,y:be},{x:J,y:be},{x:J,y:He},{x:N,y:He}]}const ee=(B+D)/2;return[{x:I,y:ee},{x:N,y:ee}]}else if(U==="top"&&W==="top"){if((P||Ci.rectWithRect(oe,te)||B<=h&&(oe.bottomRight().x<=N||oe.bottomLeft().x>=N)||B>=h&&(ve.bottomRight().x<=I||ve.bottomLeft().x>=I))&&I!==N)return[{x:I,y:Math.min(B,D)},{x:N,y:Math.min(B,D)}];let q,ee=Math.min((M+h)/2,D),J=Math.min((a+C)/2,B);return D<B?Le>De?q=Math.min(I,S):q=Math.max(I,E):Le>De?q=Math.min(N,R):q=Math.max(N,G),[{x:I,y:J},{x:q,y:J},{x:q,y:ee},{x:N,y:ee}]}else if(U==="bottom"&&W==="bottom"){if((P||Ci.rectWithRect(oe,te)||B>=D&&(oe.topRight().x<=N||oe.topLeft().x>=N)||B<=D&&(ve.topRight().x<=I||ve.topLeft().x>=I))&&I!==N)return[{x:I,y:Math.max(B,D)},{x:N,y:Math.max(B,D)}];let q,ee=Math.max((a+C)/2,D),J=Math.max((M+h)/2,B);return D>B?Le>De?q=Math.min(I,S):q=Math.max(I,E):Le>De?q=Math.min(N,R):q=Math.max(N,G),[{x:I,y:J},{x:q,y:J},{x:q,y:ee},{x:N,y:ee}]}else if(U==="left"&&W==="left"){if((P||Ci.rectWithRect(oe,te)||I<=N&&(oe.bottomRight().y<=D||oe.topRight().y>=D)||I>=N&&(ve.bottomRight().y<=B||ve.topRight().y>=B))&&B!==D)return[{x:Math.min(I,N),y:B},{x:Math.min(I,N),y:D}];let q,ee=Math.min((L+g)/2,N),J=Math.min((s+T)/2,I);return N>I?Ee<=Fe?q=Math.min(Z,D):q=Math.max(v,D):Ee<=Fe?q=Math.min(k,B):q=Math.max(O,B),[{x:J,y:B},{x:J,y:q},{x:ee,y:q},{x:ee,y:D}]}else if(U==="right"&&W==="right"){if((P||Ci.rectWithRect(oe,te)||I>=N&&(oe.bottomLeft().y<=D||oe.topLeft().y>=D)||I<=N&&(ve.bottomLeft().y<=B||ve.topLeft().y>=B))&&B!==D)return[{x:Math.max(I,N),y:B},{x:Math.max(I,N),y:D}];let q,ee=Math.max((s+T)/2,N),J=Math.max((L+g)/2,I);return N<=I?Ee<=Fe?q=Math.min(Z,D):q=Math.max(v,D):Ee<=Fe?q=Math.min(k,B):q=Math.max(O,B),[{x:J,y:B},{x:J,y:q},{x:ee,y:q},{x:ee,y:D}]}else if(U==="top"&&W==="right"){if(oe.containsPoint(p)){if(I<=E){const J=Math.max(I+f,N),be=Math.min(Z,k);return[{x:I,y:be},{x:J,y:be},{x:J,y:D}]}const ee=(I-f+N)/2;return[{x:I,y:B},{x:ee,y:B},{x:ee,y:D}]}if(Z>D){if(I<N){let ee=k;return O<=Z&&E>=I&&(ee=ue),[{x:I,y:ee},{x:N,y:ee},{x:N,y:D}]}return[{x:I,y:D}]}const q=Math.max(se,E);if(I>N&&M>=D)return[{x:I,y:B},{x:q,y:B},{x:q,y:D}];if(q>R&&B<C){const ee=Math.min(Z,k),J=Math.max(G,E);return[{x:I,y:ee},{x:J,y:ee},{x:J,y:D}]}return[{x:I,y:B},{x:q,y:B},{x:q,y:D}]}else if(U==="top"&&W==="left"){if(oe.containsPoint(p)){if(I>=S){const J=Math.min(I-f,N),be=Math.min(Z,k);return[{x:I,y:be},{x:J,y:be},{x:J,y:D}]}const ee=(I+f+N)/2;return[{x:I,y:B},{x:ee,y:B},{x:ee,y:D}]}if(Z>D){if(I>N){let ee=k;return O<=Z&&S<=I&&(ee=ue),[{x:I,y:ee},{x:N,y:ee},{x:N,y:D}]}return[{x:I,y:D}]}const q=Math.min(S,se);if(I<N&&M>=D)return[{x:I,y:B},{x:q,y:B},{x:q,y:D}];if(q<G&&B<C){const ee=Math.min(Z,k),J=Math.min(R,S);return[{x:I,y:ee},{x:J,y:ee},{x:J,y:D}]}return[{x:I,y:B},{x:q,y:B},{x:q,y:D}]}else if(U==="bottom"&&W==="right"){if(oe.containsPoint(p)){if(I<=E){const J=Math.max(I+f,N),be=Math.max(v,O);return[{x:I,y:be},{x:J,y:be},{x:J,y:D}]}const ee=(I-f+N)/2;return[{x:I,y:B},{x:ee,y:B},{x:ee,y:D}]}if(v<D){if(I<N){let ee=O;return k>=v&&E>=I&&(ee=ue),[{x:I,y:ee},{x:N,y:ee},{x:N,y:D}]}return[{x:I,y:D}]}const q=Math.max(se,E);if(I>N&&a<=D)return[{x:I,y:B},{x:q,y:B},{x:q,y:D}];if(q>R&&B>h){const ee=Math.max(v,O),J=Math.max(G,E);return[{x:I,y:ee},{x:J,y:ee},{x:J,y:D}]}return[{x:I,y:B},{x:q,y:B},{x:q,y:D}]}else if(U==="bottom"&&W==="left"){if(oe.containsPoint(p)){if(I>=S){const J=Math.min(I-f,N),be=Math.max(v,O);return[{x:I,y:be},{x:J,y:be},{x:J,y:D}]}const ee=(I+f+N)/2;return[{x:I,y:B},{x:ee,y:B},{x:ee,y:D}]}if(v<D){if(I>N){let ee=O;return k>=v&&S<=I&&(ee=ue),[{x:I,y:ee},{x:N,y:ee},{x:N,y:D}]}return[{x:I,y:D}]}const q=Math.min(S,se);if(I<N&&a<=D)return[{x:I,y:B},{x:q,y:B},{x:q,y:D}];if(q<G&&B>h){const ee=Math.max(v,O),J=Math.min(R,S);return[{x:I,y:ee},{x:J,y:ee},{x:J,y:D}]}return[{x:I,y:B},{x:q,y:B},{x:q,y:D}]}else if(U==="left"&&W==="bottom"){if(oe.containsPoint(p)){if(B<=O){const J=Math.min(R,S),be=Math.max(B+f,D);return[{x:J,y:B},{x:J,y:be},{x:N,y:be}]}const ee=(B-f+D)/2;return[{x:I,y:B},{x:I,y:ee},{x:N,y:ee}]}if(R>N){if(B<D){let ee=S;return E<=R&&O>=B&&(ee=se),[{x:ee,y:B},{x:ee,y:D},{x:N,y:D}]}return[{x:N,y:B}]}const q=Math.max(O,ue);if(B>D&&L>=N)return[{x:I,y:B},{x:I,y:q},{x:N,y:q}];if(q>Z&&I<T){const ee=Math.min(R,S),J=Math.max(v,O);return[{x:ee,y:B},{x:ee,y:J},{x:N,y:J}]}return[{x:I,y:B},{x:I,y:q},{x:N,y:q}]}else if(U==="left"&&W==="top"){if(oe.containsPoint(p)){if(B>=k){const J=Math.min(B-f,D),be=Math.min(R,S);return[{x:be,y:B},{x:be,y:J},{x:N,y:J}]}const ee=(B+f+D)/2;return[{x:I,y:B},{x:I,y:ee},{x:N,y:ee}]}if(R>N){if(B>D){let ee=S;return E<=R&&k<=B&&(ee=se),[{x:ee,y:B},{x:ee,y:D},{x:N,y:D}]}return[{x:N,y:B}]}const q=Math.min(k,ue);if(B<D&&L>=N)return[{x:I,y:B},{x:I,y:q},{x:N,y:q}];if(q<v&&I<T){const ee=Math.min(R,S),J=Math.min(Z,k);return[{x:ee,y:B},{x:ee,y:J},{x:N,y:J}]}return[{x:I,y:B},{x:I,y:q},{x:N,y:q}]}else if(U==="right"&&W==="top"){if(oe.containsPoint(p)){if(B>=k){const J=Math.max(G,E),be=Math.min(B-f,D);return[{x:J,y:B},{x:J,y:be},{x:N,y:be}]}const ee=(B+f+D)/2;return[{x:I,y:B},{x:I,y:ee},{x:N,y:ee}]}if(G<N){if(B>D){let ee=E;return S>=G&&k<=B&&(ee=se),[{x:ee,y:B},{x:ee,y:D},{x:N,y:D}]}return[{x:N,y:B}]}const q=Math.min(k,ue);if(B<D&&s<=N)return[{x:I,y:B},{x:I,y:q},{x:N,y:q}];if(q<v&&I>g){const ee=Math.max(G,E),J=Math.min(Z,k);return[{x:ee,y:B},{x:ee,y:J},{x:N,y:J}]}return[{x:I,y:B},{x:I,y:q},{x:N,y:q}]}else if(U==="right"&&W==="bottom"){if(oe.containsPoint(p)){if(B<=O){const J=Math.max(G,E),be=Math.max(B+f,D);return[{x:J,y:B},{x:J,y:be},{x:N,y:be}]}const ee=(B-f+D)/2;return[{x:I,y:B},{x:I,y:ee},{x:N,y:ee}]}if(G<N){if(B<D){let ee=E;return S>=G&&O>=B&&(ee=se),[{x:ee,y:B},{x:ee,y:D},{x:N,y:D}]}return[{x:N,y:B}]}const q=Math.max(O,ue);if(B>D&&s<=N)return[{x:I,y:B},{x:I,y:q},{x:N,y:q}];if(q>Z&&I>g){const ee=Math.max(G,E),J=Math.max(v,O);return[{x:ee,y:B},{x:ee,y:J},{x:N,y:J}]}return[{x:I,y:B},{x:I,y:q},{x:N,y:q}]}}function Fg(e,t,n){const r=e===ne.LEFT||e===ne.RIGHT;let s=0,a=0;switch(kn(Math.round(t))){case 0:case 90:s=r?0:n,a=r?n:0;break;case 180:case 270:s=r?0:-n,a=r?-n:0;break}return{dx:s,dy:a}}function Yv(e,t,n){const{sourceDirection:r=ne.AUTO,targetDirection:s=ne.AUTO}=t,a=t.margin||20,l=t.useVertices||!1,c=!!n.model.source().port,f=Mg(n.sourceView,n.sourceAnchor,n.sourceBBox,r,c,n.sourceAnchor,a),p=!!n.model.target().port,g=Mg(n.targetView,n.targetAnchor,n.targetBBox,s,p,n.targetAnchor,a);let h=[];if(!l||e.length===0)return hs(Jr(f,g));const x=e.map(M=>Ob(M)),[w]=x,[b]=ko(f,w),P=f.view&&f.view.model.isElement(),T=P?Og(f.view.model.getBBox(),b,a):null,C=P?T.containsPoint(w.point):!1;if(C){const M=_l(b,f,a),R=M.equals(w.point),G=f.point.x===w.point.x,Z=f.point.y===w.point.y,v=G&&(b===ne.TOP||b===ne.BOTTOM),S=Z&&(b===ne.LEFT||b===ne.RIGHT),E=new ye(f.point,M),k=E.containsPoint(w.point),O=C&&(S||v);if(R)h.push(f.point,w.point),w.direction=xr[b];else if(k||O){const U=tr(k?E:new ye(f.point,w.point)),{dx:W,dy:Q}=Fg(b,U,a),ie=df({point:M},w,{dx:W,dy:Q}),I=ie[2],B=new ye(w.point,I),N=ei[tr(B)];w.direction=N,h.push(...ie)}else w.direction=b,w.margin=a,h.push(...Jr(f,w,{targetInSourceBBox:!0}),w.point)}else{const M=x[1]||g,R=Nb(f,w,M);w.direction=R,h.push(...Jr(f,w),w.point)}for(let M=0;M<x.length-1;M++){const R=x[M],G=x[M+1],Z=new ye(R.point,G.point),v=tr(Z);if(v%90===0){const k=ei[v],O=hs([...h,R.point]),U=new ye(O[O.length-2],O[O.length-1]),W=ei[Math.round(tr(U))];if(k!==xr[W]){h.push(R.point,G.point);const[,Q]=ko(R,G);G.direction=Q}else{const{loopRoute:Q,continueDirection:ie}=Ng(R,G,v,a);G.direction=ie,h.push(...Q)}continue}const[S,E]=Ig(R,G);R.direction=S,G.direction=E,h.push(...Jr(R,G),G.point)}const L=x[x.length-1];if(g.view&&g.view.model.isElement()){const[,M]=ko(L,g),R=_l(M,g,a),G=hs([...h,L.point]),Z=new ye(G[G.length-2],G[G.length-1]),v=Math.round(tr(Z)),S=ei[v],E=R.equals(L.point);if(!E||E&&S===M){L.direction=S;let k=Jr(L,g);const[O,U]=hs([...k,g.point]),W=new ye(O,U),Q=Math.round(tr(W)),ie=ei[Q],I=Og(g.view.model.getBBox(),M,a),B=L.point.x===g.point.x,N=L.point.y===g.point.y,D=I.containsPoint(L.point),$=B&&(M===ne.TOP||M===ne.BOTTOM),_=N&&(M===ne.LEFT||M===ne.RIGHT);if(!E&&D&&(_||$)){const{dx:j,dy:me}=Fg(M,v,a);k=df(L,{point:R},{dx:j,dy:me})}else D&&M!==xr[S]?(L.margin=a,L.direction=M,k=Jr(L,g)):ie!==S&&S===xr[ie]&&(L.margin=a,k=Jr(L,g));h.push(...k)}}else{const M=L,R=g,G=new ye(M.point,R.point),Z=tr(G);if(Z%90===0){const v=ei[Z],S=hs(h),E=new ye(S[S.length-2],M.point),k=ei[Math.round(tr(E))];if(v!==xr[k])h.push(M.point);else{const{loopRoute:O}=Ng(M,R,Z,a);O.pop(),h.push(...O)}}else{const[v,S]=Ig(M,R);M.direction=v,R.direction=S,h.push(...Jr(M,R))}}return hs(h)}function Ig(e,t){const n=e.direction,r=Cb.includes(n);let s=e.direction,a=t.direction;if(r){const l=e.point.y>t.point.y,c=t.point.x-e.point.x;n===ne.BOTTOM?(s=l?xr[n]:c>=0?ne.RIGHT:ne.LEFT,c>0?a=l?ne.LEFT:ne.TOP:c<0&&(a=l?ne.RIGHT:ne.TOP)):(s=l?c>=0?ne.RIGHT:ne.LEFT:xr[n],c>0?a=l?ne.BOTTOM:ne.LEFT:c<0&&(a=l?ne.BOTTOM:ne.RIGHT))}else{const l=e.point.x>t.point.x,c=t.point.y-e.point.y;n===ne.RIGHT?(s=l?xr[n]:c>=0?ne.BOTTOM:ne.TOP,c>0?a=l?ne.TOP:ne.LEFT:c<0&&(a=l?ne.BOTTOM:ne.LEFT)):(s=l?c>=0?ne.BOTTOM:ne.TOP:xr[n],c>0?a=l?ne.RIGHT:ne.TOP:c<0&&(a=l?ne.RIGHT:ne.BOTTOM))}return[s,a]}Yv.Directions=ne;const Rb=Yv,Db=Object.freeze(Object.defineProperty({__proto__:null,manhattan:ff,metro:Tb,normal:lb,oneSide:ub,orthogonal:cf,rightAngle:Rb},Symbol.toStringTag,{value:"Module"}));function Bb(e,t,n,r){var s="ratio"in r?r.ratio:.5;return e.getPointAtRatio(s)}function zb(e,t,n,r){var s="length"in r?r.length:20;return e.getPointAtLength(s)}function Vb(e,t,n,r){var s=1e6,a=e.getConnection(),l=e.getConnectionSubdivisions(),c=new ye(n.clone().offset(0,s),n.clone().offset(0,-1e6)),f=new ye(n.clone().offset(s,0),n.clone().offset(-1e6,0)),p=c.intersect(a,{segmentSubdivisions:l}),g=f.intersect(a,{segmentSubdivisions:l}),h=[];return p&&Array.prototype.push.apply(h,p),g&&Array.prototype.push.apply(h,g),h.length>0?n.chooseClosest(h):"fallbackAt"in r?Xv(e,r.fallbackAt):Zv(e,t,n,r)}function Ub(e,t,n,r){var s=e.getClosestPoint(n);return s||new z}function jo(e){return function(t,n,r,s){if(r instanceof Element){var a=this.paper.findView(r),l;if(a)if(a.isNodeConnection(r)){var c="fixedAt"in s?s.fixedAt:"50%";l=Xv(a,c)}else l=a.getNodeBBox(r).center();else l=new z;return e.call(this,t,n,l,s)}return e.apply(this,arguments)}}function Xv(e,t){var n=parseFloat(t);return nn(t)?e.getPointAtRatio(n/100):e.getPointAtLength(n)}const Gb=jo(Vb),Zv=jo(Ub),$b=Object.freeze(Object.defineProperty({__proto__:null,connectionClosest:Zv,connectionLength:zb,connectionPerpendicular:Gb,connectionRatio:Bb,resolveRef:jo},Symbol.toStringTag,{value:"Module"}));function br(e){return function(t,n,r,s){var a=!!s.rotate,l=a?t.getNodeUnrotatedBBox(n):t.getNodeBBox(n),c=l[e](),f=s.dx;if(f){var p=nn(f);f=parseFloat(f),isFinite(f)&&(p&&(f/=100,f*=l.width),c.x+=f)}var g=s.dy;if(g){var h=nn(g);g=parseFloat(g),isFinite(g)&&(h&&(g/=100,g*=l.height),c.y+=g)}return a?c.rotate(t.model.getBBox().center(),-t.model.angle()):c}}function Hb(e,t,n,r){var s=e.model.angle(),a=e.getNodeBBox(t),l=a.center(),c=a.origin(),f=a.corner(),p=r.padding;if(isFinite(p)||(p=0),c.y+p<=n.y&&n.y<=f.y-p){var g=n.y-l.y;l.x+=s===0||s===180?0:g*1/Math.tan(en(s)),l.y+=g}else if(c.x+p<=n.x&&n.x<=f.x-p){var h=n.x-l.x;l.y+=s===90||s===270?0:h*Math.tan(en(s)),l.x+=h}return l}function Wb(e,t,n,r){var s=!!r.rotate,a,l,c;s?(a=e.getNodeUnrotatedBBox(t),c=e.model.getBBox().center(),l=e.model.angle()):a=e.getNodeBBox(t);var f=r.padding;isFinite(f)&&a.inflate(f),s&&n.rotate(c,l);var p=a.sideNearestToPoint(n),g;switch(p){case"left":g=a.leftMiddle();break;case"right":g=a.rightMiddle();break;case"top":g=a.topMiddle();break;case"bottom":g=a.bottomMiddle();break}return s?g.rotate(c,-l):g}function jb(e,t,n,r,s){return e.model.getPointFromConnectedLink(this.model,s).offset(r.dx,r.dy)}const qb=br("center"),Yb=br("topMiddle"),Xb=br("bottomMiddle"),Zb=br("leftMiddle"),Qb=br("rightMiddle"),Kb=br("origin"),Jb=br("topRight"),eE=br("bottomLeft"),tE=br("corner"),nE=jo(Hb),rE=jo(Wb),iE=jb,hf=Object.freeze(Object.defineProperty({__proto__:null,bottom:Xb,bottomLeft:eE,bottomRight:tE,center:qb,left:Zb,midSide:rE,modelCenter:iE,perpendicular:nE,right:Qb,top:Yb,topLeft:Kb,topRight:Jb},Symbol.toStringTag,{value:"Module"})),sE=ri.extend({initialize:function(e,t){t.cellNamespace?this.cellNamespace=t.cellNamespace:this.cellNamespace=typeof joint<"u"&&ir(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){const r=t.collection.cellNamespace,{type:s}=e,a=Ls(r,s,".");if(!a)throw new Error(`dia.Graph: Could not find cell constructor for type: '${s}'. Make sure to add the constructor to 'cellNamespace'.`);return new a(e,t)},_addReference:function(e,t){ri.prototype._addReference.apply(this,arguments),!t.dry&&!e.graph&&(e.graph=this.graph)},_removeReference:function(e,t){ri.prototype._removeReference.apply(this,arguments),!t.dry&&e.graph===this.graph&&(e.graph=null)},comparator:function(e){return e.get("z")||0}}),Zf=Pn.extend({initialize:function(e,t){t=t||{};var n=new sE([],{model:t.cellModel,cellNamespace:t.cellNamespace,graph:this});Pn.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:n}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:n}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],n.id&&this._in[n.id]&&this._in[n.id][e.id]&&delete this._in[n.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var n=e.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var n=e.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(e={}){var t=Pn.prototype.toJSON.apply(this,arguments);return t.cells=this.get("cells").toJSON(e.cellAttributes),t},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,n){var r;return typeof e=="object"?(r=e,n=t):(r={})[e]=t,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=Ho(r,"cells")),Pn.prototype.set.call(this,r,n)},clear:function(e){e=we({},e,{clear:!0});var t=this.get("cells");if(t.length===0)return this;this.startBatch("clear",e);var n=t.sortBy(function(r){return r.isLink()?1:2});do n.shift().remove(e);while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e){let t;if(e instanceof Pn?t=e.attributes:t=e,!xt(t.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof Pn?e.has("z")||e.set("z",this.maxZIndex()+1):e.z===void 0&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return e.length===0?this:(e=ew(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(n){this.addCell(n,t),t.position--},this),this.stopBatch("add",t),this)},resetCells:function(e,t){var n=Ye(e).map(function(r){return this._prepareCell(r,t)},this);return this.get("cells").reset(n,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),rr(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,n){n=n||{},n.clear||(n.disconnectLinks?this.disconnectLinks(e,n):this.removeLinks(e,n)),this.get("cells").remove(e,{silent:!0})},transferCellEmbeds:function(e,t,n={}){const r="transfer-embeds";this.startBatch(r);const s=e.getEmbeddedCells();t.embed(s,{...n,reparent:!0}),this.stopBatch(r)},transferCellConnectedLinks:function(e,t,n={}){const r="transfer-connected-links";this.startBatch(r),this.getConnectedLinks(e,n).forEach(a=>{a.getSourceCell()===e&&a.prop(["source","id"],t.id,n),a.getTargetCell()===e&&a.prop(["target","id"],t.id,n)}),this.stopBatch(r)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").toArray().filter(e=>e.isElement())},getLinks:function(){return this.get("cells").toArray().filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){t=t||{};var n=t.indirect,r=t.inbound,s=t.outbound;r===void 0&&s===void 0&&(r=s=!0);var a=[],l={};s&&c(this,e),r&&f(this,e);function c(h,x){if(nr(h.getOutboundEdges(x.id),(function(b,P){if(!l[P]){var T=h.getCell(P);a.push(T),l[P]=!0,n&&(r&&f(h,T),s&&c(h,T))}}).bind(h)),n&&x.isLink()){var w=x.getTargetCell();w&&w.isLink()&&(l[w.id]||(a.push(w),c(h,w)))}}function f(h,x){if(nr(h.getInboundEdges(x.id),(function(b,P){if(!l[P]){var T=h.getCell(P);a.push(T),l[P]=!0,n&&(r&&f(h,T),s&&c(h,T))}}).bind(h)),n&&x.isLink()){var w=x.getSourceCell();w&&w.isLink()&&(l[w.id]||(a.push(w),f(h,w)))}}if(t.deep){var p=e.getEmbeddedCells({deep:!0}),g={};p.forEach(function(h){h.isElement()&&(g[h.id]=!0)}),p.forEach(function(h){h.isLink()||(s&&nr(this.getOutboundEdges(h.id),(function(x,w){if(!l[w]){var b=this.getCell(w),{source:P,target:T}=b.attributes,C=P.id,L=T.id;if(!t.includeEnclosed&&C&&g[C]&&L&&g[L])return;a.push(this.getCell(w)),l[w]=!0}}).bind(this)),r&&nr(this.getInboundEdges(h.id),(function(x,w){if(!l[w]){var b=this.getCell(w),{source:P,target:T}=b.attributes,C=P.id,L=T.id;if(!t.includeEnclosed&&C&&g[C]&&L&&g[L])return;a.push(this.getCell(w)),l[w]=!0}}).bind(this)))},this)}return a},getNeighbors:function(e,t){t||(t={});var n=t.inbound,r=t.outbound;n===void 0&&r===void 0&&(n=r=!0);var s=this.getConnectedLinks(e,t).reduce((function(c,f){var{source:p,target:g}=f.attributes,h=f.hasLoop(t);if(n&&ir(p,"id")&&!c[p.id]){var x=this.getCell(p.id);x.isElement()&&(h||x&&x!==e&&(!t.deep||!x.isEmbeddedIn(e)))&&(c[p.id]=x)}if(r&&ir(g,"id")&&!c[g.id]){var w=this.getCell(g.id);w.isElement()&&(h||w&&w!==e&&(!t.deep||!w.isEmbeddedIn(e)))&&(c[g.id]=w)}return c}).bind(this),{});if(e.isLink()){if(n){var a=e.getSourceCell();a&&a.isElement()&&!s[a.id]&&(s[a.id]=a)}if(r){var l=e.getTargetCell();l&&l.isElement()&&!s[l.id]&&(s[l.id]=l)}}return Ye(s)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(n){for(var r=[],s=n.get("parent");s;)r.push(s),s=this.getCell(s).get("parent");return r},this);e=e.sort(function(n,r){return n.length-r.length});var t=Ye(e.shift()).find(function(n){return e.every(function(r){return r.includes(n)})});return this.getCell(t)},getSuccessors:function(e,t){t=t||{};var n=[];return this.search(e,function(r){r!==e&&n.push(r)},we({},t,{outbound:!0})),n},cloneCells:Sv,cloneSubgraph:function(e,t){var n=this.getSubgraph(e,t);return this.cloneCells(n)},getSubgraph:function(e,t){t=t||{};var n=[],r={},s=[],a=[];return Ye(e).forEach(function(l){if(r[l.id]||(n.push(l),r[l.id]=l,l.isLink()?a.push(l):s.push(l)),t.deep){var c=l.getEmbeddedCells({deep:!0});c.forEach(function(f){r[f.id]||(n.push(f),r[f.id]=f,f.isLink()?a.push(f):s.push(f))})}}),a.forEach(function(l){var{source:c,target:f}=l.attributes;if(c.id&&!r[c.id]){var p=this.getCell(c.id);n.push(p),r[p.id]=p,s.push(p)}if(f.id&&!r[f.id]){var g=this.getCell(f.id);n.push(this.getCell(f.id)),r[g.id]=g,s.push(g)}},this),s.forEach(function(l){var c=this.getConnectedLinks(l,t);c.forEach(function(f){var{source:p,target:g}=f.attributes;!r[f.id]&&p.id&&r[p.id]&&g.id&&r[g.id]&&(n.push(f),r[f.id]=f)})},this),n},getPredecessors:function(e,t){t=t||{};var n=[];return this.search(e,function(r){r!==e&&n.push(r)},we({},t,{inbound:!0})),n},search:function(e,t,n){n=n||{},n.breadthFirst?this.bfs(e,t,n):this.dfs(e,t,n)},bfs:function(e,t,n={}){const r={},s={},a=[];for(a.push(e),s[e.id]=0;a.length>0;){var l=a.shift();if(r[l.id]||(r[l.id]=!0,t.call(this,l,s[l.id])===!1))continue;const c=this.getNeighbors(l,n);for(let f=0,p=c.length;f<p;f++){const g=c[f];s[g.id]=s[l.id]+1,a.push(g)}}},dfs:function(e,t,n={}){const r={},s={},a=[];for(a.push(e),s[e.id]=0;a.length>0;){const l=a.pop();if(r[l.id]||(r[l.id]=!0,t.call(this,l,s[l.id])===!1))continue;const c=this.getNeighbors(l,n),f=a.length;for(let p=0,g=c.length;p<g;p++){const h=c[p];s[h.id]=s[l.id]+1,a.splice(f,0,h)}}},getSources:function(){var e=[];return nr(this._nodes,(function(t,n){(!this._in[n]||pn(this._in[n]))&&e.push(this.getCell(n))}).bind(this)),e},getSinks:function(){var e=[];return nr(this._nodes,(function(t,n){(!this._out[n]||pn(this._out[n]))&&e.push(this.getCell(n))}).bind(this)),e},isSource:function(e){return!this._in[e.id]||pn(this._in[e.id])},isSink:function(e){return!this._out[e.id]||pn(this._out[e.id])},isSuccessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(e,t,n){n=n||{};var r=n.inbound,s=n.outbound;r===void 0&&s===void 0&&(r=s=!0);var a=!1;return this.getConnectedLinks(e,n).forEach(function(l){var{source:c,target:f}=l.attributes;if(r&&ir(c,"id")&&c.id===t.id||s&&ir(f,"id")&&f.id===t.id)return a=!0,!1}),a},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(n){n.set(n.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){rr(this.getConnectedLinks(e),"remove",t)},findElementsAtPoint:function(e,t){return this._filterAtPoint(this.getElements(),e,t)},findLinksAtPoint:function(e,t){return this._filterAtPoint(this.getLinks(),e,t)},findCellsAtPoint:function(e,t){return this._filterAtPoint(this.getCells(),e,t)},_filterAtPoint:function(e,t,n={}){return e.filter(r=>r.getBBox({rotate:!0}).containsPoint(t,n))},findElementsInArea:function(e,t={}){return this._filterInArea(this.getElements(),e,t)},findLinksInArea:function(e,t={}){return this._filterInArea(this.getLinks(),e,t)},findCellsInArea:function(e,t={}){return this._filterInArea(this.getCells(),e,t)},_filterInArea:function(e,t,n={}){const r=new he(t),{strict:s=!1}=n,a=s?"containsRect":"intersect";return e.filter(l=>r[a](l.getBBox({rotate:!0})))},findElementsUnderElement:function(e,t){return this._filterCellsUnderElement(this.getElements(),e,t)},findLinksUnderElement:function(e,t){return this._filterCellsUnderElement(this.getLinks(),e,t)},findCellsUnderElement:function(e,t){return this._filterCellsUnderElement(this.getCells(),e,t)},_isValidElementUnderElement:function(e,t){return e.id!==t.id&&!e.isEmbeddedIn(t)},_isValidLinkUnderElement:function(e,t){return e.source().id!==t.id&&e.target().id!==t.id&&!e.isEmbeddedIn(t)},_validateCellsUnderElement:function(e,t){return e.filter(n=>n.isLink()?this._isValidLinkUnderElement(n,t):this._isValidElementUnderElement(n,t))},_getFindUnderElementGeometry:function(e,t="bbox"){const n=e.getBBox({rotate:!0});return t!=="bbox"?kv(n,t):n},_filterCellsUnderElement:function(e,t,n={}){const r=this._getFindUnderElementGeometry(t,n.searchBy),s=r.type===ze.Point?this._filterAtPoint(e,r):this._filterInArea(e,r,n);return this._validateCellsUnderElement(s,t)},findModelsInArea:function(e,t){return this.findElementsInArea(e,t)},findModelsFromPoint:function(e){return this.findElementsAtPoint(e)},findModelsUnderElement:function(e,t){return this.findElementsUnderElement(e,t)},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t={}){const{rotate:n=!0}=t;return Ye(e).reduce(function(r,s){const a=s.getBBox({rotate:n});return a?r?r.union(a):a:r},null)},translate:function(e,t,n){var r=this.getCells().filter(function(s){return!s.isEmbedded()});return rr(r,"translate",e,t,n),this},resize:function(e,t,n){return this.resizeCells(e,t,this.getCells(),n)},resizeCells:function(e,t,n,r){var s=this.getCellsBBox(n);if(s){var a=Math.max(e/s.width,0),l=Math.max(t/s.height,0);rr(n,"scale",a,l,s.origin(),r)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",we({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",we({},t,{batchName:e}))},hasActiveBatch:function(e){const t=this._batches;let n;return arguments.length===0?n=Object.keys(t):Array.isArray(e)?n=e:n=[e],n.some(r=>t[r]>0)}},{validations:{multiLinks:function(e,t){var{source:n,target:r}=t.attributes;if(n.id&&r.id){var s=t.getSourceCell();if(s){var a=e.getConnectedLinks(s,{outbound:!0}),l=a.filter(function(c){var{source:f,target:p}=c.attributes;return f&&f.id===n.id&&(!f.port||f.port===n.port)&&p&&p.id===r.id&&(!p.port||p.port===r.port)});if(l.length>1)return!1}}return!0},linkPinning:function(e,t){var{source:n,target:r}=t.attributes;return n.id&&r.id}}});mS(Zf.prototype,["resetCells","addCells","removeCells"],of.cells);const Ut={GRID:"grid",CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},pf=Ps.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return wr(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){const{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){const{el:t,pivotNodes:n}=this;e=+e,e||(e=0);let r=n[e];if(r)return r;r=n[e]=document.createComment("z-index:"+(e+1));let s=-1/0;for(let a in n)a=+a,a<e&&a>s&&(s=a,e-1);if(s!==-1/0){const a=n[s];t.insertBefore(r,a.nextSibling)}else t.insertBefore(r,t.firstChild);return r},removePivots:function(){const{el:e,pivotNodes:t}=this;for(let n in t)e.removeChild(t[n]);this.pivotNodes={}}}),oE=["transform","x","y","cx","cy","dx","dy","x1","y1","x2","y2","points","d","r","rx","ry","width","height","stroke-width","font-size"],aE=["r","rx","ry","width","height","stroke-width","font-size"],lE=oE.reduce((e,t)=>(e[t]=!0,e),{}),uE=aE.reduce((e,t)=>(e[t]=!0,e),{});function Rg(e,t){const n={};for(let r in e)e.hasOwnProperty(r)&&(n[r]=Qv(r,e[r],t));return n}function Qv(e,t,n){if(e in lE&&Ms(t)){let r=Ns(t,n);return e in uE&&(r=Math.max(0,r)),r}return t}const ps={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},cE={TOOLS:"TOOLS"},$e=Ps.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(n,r,s){e.push("type-"+s.slice(0,r+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var e={},t={},n=0,r,s,a,l=it(this,"presentationAttributes");for(var c in l)if(l.hasOwnProperty(c)){var f=l[c];for(Array.isArray(f)||(f=[f]),r=0,s=f.length;r<s;r++){a=f[r];var p=e[a];p||(p=e[a]=1<<n++),t[c]|=p}}var g=it(this,"initFlag");for(Array.isArray(g)||(g=[g]),r=0,s=g.length;r<s;r++)a=g[r],e[a]||(e[a]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var n=0;if(Array.isArray(e))for(var r=0,s=e.length;r<s;r++)n|=t[e[r]];else n|=t[e];return n},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||bs(this),Ps.call(this,e)},initialize:function(){this.setFlags(),Ps.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var n=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!n||(t.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(n,t))},requestUpdate:function(e,t){const{paper:n}=this;n&&e>0&&n.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var n=Pl(e),r=n.selectors,s=n.groupSelectors;for(var a in s){if(r[a])throw new Error("dia.CellView: ambiguous group selector");r[a]=s[a]}if(t){var l=this.selector;if(r[l])throw new Error("dia.CellView: ambiguous root selector.");r[l]=t}return{fragment:n.fragment,selectors:r}},can:function(e){var t=Je(this.options.interactive)?this.options.interactive(this):this.options.interactive;return qe(t)&&t[e]!==!1||Yx(t)&&t!==!1},findBySelector:function(e,t,n){if(!e||e===".")return[t];if(n){var r=n[e];if(r)return Array.isArray(r)?r:[r]}return this.useCSSSelectors?de(t).find(e).toArray():[]},findNodes:function(e){return this.findBySelector(e,this.el,this.selectors)},findNode:function(e){const[t=null]=this.findNodes(e);return t},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var n=this.model;t=n.getBBox().bbox(n.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){const t=this.getNodeBoundingRect(e),n=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),r=this.getNodeMatrix(e);return re.transformRect(t,n.multiply(r))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():re.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),n=this.getNodeMatrix(e),r=this.getRootTranslateMatrix();return re.transformRect(t,r.multiply(n))},getRootTranslateMatrix:function(){var e=this.model,t=e.position(),n=re.createSVGMatrix().translate(t.x,t.y);return n},getRootRotateMatrix:function(){var e=re.createSVGMatrix(),t=this.model,n=t.angle();if(n){var r=t.getBBox(),s=r.width/2,a=r.height/2;e=e.translate(s,a).rotate(n).translate(-s,-a)}return e},_notifyHighlight:function(e,t,n={}){const{el:r}=this;let s;if(typeof t=="string"?s=this.findNode(t)||r:[s=r]=this.$(t),n.partial=s!==r,n.type===void 0){let a;switch(!0){case n.embedding:a=ps.EMBEDDING;break;case n.connecting:a=ps.CONNECTING;break;case n.magnetAvailability:a=ps.MAGNET_AVAILABILITY;break;case n.elementAvailability:a=ps.ELEMENT_AVAILABILITY;break;default:a=ps.DEFAULT;break}n.type=a}return this.notify(e,s,n),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){const t=this.el;let n=this.$(e)[0];n||(n=t);do{const r=n.getAttribute("magnet"),s=n===t;if((r||s)&&r!=="false")return n;if(s)return;n=n.parentNode}while(n)},findProxyNode:function(e,t){e||(e=this.el);const n=e.getAttribute(`${t}-selector`);if(n){const r=this.findNode(n);if(r)return r}return e},getSelector:function(e,t){var n;if(e===this.el)return typeof t=="string"&&(n=":scope > "+t),n;if(e){var r=re(e).index()+1;n=e.tagName+":nth-child("+r+")",t&&(n+=" > "+t),n=this.getSelector(e.parentNode,n)}return n},addLinkFromMagnet:function(e,t,n){var r=this.paper,s=r.model,a=r.getDefaultLink(this,e);return a.set({source:this.getLinkEnd(e,t,n,a,"source"),target:{x:t,y:n}}).addTo(s,{async:!1,ui:!0}),a.findView(r)},getLinkEnd:function(e,...t){const n=this.model,r=n.id,s=this.findAttributeNode("port",e),a=e.getAttribute("joint-selector"),l={id:r};if(a!=null&&(l.magnet=a),s!=null){let c=s.getAttribute("port");s.getAttribute("port-id-type")==="number"&&(c=parseInt(c,10)),l.port=c,!n.hasPort(c)&&!a&&(l.selector=this.getSelector(e))}else a==null&&this.el!==e&&(l.selector=this.getSelector(e));return this.customizeLinkEnd(l,e,...t)},customizeLinkEnd:function(e,t,n,r,s,a){const{paper:l}=this,{connectionStrategy:c}=l.options;if(typeof c=="function"){var f=c.call(l,e,this,t,new z(n,r),s,a,l);if(f)return f}return e},getMagnetFromLinkEnd:function(e){var t=e.port,n=e.magnet,r=this.model,s;return t!=null&&r.isElement()&&r.hasPort(t)?s=this.findPortNode(t,n)||this.el:(n||(n=e.selector),!n&&t!=null&&(n='[port="'+t+'"]'),s=this.findNode(n)),this.findProxyNode(s,"magnet")},dragLinkStart:function(e,t,n,r){this.model.startBatch("add-link");const s=this.addLinkFromMagnet(t,n,r);s.notifyPointerdown(e,n,r),s.eventData(e,s.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:s})},dragLink:function(e,t,n){var r=this.eventData(e),s=r.linkView;if(s)s.pointermove(e,t,n);else{var a=this.paper,l=a.options.magnetThreshold,c=this.getEventTarget(e),f=r.targetMagnet;if(l==="onleave"){if(f===c||re(f).contains(c))return}else if(a.eventData(e).mousemoved<=l)return;this.dragLinkStart(e,f,t,n)}},dragLinkEnd:function(e,t,n){var r=this.eventData(e),s=r.linkView;s&&(s.pointerup(e,t,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){pn(t)||(e instanceof SVGElement?re(e).attr(t):de(e).attr(t))},processNodeAttributes:function(e,t){var n,r,s,a,l,c,f,p,g,h=[];const x={};for(n in t)t.hasOwnProperty(n)&&(x[re.attributeNames[n]]=t[n]);for(n in x)if(x.hasOwnProperty(n))if(r=x[n],s=this.getAttributeDefinition(n),s)if(r===null){let w;if(Je(s.unset)?w=s.unset.call(this,e,x,this):w=s.unset,!w&&xt(s.set)&&(w=s.set),w||(w=n),xt(w)&&w){if(c||(c={}),w in c)continue;c[w]=r}else if(Array.isArray(w)&&w.length>0)for(c||(c={}),a=0,l=w.length;a<l;a++){const b=w[a];b in c||(c[b]=r)}}else!Je(s.qualify)||s.qualify.call(this,r,e,x,this)?(xt(s.set)&&(c||(c={}),c[s.set]=r),h.push(n,s)):(c||(c={}),c[n]=r);else c||(c={}),c[n]=r;for(a=0,l=h.length;a<l;a+=2)n=h[a],s=h[a+1],r=t[n],Je(s.set)&&(f||(f={}),f[n]=r),Je(s.position)&&(p||(p={}),p[n]=r),Je(s.offset)&&(g||(g={}),g[n]=r);return{raw:x,normal:c,set:f,position:p,offset:g}},updateRelativeAttributes:function(e,t,n,r){r||(r={});var s,a,l,c=Rg(t.raw||{},n),f=t.normal||{};for(const S in f)f[S]=c[S];var p=t.set,g=t.position,h=t.offset;for(s in p){a=c[s],l=this.getAttributeDefinition(s);var x=l.set.call(this,a,n.clone(),e,c,this);qe(x)?we(f,x):x!==void 0&&(f[s]=x)}if(e instanceof HTMLElement){this.setNodeAttributes(e,f);return}var w=f.transform,b=re.transformStringToMatrix(w),P=z(b.e,b.f);w&&(f=Ho(f,"transform"),b.e=b.f=0);var T,C,L;if(g||h){var M=this.getNodeScale(e,r.scalableNode);T=M.sx,C=M.sy}var R=!1;for(s in g)a=c[s],l=this.getAttributeDefinition(s),L=l.position.call(this,a,n.clone(),e,c,this),L&&(P.offset(z(L).scale(T,C)),R||(R=!0));this.setNodeAttributes(e,f);var G=!1;if(h){var Z=this.getNodeBoundingRect(e);if(Z.width>0&&Z.height>0){var v=re.transformRect(Z,b).scale(1/T,1/C);for(s in h)a=c[s],l=this.getAttributeDefinition(s),L=l.offset.call(this,a,v,e,c,this),L&&(P.offset(z(L).scale(T,C)),G||(G=!0))}}(w!==void 0||R||G)&&(P.round(1),b.e=P.x,b.f=P.y,e.setAttribute("transform",re.matrixToTransformString(b)))},getNodeScale:function(e,t){var n,r;if(t&&t.contains(e)){var s=t.scale();n=1/s.sx,r=1/s.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},cleanNodeCache:function(e){const t=e.id;t&&delete this.metrics[t]},nodeCache:function(e){var t=this.metrics;if(!t)return{};var n=re.ensureId(e),r=t[n];return r||(r=t[n]={}),r},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return t.boundingRect===void 0&&(t.boundingRect=re(e).getBBox()),new he(t.boundingRect)},getNodeMatrix:function(e){const t=this.nodeCache(e);if(t.magnetMatrix===void 0){const{rotatableNode:n,el:r}=this;let s;n&&n.contains(e)?s=n:s=r,t.magnetMatrix=re(e).getTransformToElement(s)}return re.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return t.geometryShape===void 0&&(t.geometryShape=re(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,n,r){var s,a,l,c,f={},p=[];for(var g in e)if(e.hasOwnProperty(g)&&(l=e[g],!!yt(l))){var h=n[g]=this.findBySelector(g,t,r);for(s=0,a=h.length;s<a;s++){var x=h[s];c=re.ensureId(x);var w=r&&r[g]===x,b=f[c];if(b){b.array||(p.push(c),b.array=!0,b.attributes=[b.attributes],b.selectedLength=[b.selectedLength]);var P=b.attributes,T=b.selectedLength;if(w)P.unshift(l),T.unshift(-1);else{var C=sv(T,a);P.splice(C,0,l),T.splice(C,0,a)}}else f[c]={attributes:l,selectedLength:w?-1:a,node:x,array:!1}}}for(s=0,a=p.length;s<a;s++)c=p[s],l=f[c],l.attributes=Et({},...l.attributes.reverse());return f},getEventTarget:function(e,t={}){const{target:n,type:r,clientX:s=0,clientY:a=0}=e;return t.fromPoint||r==="touchmove"||r==="touchend"||"pointerId"in e&&n.hasPointerCapture(e.pointerId)?document.elementFromPoint(s,a):n},updateDOMSubtreeAttributes:function(e,t,n){n||(n={}),n.rootBBox||(n.rootBBox=he()),n.selectors||(n.selectors=this.selectors);var r={},s={},a=[],l=[],c,f,p,g,h,x=n.roAttributes,w=this.findNodesAttributes(x||t,e,r,n.selectors),b=x?this.findNodesAttributes(t,e,r,n.selectors):w;for(var P in w)if(g=w[P],p=g.attributes,f=g.node,h=this.processNodeAttributes(f,p),!h.set&&!h.position&&!h.offset&&!h.raw.ref)this.setNodeAttributes(f,Rg(h.normal,n.rootBBox));else{var T=b[P]&&b[P].attributes,C=T&&p.ref===void 0?T.ref:p.ref,L;if(C){if(L=(r[C]||this.findBySelector(C,e,n.selectors))[0],!L)throw new Error('dia.CellView: "'+C+'" reference does not exist.')}else L=null;if(c={node:f,refNode:L,processedAttributes:h,allAttributes:T},L){var M=l.findIndex(function(R){return R.refNode===f});M>-1?l.splice(M,0,c):l.push(c)}else a.push(c)}a.push(...l);for(let R=0,G=a.length;R<G;R++){c=a[R],f=c.node,L=c.refNode;const Z=L?re.ensureId(L):"";let v=s[Z];v||(v=s[Z]=L?re(L).getBBox({target:fE(f,L)}):n.rootBBox),x?(h=this.processNodeAttributes(f,c.allAttributes),this.mergeProcessedAttributes(h,c.processedAttributes)):h=c.processedAttributes,this.updateRelativeAttributes(f,h,v,n)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),we(e.set,t.set),we(e.position,t.position),we(e.offset,t.offset);var n=e.normal&&e.normal.transform;n!==void 0&&t.normal&&(t.normal.transform=n),e.normal=t.normal},onMount(e){e||(this.mountTools(),Un.mount(this))},onDetach(){this.unmountTools(),Un.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return t?e?t.getName()===e:!0:!1},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const e=this._toolsView;return e&&e.unmount(),this},mountTools(){const e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){Un.remove(this)},updateHighlighters:function(e=!1){Un.update(this,null,e)},transformHighlighters:function(){Un.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){const{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,n){this.notify("cell:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){this.notify("cell:pointerclick",e,t,n)},contextmenu:function(e,t,n){this.notify("cell:contextmenu",e,t,n)},pointerdown:function(e,t,n){const{model:r}=this,{graph:s}=r;s&&(r.startBatch("pointer"),this.eventData(e,{graph:s})),this.notify("cell:pointerdown",e,t,n)},pointermove:function(e,t,n){this.notify("cell:pointermove",e,t,n)},pointerup:function(e,t,n){const{graph:r}=this.eventData(e);this.notify("cell:pointerup",e,t,n),r&&r.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,n,r){this.notify("cell:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){this.notify(t,e,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){const{paper:t,model:n}=this;if(t.isAsync()){if(n.isLink()){const a=n.getSourceElement();if(a){const c=t.findViewByModel(a);c&&(t.dumpView(c),t.checkViewVisibility(c))}const l=n.getTargetElement();if(l){const c=t.findViewByModel(l);c&&(t.dumpView(c),t.checkViewVisibility(c))}}t.dumpView(this),t.checkViewVisibility(this)}const r=this.getEventTarget(e,{fromPoint:!0}),s=t.findView(r);s!==this&&(this.mouseleave(e),s&&s.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e},isIntersecting:function(e,t){return Ci.exists(e,this.getNodeBBox(this.el),t)},isEnclosedIn:function(e){return e.containsRect(this.getNodeBBox(this.el))},isInArea:function(e,t={}){return t.strict?this.isEnclosedIn(e):this.isIntersecting(e)},isAtPoint:function(e,t){return this.getNodeBBox(this.el).containsPoint(e,t)}},{Flags:cE,Highlighting:ps,addPresentationAttributes:function(e){return Et({},it(this.prototype,"presentationAttributes"),e,function(t,n){if(!(!t||!n)&&(typeof t=="string"&&(t=[t]),typeof n=="string"&&(n=[n]),Array.isArray(t)&&Array.isArray(n)))return Ni(t.concat(n))})},evalAttribute:Qv});Object.defineProperty($e.prototype,"useCSSSelectors",{get(){const e=this.model.useCSSSelectors;return e!==void 0?e:As.useCSSSelectors}});function fE(e,t){let n=e;do{if(n.contains(t))return n;n=n.parentNode}while(n);return null}const je={TOOLS:$e.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},gs={MOVE:"move",MAGNET:"magnet"},Ts=$e.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=$e.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){$e.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[je.UPDATE],position:[je.TRANSLATE,je.TOOLS],size:[je.RESIZE,je.PORTS,je.TOOLS],angle:[je.ROTATE,je.TOOLS],markup:[je.RENDER],ports:[je.PORTS]},initFlag:[je.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){const{useCSSSelectors:n}=this;this.hasFlag(e,je.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,je.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[je.RENDER,je.UPDATE,je.RESIZE,je.TRANSLATE,je.ROTATE,je.PORTS,je.TOOLS]);else{let s=!1;this.hasFlag(e,je.RESIZE)&&(this.resize(t),s=!0,e=this.removeFlag(e,[je.RESIZE,je.UPDATE]),n&&(e=this.removeFlag(e,je.PORTS))),this.hasFlag(e,je.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,je.UPDATE),s=!0,n&&(e=this.removeFlag(e,je.PORTS))),this.hasFlag(e,je.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,je.TRANSLATE),r=!0),this.hasFlag(e,je.ROTATE)&&(this.rotate(),e=this.removeFlag(e,je.ROTATE),r=!0),this.hasFlag(e,je.PORTS)&&(this._renderPorts(),s=!0,e=this.removeFlag(e,je.PORTS)),s&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,je.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,je.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache();const{useCSSSelectors:n}=this;n&&this._removePorts();var r=this.model,s=r.attr();this.updateDOMSubtreeAttributes(this.el,s,{rootBBox:new he(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===s?null:t}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),n=this.selectors=t.selectors;this.rotatableNode=re(n[this.rotatableSelector])||null,this.scalableNode=re(n[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(re(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable");var n=this.selectors={};n[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this.useCSSSelectors||this._renderPorts(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){const{x:e,y:t}=this.model.position();return`translate(${e},${t})`},getRotateString:function(){const e=this.model.angle();if(!e)return null;const{width:t,height:n}=this.model.size();return`rotate(${e},${t/2},${n/2})`},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,n=t.angle(),r=t.size(),s=this.scalableNode,a=!1;s.node.getElementsByTagName("path").length>0&&(a=!0);var l=s.getBBox({recursive:a}),c=r.width/(l.width||1),f=r.height/(l.height||1);s.attr("transform","scale("+c+","+f+")");var p=this.rotatableNode,g=p&&p.attr("transform");if(g){p.attr("transform",g+" rotate("+-n+","+r.width/2+","+r.height/2+")");var h=s.getBBox({target:this.paper.cells});t.set("position",{x:h.x,y:h.y},we({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){const t=e.model||this.model,r=(e.paper||this.paper).model,s=e.initialZIndices={},a=t.getEmbeddedCells({deep:!0}),l=r.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...a,...l].forEach(p=>s[p.id]=p.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});const c=r.getElements().reduce((p,g)=>Math.max(p,g.attributes.z||0),0);l.forEach(p=>{p.attributes.z<=c&&p.set("z",c+1,{ui:!0})}),t.stopBatch("to-front");const f=t.parent();f?(r.getCell(f).unembed(t,{ui:!0}),e.initialParentId=f):e.initialParentId=null},processEmbedding:function(e={},t,n,r){const s=e.model||this.model,a=e.paper||this.paper,l=a.model,{findParentBy:c,frontParentOnly:f,validateEmbedding:p}=a.options;let g;Je(c)?g=Ye(c.call(l,this,t,n,r)):c==="pointer"?g=l.findElementsAtPoint({x:n,y:r}):g=l.findElementsUnderElement(s,{searchBy:c}),g=g.filter(w=>w instanceof or&&s.id!==w.id&&!w.isEmbeddedIn(s)),f&&(g=g.slice(-1));let h=null;const x=e.candidateEmbedView;for(let w=g.length-1;w>=0;w--){const b=g[w];if(x&&x.model.id==b.id){h=x;break}else{const P=b.findView(a);if(!Je(p)||p.call(a,this,P)){h=P;break}}}h&&h!=x&&(this.clearEmbedding(e),e.candidateEmbedView=h.highlight(h.findProxyNode(null,"container"),{embedding:!0})),!h&&x&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){const t=e.candidateEmbedView,n=e.model||this.model,r=e.paper||this.paper;if(t)t.model.embed(n,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{const{validateUnembedding:s}=r.options,{initialParentId:a}=e;if(a&&typeof s=="function"&&!s.call(r,this)){this._disallowUnembed(e);return}}r.model.getConnectedLinks(n,{deep:!0}).forEach(s=>{s.reparent({ui:!0})})},_disallowUnembed:function(e){const{model:t,whenNotAllowed:n="revert"}=e,r=t||this.model,a=(e.paper||this.paper).model;switch(n){case"remove":{r.remove({ui:!0});break}case"revert":{const{initialParentId:l,initialPosition:c,initialZIndices:f}=e;if(c){const{x:g,y:h}=c;r.position(g,h,{deep:!0,ui:!0})}f&&Object.keys(f).forEach(g=>{const h=a.getCell(g);h&&h.set("z",f[g],{ui:!0})});const p=a.getCell(l);p&&p.embed(r,{ui:!0});break}}},getTargetParentView:function(e){const{candidateEmbedView:t=null}=this.eventData(e);return t},getDelegatedView:function(){for(var e=this,t=e.model,n=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=n.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);const n=e.getAttribute(`${t}-selector`);if(n){const r=this.findAttribute("port",e);if(r){const s=this.findPortNode(r,n);if(s)return s}else{const s=this.findNode(n);if(s)return s}}return e},notifyPointerdown(e,t,n){$e.prototype.pointerdown.call(this,e,t,n),this.notify("element:pointerdown",e,t,n)},notifyPointermove(e,t,n){$e.prototype.pointermove.call(this,e,t,n),this.notify("element:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("element:pointerup",e,t,n),$e.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){$e.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){$e.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,n)},contextmenu:function(e,t,n){$e.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragStart(e,t,n)},pointermove:function(e,t,n){const r=this.eventData(e),{targetMagnet:s,action:a,delegatedView:l}=r;switch(s&&this.magnetpointermove(e,s,t,n),a){case gs.MAGNET:this.dragMagnet(e,t,n);break;case gs.MOVE:(l||this).drag(e,t,n);default:if(r.preventPointerEvents)break;this.notifyPointermove(e,t,n);break}this.eventData(e,r)},pointerup:function(e,t,n){const r=this.eventData(e),{targetMagnet:s,action:a,delegatedView:l}=r;switch(s&&this.magnetpointerup(e,s,t,n),a){case gs.MAGNET:this.dragMagnetEnd(e,t,n);break;case gs.MOVE:(l||this).dragEnd(e,t,n);default:if(r.preventPointerEvents)break;this.notifyPointerup(e,t,n)}s&&this.magnetpointerclick(e,s,t,n),this.checkMouseleave(e)},mouseover:function(e){$e.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){$e.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){$e.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){$e.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,n,r){$e.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,n,r)},onmagnet:function(e,t,n){const{currentTarget:r}=e;this.magnetpointerdown(e,r,t,n),this.eventData(e,{targetMagnet:r}),this.dragMagnetStart(e,t,n)},magnetpointerdown:function(e,t,n,r){this.notify("element:magnet:pointerdown",e,t,n,r)},magnetpointermove:function(e,t,n,r){this.notify("element:magnet:pointermove",e,t,n,r)},magnetpointerup:function(e,t,n,r){this.notify("element:magnet:pointerup",e,t,n,r)},magnetpointerdblclick:function(e,t,n,r){this.notify("element:magnet:pointerdblclick",e,t,n,r)},magnetcontextmenu:function(e,t,n,r){this.notify("element:magnet:contextmenu",e,t,n,r)},dragStart:function(e,t,n){if(this.isDefaultInteractionPrevented(e))return;var r=this.getDelegatedView();if(!r||!r.can("elementMove"))return;this.eventData(e,{action:gs.MOVE,delegatedView:r});const s=r.model.position();r.eventData(e,{initialPosition:s,pointerOffset:s.difference(t,n),restrictedArea:this.paper.getRestrictedArea(r,t,n)})},dragMagnetStart:function(e,t,n){const{paper:r}=this,s=e.isPropagationStopped();if(s&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:a=e.currentTarget}=this.eventData(e);if(e.stopPropagation(),!r.options.validateMagnet.call(r,this,a,e)){s?this.dragStart(e,t,n):this.pointerdown(e,t,n);return}r.options.magnetThreshold<=0&&this.dragLinkStart(e,a,t,n),this.eventData(e,{action:gs.MAGNET})},drag:function(e,t,n){var r=this.paper,s=r.options.gridSize,a=this.model,l=this.eventData(e),{pointerOffset:c,restrictedArea:f,embedding:p}=l,g=Mi(t+c.x,s),h=Mi(n+c.y,s);a.position(g,h,{restrictedArea:f,deep:!0,ui:!0}),r.options.embeddingMode&&(p||(this.prepareEmbedding(l),p=!0),this.processEmbedding(l,e,t,n)),this.eventData(e,{embedding:p})},dragMagnet:function(e,t,n){this.dragLink(e,t,n)},dragEnd:function(e,t,n){var r=this.eventData(e);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(e,t,n){this.dragLinkEnd(e,t,n)},magnetpointerclick:function(e,t,n,r){var s=this.paper;s.eventData(e).mousemoved>s.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,n,r)}},{Flags:je});we(Ts.prototype,GS);const We={TOOLS:$e.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LABELS:"LABELS",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},_o=$e.extend({className:function(){var e=$e.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},_labelCache:null,_labelSelectors:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){$e.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[We.RENDER],attrs:[We.UPDATE],router:[We.UPDATE],connector:[We.CONNECTOR],labels:[We.LABELS,We.TOOLS],labelMarkup:[We.LABELS],vertices:[We.UPDATE],source:[We.SOURCE,We.UPDATE],target:[We.TARGET,We.UPDATE]},initFlag:[We.RENDER,We.SOURCE,We.TARGET,We.TOOLS],UPDATE_PRIORITY:1,EPSILON:1e-6,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,We.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,We.SOURCE)}if(this.hasFlag(e,We.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,We.TARGET)}const{paper:n,sourceView:r,targetView:s}=this;if(n&&(r&&!n.isViewMounted(r)||s&&!n.isViewMounted(s)))return e;if(this.hasFlag(e,We.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),e=this.removeFlag(e,[We.RENDER,We.UPDATE,We.LABELS,We.TOOLS,We.CONNECTOR]),Rv.test("isSafari")&&this.__fixSafariBug268376(),e;let a=!1;const{model:l}=this,{attributes:c}=l;let f=this.hasFlag(e,We.LABELS);f&&(this.onLabelsChange(l,c.labels,t),e=this.removeFlag(e,We.LABELS),a=!0);const p=this.hasFlag(e,We.UPDATE),g=this.hasFlag(e,We.CONNECTOR);return(p||g)&&(p?t.translateBy&&l.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[We.UPDATE,We.TOOLS,We.CONNECTOR]),f=!1,a=!0),f&&this.updateLabelPositions(),a&&this.updateHighlighters(),this.hasFlag(e,We.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,We.TOOLS)),e},__fixSafariBug268376:function(){const{el:e}=this,t=Array.from(e.childNodes),n=document.createDocumentFragment();for(let r=0,s=t.length;r<s;r++)e.removeChild(t[r]),n.appendChild(t[r]);e.appendChild(n)},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(We.UPDATE),e)},isLabelsRenderRequired:function(e={}){const t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var n=e.propertyPathArray||[],r=n.length;if(r>1){var s=!!t[n[1]];if(s){if(r===2)return"markup"in Object(e.propertyValue);if(n[2]!=="markup")return!1}}}return!0},onLabelsChange:function(e,t,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=re(e);Array.isArray(t)||(t=[t]),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if(typeof e=="string")return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=re(e),n=document.createDocumentFragment();if(!Array.isArray(t))n.appendChild(t.node);else for(var r=0,s=t.length;r<s;r++){var a=t[r].node;n.appendChild(a)}return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment)||!e.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var n,r=t.childNodes;return r.length>1||r[0].nodeName.toUpperCase()!=="G"?n=re("g").append(t):n=re(r[0]),n.addClass("label"),{node:n.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,n=this._labelCache={},r=this._labelSelectors={},s=this.model,a=s.attributes.labels||[],l=a.length;if(l===0)return t&&t.remove(),this;t?t.empty():(t=e.labels=re("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(wr(it(this,"className"))),t.attr("model-id",s.id)));for(var c=0;c<l;c++){var f=a[c],p=this._normalizeLabelMarkup(this._getLabelMarkup(f.markup)),g,h;if(p)g=p.node,h=p.selectors;else{var x=s._builtins.defaultLabel,w=this._normalizeLabelMarkup(this._getLabelMarkup(x.markup)),b=s._getDefaultLabel(),P=this._normalizeLabelMarkup(this._getLabelMarkup(b.markup)),T=P||w;g=T.node,h=T.selectors}g.setAttribute("label-idx",c),t.append(g),n[c]=g;var C=this.selector;if(h[C])throw new Error("dia.LinkView: ambiguous label root selector.");h[C]=g,r[c]=h}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:e,paper:t,model:n,_V:r,options:s}=this,{labels:a}=r;if(!a||!n.hasLabels())return;const{node:l}=a;s.labelsLayer?t.getLayerView(s.labelsLayer).insertSortedNode(l,n.get("z")):l.parentNode!==e&&e.appendChild(l)},unmountLabels:function(){const{options:e,_V:t}=this;if(!t)return;const{labels:n}=t;n&&e.labelsLayer&&n.remove()},findLabelNodes:function(e,t){const n=this._labelCache[e];if(!n)return[];const r=this._labelSelectors[e];return this.findBySelector(t,n,r)},findLabelNode:function(e,t){const[n=null]=this.findLabelNodes(e,t);return n},_mergeLabelAttrs:function(e,t,n,r){return t===null?null:t===void 0?n===null?null:n===void 0?e?void 0:r:e?n:Et({},r,n):e?Et({},n,t):Et({},r,n,t)},_mergeLabelSize:function(e,t){return e===null?null:e===void 0?t===null?null:t===void 0?void 0:t:Et({},t,e)},updateLabels:function(){if(!this._V.labels)return this;this.paper.options.labelLayer||this.cleanNodeCache(this.el);for(var e=this.model,t=e.get("labels")||[],n=this.can("labelMove"),r=e._builtins.defaultLabel,s=r.attrs,a=e._getDefaultLabel(),l=a.markup,c=a.attrs,f=a.size,p=0,g=t.length;p<g;p++){var h=this._labelCache[p];h.setAttribute("cursor",n?"move":"default");var x=this._labelSelectors[p],w=t[p],b=w.markup,P=w.attrs,T=w.size,C=this._mergeLabelAttrs(b||l,P,c,s),L=this._mergeLabelSize(T,f);this.updateDOMSubtreeAttributes(h,C,{rootBBox:new he(L),selectors:x})}return this},removeRedundantLinearVertices:function(e){const n=this.model,r=n.vertices(),s=[this.sourceAnchor,...r,this.targetAnchor],a=s.length,l=new st(s);l.simplify({threshold:.001});const c=l.points.map(p=>p.toJSON()),f=c.length;return a===f?0:(n.vertices(c.slice(1,f-1),e),a-f)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new z(this.sourceAnchor);case"target":return new z(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new z(this.sourcePoint);case"target":return new z(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){const{route:n,path:r}=this;if(!n||!r)return;const s=new st(n);s.translate(e,t),this.route=s.points,this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t),r.translate(e,t),this.updateDOM()},updateDOM(){const{el:e,model:t,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:n}),this.updateLabelPositions(),this.options.perpendicular=null},updateRoute:function(){const{model:e}=this,t=e.vertices(),n=this.findAnchors(t),r=this.sourceAnchor=n.source,s=this.targetAnchor=n.target,a=this.findRoute(t);this.route=a;var l=this.findConnectionPoints(a,r,s);this.sourcePoint=l.source,this.targetPoint=l.target},updatePath:function(){const{route:e,sourcePoint:t,targetPoint:n}=this,r=this.findPath(e,t.clone(),n.clone());this.path=r},findAnchorsOrdered:function(e,t,n,r){var s,a,l,c,f=this.model,p=f.get(e),g=f.get(n),h=this.getEndView(e),x=this.getEndView(n),w=this.getEndMagnet(e),b=this.getEndMagnet(n);h?(t?l=new z(t):x?l=b:l=new z(g),s=this.getAnchor(p.anchor,h,w,l,e)):s=new z(p),x?(c=new z(r||s),a=this.getAnchor(g.anchor,x,b,c,n)):a=new z(g);var P={};return P[e]=s,P[n]=a,P},findAnchors:function(e){var t=this.model,n=e[0],r=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(e,t,n){var r=e[0],s=e[e.length-1],a=this.model,l=a.get("source"),c=a.get("target"),f=this.sourceView,p=this.targetView,g=this.paper.options,h,x,w;if(f&&!f.isNodeConnection(this.sourceMagnet)){h=this.sourceMagnet||f.el;var b=l.connectionPoint||g.defaultConnectionPoint,P=r||n,T=new ye(P,t);w=this.getConnectionPoint(b,f,h,T,"source")}else w=t;var C;if(p&&!p.isNodeConnection(this.targetMagnet)){x=this.targetMagnet||p.el;var L=c.connectionPoint||g.defaultConnectionPoint,M=s||t,R=new ye(M,n);C=this.getConnectionPoint(L,p,x,R,"target")}else C=n;return{source:w,target:C}},getAnchor:function(e,t,n,r,s){var a=t.isNodeConnection(n),l=this.paper.options;if(e||(a?e=l.defaultLinkAnchor:this.options.perpendicular?e={name:"perpendicular"}:e=l.defaultAnchor),!e)throw new Error("Anchor required.");var c;if(typeof e=="function")c=e;else{var f=e.name,p=a?"linkAnchorNamespace":"anchorNamespace";if(c=l[p][f],typeof c!="function")throw new Error("Unknown anchor: "+f)}var g=c.call(this,t,n,r,e.args||{},s,this);return g?g.round(this.decimalsRounding):new z},getConnectionPoint:function(e,t,n,r,s){var a,l=r.end,c=this.paper.options;if(!e)return l;var f;if(typeof e=="function")f=e;else{var p=e.name;if(f=c.connectionPointNamespace[p],typeof f!="function")throw new Error("Unknown connection point: "+p)}return a=f.call(this,r,t,n,e.args||{},s,this),a?a.round(this.decimalsRounding):l},isIntersecting:function(e,t){const n=this.getConnection();return n?Ci.exists(e,n,t,{segmentSubdivisions:this.getConnectionSubdivisions()}):!1},isEnclosedIn:function(e){const t=this.getConnection();if(!t)return!1;const n=t.bbox();return n?e.containsRect(n):!1},isAtPoint:function(e){const t=new he(e);return t.inflate(this.EPSILON),this.isIntersecting(t)},_getDefaultLabelPositionProperty:function(){var e=this.model,t=e._builtins.defaultLabel,n=t.position,r=e._getDefaultLabel(),s=this._normalizeLabelPosition(r.position);return Et({},n,s)},_normalizeLabelPosition:function(e){return typeof e=="number"?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return e===null?null:e===void 0?t===null?null:t:Et({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var e=this.path;if(!e)return this;var t=this.model,n=t.get("labels")||[];if(!n.length)return this;for(var r=this._getDefaultLabelPositionProperty(),s=0,a=n.length;s<a;s++){var l=this._labelCache[s];if(l){var c=n[s],f=this._normalizeLabelPosition(c.position),p=this._mergeLabelPositionProperty(f,r),g=this._getLabelTransformationMatrix(p);l.setAttribute("transform",re.matrixToTransformString(g)),this._cleanLabelMatrices(s)}}return this},_cleanLabelMatrices:function(e){const{metrics:t,_labelSelectors:n}=this,r=n[e];if(r)for(let s in r){const{id:a}=r[s];a&&a in t&&delete t[a].magnetMatrix}},updateEndProperties:function(e){const{model:t,paper:n}=this,r=`${e}View`,s=t.get(e),a=s&&s.id;if(!a)return this[r]=null,this.updateEndMagnet(e),!0;const l=n.getModelById(a);if(!l)throw new Error("LinkView: invalid "+e+" cell.");const c=l.findView(n);return c?(this[r]=c,this.updateEndMagnet(e),!0):!1},updateEndMagnet:function(e){const t=`${e}Magnet`,n=this.getEndView(e);if(n){let r=n.getMagnetFromLinkEnd(this.model.get(e));r===n.el&&(r=null),this[t]=r}else this[t]=null},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){var t=this._getLabelPositionProperty(e);return t.angle||0},_getLabelPositionArgs:function(e){var t=this._getLabelPositionProperty(e);return t.args},_getDefaultLabelPositionArgs:function(){var e=this.model._getDefaultLabel(),t=e.position||{};return t.args},_mergeLabelPositionArgs:function(e,t){return e===null?null:e===void 0?t===null?null:t:Et({},t,e)},addLabel:function(e,t,n,r){var s,a,l=0,c;typeof e!="number"?(s=e.x,a=e.y,typeof t=="number"?(l=t,c=n):c=t):(s=e,a=t,typeof n=="number"?(l=n,c=r):c=n);var f=this._getDefaultLabelPositionArgs(),p=c,g=this._mergeLabelPositionArgs(p,f),h={position:this.getLabelPosition(s,a,l,g)},x=-1;return this.model.insertLabel(x,h,c),x},addVertex:function(e,t,n){var r=typeof e!="number",s=r?e.x:e,a=r?e.y:t,l=r?t:n,c={x:s,y:a},f=this.getVertexIndex(s,a);return this.model.insertVertex(f,c,l),f},sendToken:function(e,t,n){function r(h,x){return function(){h.remove(),typeof x=="function"&&x()}}var s,a,l;qe(t)?(s=t.duration,a=t.direction==="reverse",l=t.connection):(s=t,a=!1,l=null),s=s||1e3;var c={dur:s+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};a&&(c.keyPoints="1;0",c.keyTimes="0;1");var f=re(e),p;if(typeof l=="string")p=this.findNode(l);else{var g=this._V;p=g.connection?g.connection.node:this.el.querySelector("path")}if(!(p instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");f.appendTo(this.paper.cells).animateAlongPath(c,p),setTimeout(r(f,n),s)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||Db,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n)if(r)n=r;else return e.map(z);var s=Je(n)?n:t[n.name];if(!Je(s))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');var a=n.args||{},l=s.call(this,e,a,this);return l||e.map(z)},findPath:function(e,t,n){var r=this.paper.options.connectorNamespace||R2,s=this.model.connector(),a=this.paper.options.defaultConnector;s||(s=a||{});var l=Je(s)?s:r[s.name];if(!Je(l))throw new Error('dia.LinkView: unknown connector: "'+s.name+'".');var c=Dt(s.args||{});c.raw=!0;var f=l.call(this,t,n,e,c,this);return typeof f=="string"&&(f=new Ce(re.normalizePathData(f))),f},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var n=e.serialize();return t.data=n,n},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var n=e.getSegmentSubdivisions();return t.segmentSubdivisions=n,n},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var n=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=n,n},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(nn(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,n,r){var s={},a=0,l;typeof n=="number"?(a=n,l=r):l=n,l&&(s.args=l);var c=!(l&&l.absoluteDistance),f=l&&l.absoluteDistance&&l.reverseDistance,p=l&&l.absoluteOffset,g=this.path,h={segmentSubdivisions:this.getConnectionSubdivisions()},x=new z(e,t),w=g.closestPointT(x,h),b=g.lengthAtT(w,h);c&&(b=b/this.getConnectionLength()||0),f&&(b=-1*(this.getConnectionLength()-b)||1),s.distance=b;var P;p||(P=g.tangentAtT(w));var T;if(P)T=P.pointOffset(x);else{var C=g.pointAtT(w),L=x.difference(C);T={x:L.x,y:L.y}}return s.offset=T,s.angle=a,s},_getLabelTransformationMatrix:function(e){var t,n=0,r={};if(typeof e=="number")t=e;else if(typeof e.distance=="number")r=e.args||{},t=e.distance,n=e.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var s=t>0&&t<=1,a=0,l={x:0,y:0};if(e.offset){var c=e.offset;typeof c=="number"&&(a=c),c.x&&(l.x=c.x),c.y&&(l.y=c.y)}var f=l.x!==0||l.y!==0||a===0,p=r.keepGradient,g=r.ensureLegibility,h=this.path,x={segmentSubdivisions:this.getConnectionSubdivisions()},w=s?t*this.getConnectionLength():t,b=h.tangentAtLength(w,x),P,T=n;if(b){if(f)P=b.start.clone(),P.offset(l);else{var C=b.clone();C.rotate(b.start,-90),C.setLength(a),P=C.end}p&&(T=b.angle()+n,g&&(T=kn((T+90)%180-90)))}else P=h.start.clone(),f&&P.offset(l);return re.createSVGMatrix().translate(P.x,P.y).rotate(T)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new z(t.e,t.f)},getVertexIndex:function(e,t){for(var n=this.model,r=n.vertices(),s=this.getClosestPointLength(new z(e,t)),a=0,l=r.length;a<l;a++){var c=r[a],f=this.getClosestPointLength(c);if(s<f)break}return a},notifyPointerdown(e,t,n){$e.prototype.pointerdown.call(this,e,t,n),this.notify("link:pointerdown",e,t,n)},notifyPointermove(e,t,n){$e.prototype.pointermove.call(this,e,t,n),this.notify("link:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("link:pointerup",e,t,n),$e.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){$e.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){$e.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,n)},contextmenu:function(e,t,n){$e.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragStart(e,t,n)},pointermove:function(e,t,n){var r=this._dragData;r&&this.eventData(e,r);var s=this.eventData(e);switch(s.action){case"label-move":this.dragLabel(e,t,n);break;case"arrowhead-move":this.dragArrowhead(e,t,n);break;case"move":this.drag(e,t,n);break}r&&we(r,this.eventData(e)),this.notifyPointermove(e,t,n)},pointerup:function(e,t,n){var r=this._dragData;r&&(this.eventData(e,r),this._dragData=null);var s=this.eventData(e);switch(s.action){case"label-move":this.dragLabelEnd(e,t,n);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,n);break;case"move":this.dragEnd(e,t,n)}this.notifyPointerup(e,t,n),this.checkMouseleave(e)},mouseover:function(e){$e.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){$e.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){$e.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){$e.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,n,r){$e.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,n,r)},onlabel:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragLabelStart(e,t,n);var r=this.eventData(e).stopPropagation;r&&e.stopPropagation()},dragLabelStart:function(e,t,n){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var r=e.currentTarget,s=parseInt(r.getAttribute("label-idx"),10),a=this._getDefaultLabelPositionProperty(),l=this._normalizeLabelPosition(this._getLabelPositionProperty(s)),c=this._mergeLabelPositionProperty(l,a),f=this.getLabelCoordinates(c),p=f.x-t,g=f.y-n,h=this._getLabelPositionAngle(s),x=this._getLabelPositionArgs(s),w=this._getDefaultLabelPositionArgs(),b=this._mergeLabelPositionArgs(x,w);this.eventData(e,{action:"label-move",labelIdx:s,dx:p,dy:g,positionAngle:h,positionArgs:b,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragArrowheadStart:function(e,t,n){if(this.can("arrowheadMove")){var r=e.target,s=r.getAttribute("end"),a=this.startArrowheadMove(s,{ignoreBackwardsCompatibility:!0});this.eventData(e,a)}},dragStart:function(e,t,n){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:n})},dragLabel:function(e,t,n){var r=this.eventData(e),s={position:this.getLabelPosition(t+r.dx,n+r.dy,r.positionAngle,r.positionArgs)};this.paper.options.snapLabels&&delete s.position.offset;const a={ui:!0};this.paper.isAsync()&&e.type==="touchmove"&&(a.async=!1),this.model.label(r.labelIdx,s,a)},dragArrowhead:function(e,t,n){this.paper.options.snapLinks?!this._snapArrowhead(e,t,n)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,n):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,n):this._connectArrowhead(this.getEventTarget(e),t,n,this.eventData(e))},drag:function(e,t,n){var r=this.eventData(e);this.model.translate(t-r.dx,n-r.dy,{ui:!0}),this.eventData(e,{dx:t,dy:n})},dragLabelEnd:function(){},dragArrowheadEnd:function(e,t,n){var r=this.eventData(e),s=this.paper;s.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,t,n),s.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,e)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(e){switch(e.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(e.arrowhead,e.initialEnd,{ui:!0});break}},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var n=e.arrowhead,r=e.initialEnd,s=this.model.prop(n),a=s&&!Wl.endsEqual(r,s);if(a){var l=this.paper;r.id&&this.notify("link:disconnect",t,l.findViewByModel(r.id),e.initialMagnet,n),s.id&&this.notify("link:connect",t,l.findViewByModel(s.id),e.magnetUnderPointer,n)}},_snapToPoints:function(e,t,n){let r=null,s=1/0,a=null,l=1/0,c=e.x,f=e.y;for(let p=0;p<t.length;p++){const g=Math.abs(t[p].x-e.x);g<s&&(s=g,r=t[p]);const h=Math.abs(t[p].y-e.y);h<l&&(l=h,a=t[p])}return s<n&&(c=r.x),l<n&&(f=a.y),{x:c,y:f}},_snapArrowheadSelf:function(e,t,n){const{paper:r,model:s}=this,{snapLinksSelf:a}=r.options,l=this.eventData(e),c=a.radius||20,f=this.getEndAnchor(l.arrowhead==="source"?"target":"source"),p=s.vertices(),g=[f,...p],h=this._snapToPoints({x:t,y:n},g,c),x=r.localToClientPoint(h);this._connectArrowhead(document.elementFromPoint(x.x,x.y),h.x,h.y,this.eventData(e))},_snapArrowhead:function(e,t,n){const{paper:r}=this,{snapLinks:s,connectionStrategy:a}=r.options,l=this.eventData(e);let c=!1;var f=s.radius||50,p=r.findElementViewsInArea({x:t-f,y:n-f,width:2*f,height:2*f},s.findInAreaOptions),g=l.closestView||null,h=l.closestMagnet||null,x=l.magnetProxy||null;l.closestView=l.closestMagnet=l.magnetProxy=null;var w=Number.MAX_VALUE,b=new z(t,n);p.forEach(function(G){const Z=[];G.el.getAttribute("magnet")!=="false"&&Z.push({bbox:G.model.getBBox(),magnet:G.el}),G.$("[magnet]").toArray().forEach(v=>{Z.push({bbox:G.getNodeBBox(v),magnet:v})}),Z.forEach(v=>{const{magnet:S,bbox:E}=v,k=E.center().squaredDistance(b);k<w&&(h===S||r.options.validateConnection.apply(r,l.validateConnectionArgs(G,G.el===S?null:S)))&&(w=k,l.closestView=G,l.closestMagnet=S)})},this);var P,T=null,C=l.closestView,L=l.closestMagnet;L&&(T=l.magnetProxy=C.findProxyNode(L,"highlighter"));var M=l.arrowhead,R=h!==L;if(g&&R&&g.unhighlight(x,{connecting:!0,snapping:!0}),C){const{prevEnd:G,prevX:Z,prevY:v}=l;if(l.prevX=t,l.prevY=n,c=!0,!R&&(typeof a!="function"||Z===t&&v===n)||(P=C.getLinkEnd(L,t,n,this.model,M),!R&&ni(G,P)))return c;l.prevEnd=P,R&&C.highlight(T,{connecting:!0,snapping:!0})}else P={x:t,y:n};return this.model.set(M,P||{x:t,y:n},{ui:!0}),g&&this.notify("link:snap:disconnect",e,g,h,M),C&&this.notify("link:snap:connect",e,C,L,M),c},_snapArrowheadEnd:function(e){var t=e.closestView,n=e.closestMagnet;t&&n&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(n)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,n,r){const{paper:s,model:a}=this;if(r.eventTarget!==e){r.magnetProxy&&r.viewUnderPointer.unhighlight(r.magnetProxy,{connecting:!0});const l=r.viewUnderPointer=s.findView(e);if(l){const c=r.magnetUnderPointer=l.findMagnet(e),f=r.magnetProxy=l.findProxyNode(c,"highlighter");c&&this.paper.options.validateConnection.apply(s,r.validateConnectionArgs(l,c))?f&&l.highlight(f,{connecting:!0}):(r.magnetUnderPointer=null,r.magnetProxy=null)}else r.magnetUnderPointer=null,r.magnetProxy=null}r.eventTarget=e,a.set(r.arrowhead,{x:t,y:n},{ui:!0})},_connectArrowheadEnd:function(e={},t,n){const{model:r}=this,{viewUnderPointer:s,magnetUnderPointer:a,magnetProxy:l,arrowhead:c}=e;if(!a||!l||!s)return;s.unhighlight(l,{connecting:!0});const f=s.getLinkEnd(a,t,n,r,c);r.set(c,f,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){e.z!==null&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var n,r=0,s=0;e==="source"?(r=2,n="target"):(s=2,n="source");var a=this.model.get(n);if(a.id){var l=t[r]=this.paper.findViewByModel(a.id),c=l.getMagnetFromLinkEnd(a);c===l.el&&(c=void 0),t[r+1]=c}function f(p,g){return t[s]=p,t[s+1]=p.el===g?void 0:g,t}return f},_markAvailableMagnets:function(e){function t(h,x){var w=h.paper,b=w.options.validateConnection;return b.apply(w,this.validateConnectionArgs(h,x))}var n=this.paper,r=n.model.getCells();e.marked={};for(var s=0,a=r.length;s<a;s++){var l=r[s].findView(n);if(l){var c=Array.prototype.slice.call(l.el.querySelectorAll("[magnet]"));l.el.getAttribute("magnet")!=="false"&&c.push(l.el);var f=c.filter(t.bind(e,l));if(f.length>0){for(var p=0,g=f.length;p<g;p++)l.highlight(f[p],{magnetAvailability:!0});l.highlight(null,{elementAvailability:!0}),e.marked[l.model.id]=f}}}},_unmarkAvailableMagnets:function(e){for(var t=Object.keys(e.marked),n,r,s=0,a=t.length;s<a;s++){n=t[s],r=e.marked[n];var l=this.paper.findViewByModel(n);if(l){for(var c=0,f=r.length;c<f;c++)l.unhighlight(r[c],{magnetAvailability:!0});l.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var n={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:Dt(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(n),t.ignoreBackwardsCompatibility!==!0&&(this._dragData=n),n},onMount:function(){$e.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){$e.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){$e.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:We});Object.defineProperty(_o.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new he(t.x,t.y)}var n=this.sourceMagnet;return e.isNodeConnection(n)?new he(this.sourceAnchor):e.getNodeBBox(n||e.el)}});Object.defineProperty(_o.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new he(t.x,t.y)}var n=this.targetMagnet;return e.isNodeConnection(n)?new he(this.targetAnchor):e.getNodeBBox(n||e.el)}});const dE=pf.extend({style:{"pointer-events":"none"},_gridCache:null,_gridSettings:null,init(){pf.prototype.init.apply(this,arguments);const{options:{paper:e}}=this;this._gridCache=null,this._gridSettings=[],this.listenTo(e,"transform resize",this.updateGrid)},setGrid(e){this._gridSettings=this.getGridSettings(e),this.renderGrid()},getGridSettings(e){const t=[];return e&&(Array.isArray(e)?e:[e||{}]).forEach(r=>{t.push(...this._resolveDrawGridOption(r))}),t},removeGrid(){const{_gridCache:e}=this;e&&(e.root.remove(),this._gridCache=null)},renderGrid(){const{options:{paper:e}}=this,{_gridSettings:t}=this;if(this.removeGrid(),t.length===0)return;const n=e.options.drawGridSize||e.options.gridSize;if(n<=1)return;const r=this._getGridRefs();t.forEach((s,a)=>{const l=this._getPatternId(a),c=Et({},s),{scaleFactor:f=1}=c;c.width=n*f||1,c.height=n*f||1;let p;r.exist(l)?p=r.get(l):(p=re("pattern",{id:l,patternUnits:"userSpaceOnUse"},re(c.markup)),r.add(l,p)),Je(c.render)&&c.render(p.node.firstChild,c,e),p.attr({width:c.width,height:c.height})}),r.root.appendTo(this.el),this.updateGrid()},updateGrid(){const{_gridCache:e,_gridSettings:t,options:{paper:n}}=this;if(!e)return;const{root:r,patterns:s}=e,{x:a,y:l,width:c,height:f}=n.getArea();r.attr({x:a,y:l,width:c,height:f});for(const p in s)s[p].attr({x:-a,y:-l});t.forEach((p,g)=>{if(Je(p.update)){const h=s[this._getPatternId(g)];p.update(h.node.firstChild,p,n)}})},_getPatternId(e){return`pattern_${this.options.paper.cid}_${e}`},_getGridRefs(){let{_gridCache:e}=this;if(e)return e;const t=re("defs"),n=re("svg",{width:"100%",height:"100%"},[t]);return e=this._gridCache={root:n,patterns:{},add:function(r,s){const a=re("rect",{width:"100%",height:"100%",fill:`url(#${r})`});t.append(s),n.append(a),this.patterns[r]=s},get:function(r){return this.patterns[r]},exist:function(r){return this.patterns[r]!==void 0}},e},_resolveDrawGridOption(e){var t=this.options.patterns;if(xt(e)&&Array.isArray(t[e]))return t[e].map(function(f){return we({},f)});var n=e||{args:[{}]},r=Array.isArray(n),s=n.name;if(!r&&!s&&!n.markup&&(s="dot"),s&&Array.isArray(t[s])){var a=t[s].map(function(f){return we({},f)}),l=Array.isArray(n.args)?n.args:[n.args||{}];dn(l[0],Ho(e,"args"));for(var c=0;c<l.length;c++)a[c]&&we(a[c],l[c]);return a}return r?n:[n]}}),ms={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},hE=50,Dg=20,Bg=1e3,pE=1/0,hl=9007199254740991,qc=$e.Highlighting,zg={[qc.DEFAULT]:{name:"stroke",options:{padding:3}},[qc.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[qc.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},gE=[{name:Ut.GRID},{name:Ut.BACK},{name:Ut.CELLS},{name:Ut.LABELS},{name:Ut.FRONT},{name:Ut.TOOLS}],Vg=Ps.extend({className:"paper",options:{width:800,height:600,gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,elementView:Ts,linkView:_o,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:zg,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:function(){const{cellNamespace:e}=this.model.get("cells"),t=Ls(e,["standard","Link"]);if(!t)throw new Error("dia.Paper: no default link model found. Use `options.defaultLink` to specify a default link model.");return new t},defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"boundary"},connectionStrategy:null,validateMagnet:function(e,t,n){return t.getAttribute("magnet")!=="passive"},validateConnection:function(e,t,n,r,s,a){return(s==="target"?n:e)instanceof Ts},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:ms.APPROX,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,n,r,s){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||r.mounting||r.isolate||s.requestConnectedLinksUpdate(e,n,r)},onViewPostponed:function(e,t,n){return n.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:Q2,anchorNamespace:hf,linkAnchorNamespace:$b,connectionPointNamespace:ab,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},stylesheet:`
        .joint-element .scalable * {
            vector-effect: non-scaling-stroke;
        }
    `,svg:null,viewport:null,defs:null,tools:null,layers:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,DEFAULT_FIND_BUFFER:200,init:function(){const{options:e}=this;e.cellViewNamespace||(e.cellViewNamespace=typeof joint<"u"&&ir(joint,"shapes")?joint.shapes:null);const t=this.model=e.model||new Zf;this._layers={},this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.resetViews(t.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates&&this._updates.id&&vl(this._updates.id),this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("transform",this.update)},onCellAdded:function(e,t,n){var r=n.position;this.isAsync()||!Gt(r)?this.renderView(e,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(e,n),r===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,n){const r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_REMOVE,r.UPDATE_PRIORITY,n)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===ms.APPROX){const n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(t)&&!n.hasActiveBatch(r)&&this.updateViews(e)}var s=this.SORT_DELAYING_BATCHES;s.includes(t)&&!n.hasActiveBatch(s)&&this.sortViews()}},cloneOptions:function(){const{options:e}=this,{defaultConnector:t,defaultRouter:n,defaultConnectionPoint:r,defaultAnchor:s,defaultLinkAnchor:a,highlighting:l,cellViewNamespace:c,interactive:f}=e;!c&&typeof joint<"u"&&ir(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),Je(t)||(e.defaultConnector=fn(t)),Je(n)||(e.defaultRouter=fn(n)),Je(r)||(e.defaultConnectionPoint=fn(r)),Je(s)||(e.defaultAnchor=fn(s)),Je(a)||(e.defaultLinkAnchor=fn(a)),yt(f)&&(e.interactive=we({},f)),yt(l)&&(e.highlighting=Uf({},l,zg))},children:function(){var e=re.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:wr("paper-background"),selector:"background",style:{position:"absolute",inset:0}},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",style:{position:"absolute",inset:0},children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:wr("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){const{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();const{el:e,childNodes:t,options:n,stylesheet:r}=this,{svg:s,defs:a,layers:l}=t;return e.style.position="relative",s.style.overflow=n.overflow?"visible":"hidden",this.svg=s,this.defs=a,this.layers=l,this.renderLayers(),re.ensureId(s),this.addStylesheet(r),n.background&&this.drawBackground(n.background),n.drawGrid&&this.setGrid(n.drawGrid),this},addStylesheet:function(e){e&&re(this.svg).prepend(re.createSVGStyle(e))},createLayer(e){switch(e){case Ut.GRID:return new dE({name:e,paper:this,patterns:this.constructor.gridPatterns});default:return new pf({name:e})}},renderLayers:function(e=gE){this.removeLayers(),e.forEach(({name:s,sorted:a})=>{const l=this.createLayer(s);this.layers.appendChild(l.el),this._layers[s]=l});const t=this.getLayerView(Ut.CELLS),n=this.getLayerView(Ut.TOOLS),r=this.getLayerView(Ut.LABELS);this.tools=n.el,this.cells=this.viewport=t.el,t.vel.addClass(wr("viewport")),r.vel.addClass(wr("viewport")),t.el.style.webkitUserSelect="none",t.el.style.userSelect="none",r.el.style.webkitUserSelect="none",r.el.style.userSelect="none"},removeLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].remove(),delete e[t]})},resetLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].removePivots()})},update:function(){return this._background&&this.updateBackgroundImage(this._background),this},scale:function(e,t,n){const r=this.matrix();return e===void 0?re.matrixToScale(r):(t===void 0&&(t=e),e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE),r.a=e,r.d=t,this.matrix(r,n),this)},scaleUniformAtPoint:function(e,t,n){const{a:r,d:s,e:a,f:l}=this.matrix();if(e=Math.max(e||0,this.MIN_SCALE),e===r&&e===s)return this;const c=re.createSVGMatrix().translate(a-t.x*(e-r),l-t.y*(e-s)).scale(e,e);return this.matrix(c,n),this},translate:function(e,t,n){const r=this.matrix();return e===void 0?re.matrixToTranslate(r):(e||(e=0),t||(t=0),r.e===e&&r.f===t?this:(r.e=e,r.f=t,this.matrix(r,n),this))},matrix:function(e,t={}){var n=this.layers;if(e===void 0){var r=n.getAttribute("transform");return(this._viewportTransformString||null)===r?e=this._viewportMatrix:(e=n.getCTM(),this._viewportMatrix=e,this._viewportTransformString=r),re.createSVGMatrix(e)}const s=this.matrix(),a=re.createSVGMatrix(e),l=this._viewportTransformString,c=re.matrixToTransformString(a);if(c===l)return this;if(!l&&re.matrixToTransformString()===c)return this;const{a:f,d:p,e:g,f:h}=a;return n.setAttribute("transform",c),this._viewportMatrix=a,this._viewportTransformString=n.getAttribute("transform"),(f!==s.a||p!==s.d)&&this.trigger("scale",f,p,t),(g!==s.e||h!==s.f)&&this.trigger("translate",g,h,t),this.trigger("transform",a,t),this},clientMatrix:function(){return re.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,n){if(e instanceof $e)for(var r=e.model,s=this.model.getConnectedLinks(r),a=0,l=s.length;a<l;a++){var c=s[a],f=this.findViewByModel(c);if(f){var p=["UPDATE"];c.getTargetCell()===r&&p.push("TARGET"),c.getSourceCell()===r&&p.push("SOURCE");var g=Math.max(t+1,f.UPDATE_PRIORITY);this.scheduleViewUpdate(f,f.getFlag(p),g,n)}}},forcePostponedViewUpdate:function(e,t){if(!e||!(e instanceof $e))return!1;var n=e.model;if(n.isElement())return!1;if(!(t&e.getFlag(["SOURCE","TARGET"]))){var r={silent:!0},s=0,a=this.findViewByModel(n.getSourceCell());a&&!this.isViewMounted(a)&&(s=this.dumpView(a,r),e.updateEndMagnet("source"));var l=0,c=this.findViewByModel(n.getTargetCell());if(c&&!this.isViewMounted(c)&&(l=this.dumpView(c,r),e.updateEndMagnet("target")),s===0&&l===0)return!this.dumpView(e,r)}return!1},requestViewUpdate:function(e,t,n,r){r||(r={}),this.scheduleViewUpdate(e,t,n,r);var s=this.isAsync();if(!(this.isFrozen()||s&&r.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var a=this.updateViews(r);s&&this.notifyAfterRender(a,r)}},scheduleViewUpdate:function(e,t,n,r){const{_updates:s,options:a}=this;s.idle&&a.autoFreeze&&(s.idle=!1,this.unfreeze());const{FLAG_REMOVE:l,FLAG_INSERT:c,UPDATE_PRIORITY:f,cid:p}=e;let g=s.priorities[n];if(g||(g=s.priorities[n]={}),n>f)for(let w=n-1;w>=f;w--){const b=s.priorities[w];!b||!(p in b)||(g[p]|=b[p],delete b[p])}let h=g[p]||0;if((h&t)===t)return;h||s.count++,t&l&&h&c?g[p]^=c:t&c&&h&l&&(g[p]^=l),g[p]|=t;const x=a.onViewUpdate;typeof x=="function"&&x.call(this,e,t,n,r||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var t=this._updates,n=e.cid,r=t.priorities[e.UPDATE_PRIORITY],s=this.registerMountedView(e)|r[n];return delete r[n],s},dumpView:function(e,t={}){const n=this.dumpViewUpdate(e);if(!n)return 0;const r=!t.silent;r&&this.notifyBeforeRender(t);const s=this.updateView(e,n,t);if(r){const a={updated:1,priority:e.UPDATE_PRIORITY};this.notifyAfterRender(a,t)}return s},updateView:function(e,t,n){if(!e)return 0;const{FLAG_REMOVE:r,FLAG_INSERT:s,FLAG_INIT:a,model:l}=e;if(e instanceof $e){if(t&r)return this.removeView(l),0;if(t&s){const c=!!(t&a);c&&(t^=a),this.insertView(e,c),t^=s}}return t?e.confirmUpdate(t,n||{}):0},requireView:function(e,t){var n=this.findViewByModel(e);return n?(this.dumpView(n,t),n):null},registerUnmountedView:function(e){var t=e.cid,n=this._updates;if(t in n.unmounted)return 0;var r=n.unmounted[t]|=e.FLAG_INSERT;return n.unmountedCids.push(t),delete n.mounted[t],r},registerMountedView:function(e){var t=e.cid,n=this._updates;if(t in n.mounted)return 0;n.mounted[t]=!0,n.mountedCids.push(t);var r=n.unmounted[t]||0;return delete n.unmounted[t],r},isViewMounted:function(e){if(!e)return!1;var t=e.cid,n=this._updates;return t in n.mounted},dumpViews:function(e){var t=dn({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,n=0,r=0,s=hl;do r++,t=this.updateViewsBatch(e),n+=t.updated,s=Math.min(t.priority,s);while(!t.empty);const a={updated:n,batches:r,priority:s};return this.notifyAfterRender(a,e),a},hasScheduledUpdates:function(){const e=this._updates.priorities,t=Object.keys(e);let n=t.length;for(;n>0&&n--;)for(let r in e[t[n]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:hl});const{_updates:n,options:r}=this,s=n.id;if(s){vl(s),t.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);const a=this.updateViewsBatch(e),l=dn({},e,{mountBatchSize:Bg-a.mounted,unmountBatchSize:Bg-a.unmounted}),c=this.checkViewport(l),f=c.unmounted,p=c.mounted;let g=t.processed;const h=n.count;a.updated>0?(g+=a.updated+a.unmounted,a.processed=g,t.priority=Math.min(a.priority,t.priority),a.empty&&p===0?(a.unmounted+=f,a.mounted+=p,a.priority=t.priority,this.notifyAfterRender(a,e),t.processed=0,t.priority=hl,n.count=0):t.processed=g):n.idle||r.autoFreeze&&(this.freeze(),n.idle=!0,this.trigger("render:idle",e));const x=e.progress;if(h&&typeof x=="function"&&x.call(this,a.empty,g,h,a,this),n.id!==s)return}if(n.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");n.id=sf(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;typeof t!="function"&&(t=this.options.beforeRender,typeof t!="function")||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let n=t.afterRender;typeof n!="function"&&(n=this.options.afterRender),typeof n=="function"&&n.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||pE,n=this._updates,r=0,s=0,a=0,l=0,c=hl,f=!0,p=this.options,g=n.priorities,h="viewport"in e?e.viewport:p.viewport;typeof h!="function"&&(h=null);var x=p.onViewPostponed;typeof x!="function"&&(x=null);var w=Object.keys(g);e:for(var b=0,P=w.length;b<P;b++){var T=+w[b],C=g[T];for(var L in C){if(r>=t){f=!1;break e}var M=Ai[L];if(!M){delete C[L];continue}var R=C[L];if(!(R&M.FLAG_REMOVE)){var G=L in n.unmounted;if(M.DETACHABLE&&h&&!h.call(this,M,!G,this)){G||(this.registerUnmountedView(M),this.detachView(M)),n.unmounted[L]|=R,delete C[L],a++;continue}G&&(R|=M.FLAG_INSERT,l++),R|=this.registerMountedView(M)}var Z=this.updateView(M,R,e);if(Z>0&&(C[L]=Z,!x||!x.call(this,M,Z,this)||C[L])){s++,f=!1;continue}c>T&&(c=T),r++,delete C[L]}}return{priority:c,updated:r,postponed:s,unmounted:a,mounted:l,empty:f}},getUnmountedViews:function(){const e=this._updates,t=Object.keys(e.unmounted),n=t.length,r=new Array(n);for(var s=0;s<n;s++)r[s]=Ai[t[s]];return r},getMountedViews:function(){const e=this._updates,t=Object.keys(e.mounted),n=t.length,r=new Array(n);for(var s=0;s<n;s++)r[s]=Ai[t[s]];return r},checkUnmountedViews:function(e,t){t||(t={});var n=0;typeof e!="function"&&(e=null);for(var r=("mountBatchSize"in t)?t.mountBatchSize:1/0,s=this._updates,a=s.unmountedCids,l=s.unmounted,c=0,f=Math.min(a.length,r);c<f;c++){var p=a[c];if(p in l){var g=Ai[p];if(g){if(g.DETACHABLE&&e&&!e.call(this,g,!1,this)){a.push(p);continue}n++;var h=this.registerMountedView(g);h&&this.scheduleViewUpdate(g,h,g.UPDATE_PRIORITY,{mounting:!0})}}}return a.splice(0,c),n},checkMountedViews:function(e,t){t||(t={});var n=0;if(typeof e!="function")return n;for(var r=("unmountBatchSize"in t)?t.unmountBatchSize:1/0,s=this._updates,a=s.mountedCids,l=s.mounted,c=0,f=Math.min(a.length,r);c<f;c++){var p=a[c];if(p in l){var g=Ai[p];if(g){if(!g.DETACHABLE||e.call(this,g,!0,this)){a.push(p);continue}n++;var h=this.registerUnmountedView(g);h&&this.detachView(g)}}}return a.splice(0,c),n},checkViewVisibility:function(e,t={}){let n="viewport"in t?t.viewport:this.options.viewport;typeof n!="function"&&(n=null);const r=this._updates,{mounted:s,unmounted:a}=r,l=!e.DETACHABLE||!n||n.call(this,e,!1,this);let c=!1,f=!1;if(e.cid in s&&!l){this.registerUnmountedView(e)&&this.detachView(e);const h=r.mountedCids.indexOf(e.cid);r.mountedCids.splice(h,1),c=!0}if(!c&&e.cid in a&&l){const g=r.unmountedCids.indexOf(e.cid);r.unmountedCids.splice(g,1);var p=this.registerMountedView(e);p&&this.scheduleViewUpdate(e,p,e.UPDATE_PRIORITY,{mounting:!0}),f=!0}return{mounted:f?1:0,unmounted:c?1:0}},checkViewport:function(e){var t=dn({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in t?t.viewport:this.options.viewport,r=this.checkMountedViews(n,t);if(r>0){var s=this._updates.unmountedCids;t.mountBatchSize=Math.min(s.length-r,t.mountBatchSize)}var a=this.checkUnmountedViews(n,t);return{mounted:a,unmounted:r}},freeze:function(e){e||(e={});var t=this._updates,n=e.key,r=this.options.frozen,s=t.freezeKey;if(n&&n!==s){if(r&&s)return;t.freezeKey=n,t.keyFrozen=r}this.options.frozen=!0;var a=t.id;t.id=null,this.isAsync()&&a&&vl(a)},unfreeze:function(e){e||(e={});var t=this._updates,n=e.key,r=t.freezeKey;n&&r&&n!==r||(t.freezeKey=null,!(n&&n===r&&t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===ms.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,n=e.height;return Gt(t)||(t=this.el.clientWidth),Gt(n)||(n=this.el.clientHeight),{width:t,height:n}},setDimensions:function(e,t,n={}){const{options:r}=this,{width:s,height:a}=r;let l=e===void 0?s:e,c=t===void 0?a:t;if(s===l&&a===c)return;r.width=l,r.height=c,this._setDimensions();const f=this.getComputedSize();this.trigger("resize",f.width,f.height,n)},_setDimensions:function(){const{options:e}=this;let t=e.width,n=e.height;Gt(t)&&(t=`${Math.round(t)}px`),Gt(n)&&(n=`${Math.round(n)}px`),this.$el.css({width:t===null?"":t,height:n===null?"":n})},fitToContent:function(e,t,n,r){qe(e)?r=e:r=we({gridWidth:e,gridHeight:t,padding:n},r);const{x:s,y:a,width:l,height:c}=this.getFitToContentArea(r),{sx:f,sy:p}=this.scale();return this.translate(-s*f,-a*p,r),this.setDimensions(l*f,c*p,r),new he(s,a,l,c)},getFitToContentArea:function(e={}){const t=e.gridWidth||1,n=e.gridHeight||1,r=Fi(e.padding||0),s=Math.max(e.minWidth||0,t),a=Math.max(e.minHeight||0,n),l=e.maxWidth||Number.MAX_VALUE,c=e.maxHeight||Number.MAX_VALUE,f=e.allowNewOrigin,p="contentArea"in e?new he(e.contentArea):this.getContentArea(e),{sx:g,sy:h}=this.scale();p.x*=g,p.y*=h,p.width*=g,p.height*=h;let x=Math.ceil((p.width+p.x)/t),w=Math.ceil((p.height+p.y)/n);e.allowNegativeBottomRight||(x=Math.max(x,1),w=Math.max(w,1)),x*=t,w*=n;let b=0;(f==="negative"&&p.x<0||f==="positive"&&p.x>=0||f==="any")&&(b=Math.ceil(-p.x/t)*t,b+=r.left,x+=b);let P=0;return(f==="negative"&&p.y<0||f==="positive"&&p.y>=0||f==="any")&&(P=Math.ceil(-p.y/n)*n,P+=r.top,w+=P),x+=r.right,w+=r.bottom,x=Math.max(x,s),w=Math.max(w,a),x=Math.min(x,l),w=Math.min(w,c),new he(-b/g,-P/h,x/g,w/h)},transformToFitContent:function(e){e||(e={});let t,n;if("contentArea"in e){const M=e.contentArea;t=this.localToPaperRect(M),n=new z(M)}else t=this.getContentBBox(e),n=this.paperToLocalPoint(t);if(!t.width||!t.height)return;dn(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const r=Fi(e.padding),s=e.minScaleX||e.minScale,a=e.maxScaleX||e.maxScale,l=e.minScaleY||e.minScale,c=e.maxScaleY||e.maxScale;let f;if(e.fittingBBox)f=e.fittingBBox;else{const M=this.translate(),R=this.getComputedSize();f={x:M.tx,y:M.ty,width:R.width,height:R.height}}f=new he(f).moveAndExpand({x:r.left,y:r.top,width:-r.left-r.right,height:-r.top-r.bottom});const p=this.matrix(),{a:g,d:h,e:x,f:w}=p;let b=f.width/t.width*g,P=f.height/t.height*h;if(e.preserveAspectRatio&&(b=P=Math.min(b,P)),e.scaleGrid){const M=e.scaleGrid;b=M*Math.floor(b/M),P=M*Math.floor(P/M)}b=Math.min(a,Math.max(s,b)),P=Math.min(c,Math.max(l,P));const T={x:b/g,y:P/h};let C=f.x-n.x*b-x,L=f.y-n.y*P-w;switch(e.verticalAlign){case"middle":L=L+(f.height-t.height*T.y)/2;break;case"bottom":L=L+(f.height-t.height*T.y);break}switch(e.horizontalAlign){case"middle":C=C+(f.width-t.width*T.x)/2;break;case"right":C=C+(f.width-t.width*T.x);break}p.a=b,p.d=P,p.e=C,p.f=L,this.matrix(p,e)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new he:re(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){const{restrictTranslate:t}=this.options;let n;return Je(t)?n=t.apply(this,e):t===!0?n=this.getArea():t?n=new he(t):n=null,n},createViewForModel:function(e){const{options:t}=this;var n,r,s=t.cellViewNamespace,a=e.get("type")+"View",l=Ls(s,a,".");e.isLink()?(n=t.linkView,r=_o):(n=t.elementView,r=Ts);var c=n.prototype instanceof ki?l||n:n.call(this,e)||l||r;return new c({model:e,interactive:t.interactive,labelsLayer:t.labelsLayer===!0?Ut.LABELS:t.labelsLayer})},removeView:function(e){const{id:t}=e,{_views:n,_updates:r}=this,s=n[t];if(s){var{cid:a}=s;const{mounted:l,unmounted:c}=r;s.remove(),delete n[t],delete l[a],delete c[a]}return s},renderView:function(e,t){const{id:n}=e,r=this._views;let s,a,l=!0;return n in r&&(s=r[n],s.model===e?(a=s.FLAG_INSERT,l=!1):this.removeView(e)),l&&(s=r[n]=this.createViewForModel(e),s.paper=this,a=this.registerUnmountedView(s)|this.FLAG_INIT|s.getFlag(it(s,"initFlag"))),this.requestViewUpdate(s,a,s.UPDATE_PRIORITY,t),s},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();const n=this.options.autoFreeze?null:"reset";this.freeze({key:n});for(var r=0,s=e.length;r<s;r++)this.renderView(e[r],t);this.unfreeze({key:n}),this.sortViews()},removeViews:function(){rr(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var e=Array.from(this.cells.childNodes).filter(n=>n.getAttribute("model-id")),t=this.model.get("cells");Xw(e,function(n,r){var s=t.get(n.getAttribute("model-id")),a=t.get(r.getAttribute("model-id")),l=s.attributes.z||0,c=a.attributes.z||0;return l===c?0:l<c?-1:1})},insertView:function(e,t){const n=this.getLayerView(Ut.CELLS),{el:r,model:s}=e;switch(this.options.sorting){case ms.APPROX:n.insertSortedNode(r,s.get("z"));break;case ms.EXACT:default:n.insertNode(r);break}e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},findView:function(e){var t=xt(e)?this.cells.querySelector(e):e instanceof de?e[0]:e,n=this.findAttribute("model-id",t);if(n)return this._views[n]},findViewByModel:function(e){var t=xt(e)||Gt(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){e=new z(e);var t=this.model.getElements().map(this.findViewByModel,this);return t.filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=dn(t||{},{strict:!1}),e=new he(e);var n=this.model.getElements().map(this.findViewByModel,this),r=t.strict?"containsRect":"intersect";return n.filter(function(s){return s&&e[r](s.vel.getBBox({target:this.cells}))},this)},findElementViewsInArea(e,t){return this._filterViewsInArea(e,(n,r)=>this.model.findElementsInArea(n,r),t)},findLinkViewsInArea:function(e,t){return this._filterViewsInArea(e,(n,r)=>this.model.findLinksInArea(n,r),t)},findCellViewsInArea:function(e,t){return this._filterViewsInArea(e,(n,r)=>this.model.findCellsInArea(n,r),t)},findElementViewsAtPoint:function(e,t){return this._filterViewsAtPoint(e,n=>this.model.findElementsInArea(n),t)},findLinkViewsAtPoint:function(e,t){return this._filterViewsAtPoint(e,n=>this.model.findLinksInArea(n),t)},findCellViewsAtPoint:function(e,t){return this._filterViewsAtPoint(e,n=>this.model.findCellsInArea(n),t)},_findInExtendedArea:function(e,t,n={}){const{buffer:r=this.DEFAULT_FIND_BUFFER}=n,s=new he(e).inflate(r);return t(s,n).map(l=>this.findViewByModel(l))},_filterViewsInArea:function(e,t,n={}){const r=new he(e);return this._findInExtendedArea(r,t,n).filter(l=>l?l.isInArea(r,n):!1)},_filterViewsAtPoint:function(e,t,n={}){const r=new he(e);return this._findInExtendedArea(r,t,n).filter(l=>l?l.isAtPoint(e,n):!1)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){typeof e=="string"&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var n=new z(e,t),r=re.transformPoint(n,this.matrix());return r},localToPaperRect:function(e,t,n,r){var s=new he(e,t,n,r),a=re.transformRect(s,this.matrix());return a},paperToLocalPoint:function(e,t){var n=new z(e,t),r=re.transformPoint(n,this.matrix().inverse());return r},paperToLocalRect:function(e,t,n,r){var s=new he(e,t,n,r),a=re.transformRect(s,this.matrix().inverse());return a},localToClientPoint:function(e,t){var n=new z(e,t),r=re.transformPoint(n,this.clientMatrix());return r},localToClientRect:function(e,t,n,r){var s=new he(e,t,n,r),a=re.transformRect(s,this.clientMatrix());return a},clientToLocalPoint:function(e,t){var n=new z(e,t),r=re.transformPoint(n,this.clientMatrix().inverse());return r},clientToLocalRect:function(e,t,n,r){var s=new he(e,t,n,r),a=re.transformRect(s,this.clientMatrix().inverse());return a},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,n,r){return this.localToPaperRect(e,t,n,r).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var n=new z(e,t),r=n.difference(this.pageOffset());return this.paperToLocalPoint(r)},pageToLocalRect:function(e,t,n,r){var s=this.pageOffset(),a=new he(e,t,n,r);return a.x-=s.x,a.y-=s.y,this.paperToLocalRect(a)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new z(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof _o))throw new Error("Must provide a linkView.");var t=e.model,n=this.options,r=this.model,s=r.constructor.validations;return!(!n.multiLinks&&!s.multiLinks.call(this,r,t)||!n.linkPinning&&!s.linkPinning.call(this,r,t)||typeof n.allowLink=="function"&&!n.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return Je(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:n}=e;const{highlighting:r,highlighterNamespace:s}=this.options;if(t===void 0){if(!r||n&&(t=r[n],t===!1))return!1;t||(t=r.default)}if(!t)return!1;xt(t)&&(t={name:t});const a=t.name,l=s[a];if(!l)throw new Error('Unknown highlighter ("'+a+'")');if(typeof l.highlight!="function")throw new Error('Highlighter ("'+a+'") is missing required highlight() method');if(typeof l.unhighlight!="function")throw new Error('Highlighter ("'+a+'") is missing required unhighlight() method');return{highlighter:l,options:t.options||{},name:a}},onCellHighlight:function(e,t,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:s,options:a}=r;s.highlight(e,t,a)},onCellUnhighlight:function(e,t,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:s,options:a}=r;s.unhighlight(e,t,a)},pointerdblclick:function(e){e.preventDefault(),e=Lt(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,n.x,n.y):this.trigger("blank:pointerdblclick",e,n.x,n.y)}},pointerclick:function(e){var t=this.eventData(e);if(t.mousemoved<=this.options.clickThreshold){e=Lt(e);var n=this.findView(e.target);if(this.guard(e,n))return;var r=this.snapToGrid(e.clientX,e.clientY);n?n.pointerclick(e,r.x,r.y):this.trigger("blank:pointerclick",e,r.x,r.y)}},contextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}e=Lt(e),this.contextMenuTrigger(e)},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,n.x,n.y):this.trigger("blank:contextmenu",e,n.x,n.y)}},pointerdown:function(e){e=Lt(e);const{target:t,button:n}=e,r=this.findView(t),s=n===2;if(r){if(!s&&this.guard(e,r))return;const a=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!a&&e.preventDefault(),a&&r.preventDefaultInteraction(e);const l=this.customEventTrigger(e,r);if(l){if(l.isPropagationStopped())return;e.data=l.data}const c=t.closest("[magnet]");if(c&&r.el!==c&&r.el.contains(c)){const f=Lt(new de.Event(e.originalEvent,{data:e.data,currentTarget:c}));if(this.onmagnet(f),f.isDefaultPrevented()&&e.preventDefault(),f.isPropagationStopped()){if(s)return;this.delegateDragEvents(r,f.data);return}e.data=f.data}}if(s){this.contextMenuFired=!0;const a=new de.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(a)}else{const a=this.snapToGrid(e.clientX,e.clientY);r?r.pointerdown(e,a.x,a.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,a.x,a.y)),this.delegateDragEvents(r,e.data)}},pointermove:function(e){var t=this.eventData(e);t.mousemoved||(t.mousemoved=0,this.undelegateEvents());var n=++t.mousemoved;if(!(n<=this.options.moveThreshold)){e=Lt(e);var r=this.snapToGrid(e.clientX,e.clientY),s=t.sourceView;s?s.pointermove(e,r.x,r.y):this.trigger("blank:pointermove",e,r.x,r.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=Lt(e),n=this.snapToGrid(t.clientX,t.clientY),r=this.eventData(e).sourceView;r?r.pointerup(t,n.x,n.y):this.trigger("blank:pointerup",t,n.x,n.y),t.isPropagationStopped()||this.pointerclick(new de.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=Lt(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=Lt(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=Lt(e);const{target:t,relatedTarget:n,currentTarget:r}=e,s=this.findView(t);if(this.guard(e,s))return;const a=this.findView(n);s&&(a===s||(s.mouseenter(e),this.el.contains(n)))||a||r===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=Lt(e);const{target:t,relatedTarget:n,currentTarget:r}=e,s=this.findView(t);if(this.guard(e,s))return;const a=this.findView(n);s&&(a===s||(s.mouseleave(e),this.el.contains(n)))||a||r===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:Kx(function(){const{event:e,deltas:t}=this._mw_evt_buffer,n=t.reduce((l,c)=>l+Ww(c,hE),0),r=Math.pow(.995,n),{x:s,y:a}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,s,a,r),this._mw_evt_buffer={event:null,deltas:[]}},Dg,{maxWait:Dg}),mousewheel:function(e){e=Lt(e);const t=this.findView(e.target);if(this.guard(e,t))return;const n=e.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),{deltaX:s,deltaY:a}=Hw(n),l=this._events["paper:pinch"];if(e.ctrlKey&&l&&l.length>0)n.preventDefault(),this._mw_evt_buffer.event=e,this._mw_evt_buffer.deltas.push(a),this._processMouseWheelEvtBuf();else{const c=Math.max(-1,Math.min(1,n.wheelDelta));t?t.mousewheel(e,r.x,r.y,c):this.trigger("blank:mousewheel",e,r.x,r.y,c),this.trigger("paper:pan",e,s,a)}},onevent:function(e){var t=e.currentTarget,n=t.getAttribute("event");if(n){var r=this.findView(t);if(r){if(e=Lt(e),this.guard(e,r))return;var s=this.snapToGrid(e.clientX,e.clientY);r.onevent(e,n,s.x,s.y)}}},magnetEvent:function(e,t){var n=e.currentTarget,r=n.getAttribute("magnet");if(r){var s=this.findView(n);if(s){if(e=Lt(e),this.guard(e,s))return;var a=this.snapToGrid(e.clientX,e.clientY);t.call(this,s,e,n,a.x,a.y)}}},onmagnet:function(e){if(e.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const t=new de.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,function(t,n,r,s,a){t.onmagnet(n,s,a)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,n,r,s,a){t.magnetpointerdblclick(n,r,s,a)})},magnetcontextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,function(t,n,r,s,a){t.magnetcontextmenu(n,r,s,a)})},onlabel:function(e){var t=e.currentTarget,n=this.findView(t);if(!n||(e=Lt(e),this.guard(e,n)))return;const r=this.customEventTrigger(e,n,t);if(r){if(r.isPropagationStopped())return;e.data=r.data}var s=this.snapToGrid(e.clientX,e.clientY);n.onlabel(e,s.x,s.y)},getPointerArgs(e){const t=Lt(e),{x:n,y:r}=this.snapToGrid(t.clientX,t.clientY);return[t,n,r]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if(e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&e.data.guarded!==void 0)return e.data.guarded;const{target:n}=e;return this.GUARDED_TAG_NAMES.includes(n.tagName)?!0:!(t&&t.model&&t.model instanceof or||this.el===n||this.svg.contains(n))},setGridSize:function(e){const{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.getLayerView(Ut.GRID).renderGrid(),this},setGrid:function(e){return this.getLayerView(Ut.GRID).setGrid(e),this},updateBackgroundImage:function(e){e=e||{};var t=e.position||"center",n=e.size||"auto auto",r=this.scale(),s=this.translate();if(qe(t)){var a=s.tx+r.sx*(t.x||0),l=s.ty+r.sy*(t.y||0);t=a+"px "+l+"px"}qe(n)&&(n=new he(n).scale(r.sx,r.sy),n=n.width+"px "+n.height+"px");const{background:c}=this.childNodes;c.style.backgroundSize=n,c.style.backgroundPosition=t},drawBackgroundImage:function(e,t){if(!(e instanceof HTMLImageElement)){this.childNodes.background.style.backgroundImage="";return}if(!(!this._background||this._background.id!==t.id)){t=t||{};var n,r=t.size,s=t.repeat||"no-repeat",a=t.opacity||1,l=Math.abs(t.quality)||1,c=this.constructor.backgroundPatterns[ov(s)];if(Je(c)){e.width*=l,e.height*=l;var f=c(e,t);if(!(f instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=f.toDataURL("image/png"),s="repeat",qe(r)?(r.width*=f.width/e.width,r.height*=f.height/e.height):r===void 0&&(t.size={width:f.width/l,height:f.height/l})}else n=e.src,r===void 0&&(t.size={width:e.width,height:e.height});this.childNodes.background.style.opacity=a,this.childNodes.background.style.backgroundRepeat=s,this.childNodes.background.style.backgroundImage=`url(${n})`,this.updateBackgroundImage(t)}},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(e=e||{},this.updateBackgroundColor(e.color),e.image){e=this._background=fn(e),bs(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,rr(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!qe(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,n=e.name;if(t||(t=n+this.svg.id+al(JSON.stringify(e))),!this.isDefined(t)){var r=Qw,s=r[n]&&r[n](e.args||{});if(!s)throw new Error("Non-existing filter "+n);var a=we({filterUnits:"userSpaceOnUse"},e.attrs,{id:t});re(s,a).appendTo(this.defs)}return t},defineGradient:function(e){if(!qe(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:t,defs:n}=this,{type:r,id:s=r+t.id+al(JSON.stringify(e)),stops:a,attrs:l={}}=e;if(this.isDefined(s))return s;const c=Ye(a).map(({offset:p,color:g,opacity:h})=>re("stop").attr({offset:p,"stop-color":g,"stop-opacity":Number.isFinite(h)?h:1})),f=re(r,l,c);return f.id=s,f.appendTo(n),s},definePattern:function(e){if(!qe(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:t,defs:n}=this,{id:r=t.id+al(JSON.stringify(e)),markup:s,attrs:a={}}=e;if(!s)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(r))return r;const l=re("pattern",{patternUnits:"userSpaceOnUse"});if(l.id=r,l.attr(a),typeof s=="string")l.append(re(s));else{const{fragment:c}=Pl(s);l.append(c)}return l.appendTo(n),r},defineMarker:function(e){if(!qe(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:t,defs:n}=this,{id:r=t.id+al(JSON.stringify(e)),markup:s,attrs:a={},markerUnits:l="userSpaceOnUse"}=e;if(this.isDefined(r))return r;const c=re("marker",{orient:"auto",overflow:"visible",markerUnits:l});c.id=r,c.attr(a);let f;if(s){let h;if(typeof s=="string")h=re(s),h=Array.isArray(h)?h:[h];else{const{fragment:x}=Pl(s);h=re(x).children()}h.length>1?f=re("g").append(h):f=h[0]}else{const{type:h="path"}=e;f=re(h)}const p=Ho(e,"type","id","markup","attrs","markerUnits");return Object.keys(p).forEach(h=>{const x=p[h],w=f.attr(h);if(w==null)f.attr(h,x);else switch(h){case"transform":f.attr(h,x+" "+w);break}}),f.appendTo(c),c.appendTo(n),r},customEventTrigger:function(e,t,n=t.el){const r=e.target.closest("[event]");if(r&&n!==r&&t.el.contains(r)){const s=Lt(new de.Event(e.originalEvent,{data:e.data,currentTarget:r}));return this.onevent(s),s.isDefaultPrevented()&&e.preventDefault(),s}return null}},{sorting:ms,Layers:Ut,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=2*r;var s=t.getContext("2d");return s.drawImage(e,0,0,n,r),s.setTransform(-1,0,0,-1,t.width,t.height),s.drawImage(e,0,0,n,r),s.setTransform(-1,0,0,1,t.width,0),s.drawImage(e,0,0,n,r),s.setTransform(1,0,0,-1,0,t.height),s.drawImage(e,0,0,n,r),t},flipX:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=n*2,t.height=r;var s=t.getContext("2d");return s.drawImage(e,0,0,n,r),s.translate(2*n,0),s.scale(-1,1),s.drawImage(e,0,0,n,r),t},flipY:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=n,t.height=r*2;var s=t.getContext("2d");return s.drawImage(e,0,0,n,r),s.translate(0,2*r),s.scale(1,-1),s.drawImage(e,0,0,n,r),t},watermark:function(e,t){t=t||{};var n=e.width,r=e.height,s=document.createElement("canvas");s.width=n*3,s.height=r*3;for(var a=s.getContext("2d"),l=Gt(t.watermarkAngle)?-t.watermarkAngle:-20,c=en(l),f=s.width/4,p=s.height/4,g=0;g<4;g++)for(var h=0;h<4;h++)(g+h)%2>0&&(a.setTransform(1,0,0,1,(2*g-1)*f,(2*h-1)*p),a.rotate(c),a.drawImage(e,-n/2,-r/2,n,r));return s}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",render:function(e,t){re(e).attr({width:t.thickness,height:t.thickness,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",render:function(e,t){re(e).attr({fill:t.color})},update:function(e,t,n){const{sx:r,sy:s}=n.scale(),a=r<=1?t.thickness:t.thickness/r,l=s<=1?t.thickness:t.thickness/s;re(e).attr({width:a,height:l})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",render:function(e,t){var n,r=t.width,s=t.height,a=t.thickness;r-a>=0&&s-a>=0?n=["M",r,0,"H0 M0 0 V0",s].join(" "):n="M 0 0 0 0",re(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",render:function(e,t){var n,r=t.width,s=t.height,a=t.thickness;r-a>=0&&s-a>=0?n=["M",r,0,"H0 M0 0 V0",s].join(" "):n="M 0 0 0 0",re(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",render:function(e,t){var n,r=t.width,s=t.height,a=t.thickness;r-a>=0&&s-a>=0?n=["M",r,0,"H0 M0 0 V0",s].join(" "):n="M 0 0 0 0",re(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}]}});function Gn(e,t,n,r){switch(e){case"full-circle":return`
            <circle
        cx="${t+r/2}"
        cy="${n+r/2}"
        r="${r/2}"
        stroke="#737475"
        stroke-width="1"
        fill="#737475"
      />`;case"empty-circle":return`
        <circle
    cx="${t+r/2}"
    cy="${n+r/2}"
    r="${r/2}"
    stroke="#737475"
    stroke-width="1"
    fill="none"
  />`;case"excel":return`
            <g transform="translate(${t}, ${n}) scale(${r/48})">
        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 48 48">
<path fill="#169154" d="M29,6H15.744C14.781,6,14,6.781,14,7.744v7.259h15V6z"></path><path fill="#18482a" d="M14,33.054v7.202C14,41.219,14.781,42,15.743,42H29v-8.946H14z"></path><path fill="#0c8045" d="M14 15.003H29V24.005000000000003H14z"></path><path fill="#17472a" d="M14 24.005H29V33.055H14z"></path><g><path fill="#29c27f" d="M42.256,6H29v9.003h15V7.744C44,6.781,43.219,6,42.256,6z"></path><path fill="#27663f" d="M29,33.054V42h13.257C43.219,42,44,41.219,44,40.257v-7.202H29z"></path><path fill="#19ac65" d="M29 15.003H44V24.005000000000003H29z"></path><path fill="#129652" d="M29 24.005H44V33.055H29z"></path></g><path fill="#0c7238" d="M22.319,34H5.681C4.753,34,4,33.247,4,32.319V15.681C4,14.753,4.753,14,5.681,14h16.638 C23.247,14,24,14.753,24,15.681v16.638C24,33.247,23.247,34,22.319,34z"></path><path fill="#fff" d="M9.807 19L12.193 19 14.129 22.754 16.175 19 18.404 19 15.333 24 18.474 29 16.123 29 14.013 25.07 11.912 29 9.526 29 12.719 23.982z"></path>
</svg>
</g>
            `;case"play":return`
                    <g transform="translate(${t}, ${n}) scale(${r/480})">
<svg width="200px" height="200px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle opacity="0.5" cx="12" cy="12" r="10" stroke="#1C274C" stroke-width="1.5"/>
<path d="M13.8876 9.9348C14.9625 10.8117 15.5 11.2501 15.5 12C15.5 12.7499 14.9625 13.1883 13.8876 14.0652C13.5909 14.3073 13.2966 14.5352 13.0261 14.7251C12.7888 14.8917 12.5201 15.064 12.2419 15.2332C11.1695 15.8853 10.6333 16.2114 10.1524 15.8504C9.6715 15.4894 9.62779 14.7336 9.54038 13.2222C9.51566 12.7947 9.5 12.3757 9.5 12C9.5 11.6243 9.51566 11.2053 9.54038 10.7778C9.62779 9.26636 9.6715 8.51061 10.1524 8.1496C10.6333 7.78859 11.1695 8.11466 12.2419 8.76679C12.5201 8.93597 12.7888 9.10831 13.0261 9.27492C13.2966 9.46483 13.5909 9.69274 13.8876 9.9348Z" stroke="#1C274C" stroke-width="1.5"/>
</svg>
</g>`;case"layer":return`
                     <g transform="translate(${t}, ${n}) scale(${r/480})">

     <svg width="200px" height="200px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M17.4 10L21 12L17.4 14M17.4 10L12 13L6.6 10M17.4 10L21 8L12 3L3 8L6.6 10M6.6 10L3 12L6.6 14M17.4 14L21 16L12 21L3 16L6.6 14M17.4 14L12 17L6.6 14" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</g>
 `;case"layer-blue":return`
                     <g @selector="layerBlue" transform="translate(${t}, ${n}) scale(${r/480})">

     <svg width="200px" height="200px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path  d="M17.4 10L21 12L17.4 14M17.4 10L12 13L6.6 10M17.4 10L21 8L12 3L3 8L6.6 10M6.6 10L3 12L6.6 14M17.4 14L21 16L12 21L3 16L6.6 14M17.4 14L12 17L6.6 14" stroke="#3173FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</g>
 `;case"collapse":return`
        
                     <g @selector="collapseIcon" transform="translate(${t}, ${n}) scale(${r/480})">

        <svg fill="#000000" width="200px" height="200px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.70710678,12 L19.5,12 C19.7761424,12 20,12.2238576 20,12.5 C20,12.7761424 19.7761424,13 19.5,13 L8.70710678,13 L11.8535534,16.1464466 C12.0488155,16.3417088 12.0488155,16.6582912 11.8535534,16.8535534 C11.6582912,17.0488155 11.3417088,17.0488155 11.1464466,16.8535534 L7.14644661,12.8535534 C6.95118446,12.6582912 6.95118446,12.3417088 7.14644661,12.1464466 L11.1464466,8.14644661 C11.3417088,7.95118446 11.6582912,7.95118446 11.8535534,8.14644661 C12.0488155,8.34170876 12.0488155,8.65829124 11.8535534,8.85355339 L8.70710678,12 L8.70710678,12 Z M4,5.5 C4,5.22385763 4.22385763,5 4.5,5 C4.77614237,5 5,5.22385763 5,5.5 L5,19.5 C5,19.7761424 4.77614237,20 4.5,20 C4.22385763,20 4,19.7761424 4,19.5 L4,5.5 Z"/>
</svg>
</g>
        `;case"clock":return`
                     <g @selector="clock" transform="translate(${t}, ${n}) scale(${r/480})">
                     <svg fill="#737475" height="200px" width="200px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 490 490" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path d="M245,0C109.5,0,0,109.5,0,245s109.5,245,245,245s245-109.5,245-245S380.5,0,245,0z M245,449.3 c-112.6,0-204.3-91.7-204.3-204.3S132.4,40.7,245,40.7S449.3,132.4,449.3,245S357.6,449.3,245,449.3z"></path> <path d="M290.9,224.1h-25v-95.9c0-11.5-9.4-20.9-20.9-20.9s-20.9,9.4-20.9,20.9V245c0,11.5,9.4,20.9,20.9,20.9h45.9 c11.5,0,20.9-9.4,20.9-20.9S302.3,224.1,290.9,224.1z"></path> </g> </g> </g></svg>
                     </g>`;case"commit":return`
            <g @selector="commit" transform="translate(${t}, ${n}) scale(${r/480})">
            <svg fill="#737475" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" stroke="#737475"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><title>ionicons-v5-d</title><path d="M448,224H380a128,128,0,0,0-247.9,0H64a32,32,0,0,0,0,64h68.05A128,128,0,0,0,380,288H448a32,32,0,0,0,0-64ZM256,320a64,64,0,1,1,64-64A64.07,64.07,0,0,1,256,320Z"></path></g></svg>
            </g>`;case"bright":return`
                <g @selector="bright" transform="translate(${t}, ${n}) scale(${r/480})">
                <svg viewBox="0 0 117 117" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title></title> <desc></desc> <defs></defs> <g fill="none" fill-rule="evenodd" id="Page-1" stroke="none" stroke-width="1"> <g fill-rule="nonzero" id="sun"> <path d="M58.5,86.6 C74,86.6 86.5,74 86.5,58.6 C86.5,43.2 73.9,30.6 58.5,30.6 C43.1,30.6 30.5,43.2 30.5,58.6 C30.5,74 43,86.6 58.5,86.6 Z M58.5,38.7 C69.5,38.7 78.4,47.6 78.4,58.6 C78.4,69.6 69.5,78.5 58.5,78.5 C47.5,78.5 38.6,69.6 38.6,58.6 C38.6,47.6 47.5,38.7 58.5,38.7 Z" fill="#737475" id="Shape"></path> <path d="M62.6,17.6 L62.6,4.7 C62.6,2.4 60.8,0.6 58.5,0.6 C56.2,0.6 54.4,2.4 54.4,4.7 L54.4,17.6 C54.4,19.9 56.2,21.7 58.5,21.7 C60.8,21.7 62.6,19.9 62.6,17.6 Z" fill="#747272" id="Shape"></path> <path d="M54.4,99.6 L54.4,112.5 C54.4,114.8 56.2,116.6 58.5,116.6 C60.8,116.6 62.6,114.8 62.6,112.5 L62.6,99.6 C62.6,97.3 60.8,95.5 58.5,95.5 C56.2,95.5 54.4,97.3 54.4,99.6 Z" fill="#747272" id="Shape"></path> <path d="M90.4,32.5 L99.5,23.4 C101.1,21.8 101.1,19.2 99.5,17.6 C97.9,16 95.3,16 93.7,17.6 L84.6,26.7 C83,28.3 83,30.9 84.6,32.5 C85.4,33.3 86.4,33.7 87.5,33.7 C88.6,33.7 89.6,33.3 90.4,32.5 Z" fill="#747272" id="Shape"></path> <path d="M17.5,99.6 C18.3,100.4 19.3,100.8 20.4,100.8 C21.4,100.8 22.5,100.4 23.3,99.6 L32.4,90.5 C34,88.9 34,86.3 32.4,84.7 C30.8,83.1 28.2,83.1 26.6,84.7 L17.5,93.8 C15.9,95.4 15.9,98 17.5,99.6 Z" fill="#747272" id="Shape"></path> <path d="M116.5,58.6 C116.5,56.3 114.7,54.5 112.4,54.5 L99.5,54.5 C97.2,54.5 95.4,56.3 95.4,58.6 C95.4,60.9 97.2,62.7 99.5,62.7 L112.4,62.7 C114.6,62.7 116.5,60.9 116.5,58.6 Z" fill="#747272" id="Shape"></path> <path d="M4.6,62.7 L17.5,62.7 C19.8,62.7 21.6,60.9 21.6,58.6 C21.6,56.3 19.8,54.5 17.5,54.5 L4.6,54.5 C2.3,54.5 0.5,56.3 0.5,58.6 C0.5,60.9 2.4,62.7 4.6,62.7 Z" fill="#747272" id="Shape"></path> <path d="M96.6,100.8 C97.6,100.8 98.7,100.4 99.5,99.6 C101.1,98 101.1,95.4 99.5,93.8 L90.4,84.7 C88.8,83.1 86.2,83.1 84.6,84.7 C83,86.3 83,88.9 84.6,90.5 L93.7,99.6 C94.5,100.4 95.6,100.8 96.6,100.8 Z" fill="#747272" id="Shape"></path> <path d="M32.4,32.5 C34,30.9 34,28.3 32.4,26.7 L23.3,17.6 C21.7,16 19.1,16 17.5,17.6 C15.9,19.2 15.9,21.8 17.5,23.4 L26.6,32.5 C27.4,33.3 28.4,33.7 29.5,33.7 C30.6,33.7 31.6,33.3 32.4,32.5 Z" fill="#747272" id="Shape"></path> </g> </g> </g></svg>
                </g>`;case"ticket":return`
                <g @selector="ticket" transform="translate(${t}, ${n}) scale(${r/480})">
                <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M16 2H0V6C1.10457 6 2 6.89543 2 8C2 9.10457 1.10457 10 0 10V14H16V10C14.8954 10 14 9.10457 14 8C14 6.89543 14.8954 6 16 6V2ZM8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z" fill="#737475"></path> </g></svg>
                </g>`;default:return""}}class hn extends Nt{defaults(){return{...super.defaults,hidden:!1}}isHidden(){return!!this.get("hidden")}static isUMLElement(t){return t instanceof hn}}class Ug extends hn{defaults(){return{...super.defaults(),type:"UMLInitialNode",size:{width:65,height:37},attrs:{body:{fill:"#030F2E",stroke:"#030F2E",strokeWidth:2,width:"calc(w)",height:"calc(h)",rx:4,ry:4,padding:10},label:{text:"Start",fill:"white",fontSize:14,fontWeight:500,textVerticalAnchor:"middle",textAnchor:"middle",fontFamily:"sans-serif",x:"calc(w/2)",y:"calc(h/2)"},port:{cx:"calc(0.5 * w)",cy:"calc(h)",fill:"#2BD4BD",stroke:"#FFFFFFF",strokeWidth:10,r:5},portOuter:{cx:"calc(0.5 * w)",cy:"calc(h)",fill:"#FFFFFF",stroke:"#FFFFFF",strokeWidth:10,r:3}}}}preinitialize(){this.markup=Sr`
            <rect @selector="body" />
            <text @selector="label" />
            <circle @selector="portOuter" />
            <circle @selector="port" />
        `}}class mE extends hn{defaults(){return{...super.defaults(),type:"UMLEndNode",size:{width:65,height:37},attrs:{body:{fill:"#030F2E",stroke:"#030F2E",strokeWidth:2,width:"calc(w)",height:"calc(h)",rx:4,ry:4,padding:10},label:{text:"End",fill:"white",fontSize:14,fontWeight:500,textVerticalAnchor:"middle",textAnchor:"middle",fontFamily:"sans-serif",x:"calc(w/2)",y:"calc(h/2)"},port:{cx:"calc(0.5 * w)",cy:"0",fill:"#2BD4BD",stroke:"#FFFFFFF",strokeWidth:10,r:5},portOuter:{cx:"calc(0.5 * w)",cy:"0",fill:"#FFFFFF",stroke:"#FFFFFF",strokeWidth:10,r:3}}}}preinitialize(){this.markup=Sr`
            <rect @selector="body" />
            <text @selector="label" />
            <circle @selector="portOuter" />
            <circle @selector="port" />
        `}}class vE extends hn{defaults(){return{...super.defaults(),type:"UMLActionNode",size:{width:300,height:150},attrs:{body:{fill:"#FFC107",stroke:"#FFC107",strokeWidth:2,rx:15,ry:15},label:{text:"Action",fill:"black",fontSize:16,fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"start",fontFamily:"sans-serif"},port:{cx:"calc(0.5 * w)",cy:"calc(h)",fill:"#2BD4BD",stroke:"#FFFFFFF",strokeWidth:10,r:5},portOuter:{cx:"calc(0.5 * w)",cy:"calc(h)",fill:"#FFFFFF",stroke:"#FFFFFF",strokeWidth:10,r:3}}}}preinitialize(){const t=Gn("excel",8,100,48),n=Gn("play",270,20,48);this.markup=Sr`
            <rect @selector="body" />
            <text @selector="label" />
            <circle @selector="icon1" />
            <text @selector="text1" />
            <circle @selector="icon2" />
            <text @selector="text2" />
            ${t}
            ${n}
            <circle @selector="portOuter" />
            <circle @selector="port" />

        `}}class yE extends hn{constructor(...t){super(...t),this.on("change:collapsed",this.onCollapseChange,this),this.onCollapseChange()}onCollapseChange(){const t=this.isCollapsed(),n=t?280:308,r=t?110:300;this.resize(n,r),this.attr({label:{x:t?120:150,y:t?50:80,textWrap:{width:t?"80%":"calc(w - 30)",height:t?"30%":"100%",ellipsis:!0}},clock:{display:t?"none":"block"},commit:{display:t?"none":"block"},bright:{display:t?"none":"block"},ticket:{display:t?"none":"block"},line:{display:t?"none":"block"},info1:{display:t?"none":"block"},info2:{display:t?"none":"block"},info3:{display:t?"none":"block"},info4:{display:t?"none":"block"},rectangleBox:{display:t?"none":"block"},description:{display:t?"none":"block"},collapseIcon:{transform:t?"translate(266,61) rotate(180) scale(0.208)":"translate(280,48) scale(0.125)"}})}toggleCollapse(){this.set("collapsed",!this.isCollapsed())}isCollapsed(){return!!this.get("collapsed")}defaults(){return{...super.defaults(),type:"UMLInformationNode",collapsed:!0,size:{width:400,height:300},attrs:{body:{fill:"#E6E6E6",stroke:"#FFFFFFF",strokeWidth:2,rx:15,ry:15,event:"info:collapse"},label:{text:"Information",fill:"black",color:"black",fontSize:16,fontWeight:"bold",textAnchor:"start",fontFamily:"sans-serif"},collapseIcon:{event:"info:collapse"}}}}preinitialize(){const t=Gn("collapse",300,48,60),n=Gn("clock",20,163,35),r=Gn("commit",75,40,15),s=Gn("bright",135,40,15),a=Gn("ticket",185,40,15);this.markup=Sr`
            <rect @selector="body" />
            <text @selector="label" />
            ${t}
            <line @selector="line" x1="20" y1="150" x2="280" y2="150" stroke="#99bbff" stroke-width="2" />
            ${n}
            <text @selector="info1"/>
            ${r}
            <text @selector="info2"/>
            ${s}
            <text @selector="info3"/>
            ${a}
            <text @selector="info4"/>
            
            <rect @selector="rectangleBox" x="20" y="200" width="280" height="60" fill="#e6ecff" rx="4" ry="4" />
            <text @selector="description"/>

            
        `}}class xE extends hn{defaults(){return{...super.defaults(),type:"UMLSmallActionNode",size:{width:300,height:100},attrs:{body:{fill:"#FFC107",stroke:"#FFC107",strokeWidth:2,rx:15,ry:15},label:{text:"Action",fill:"black",fontSize:16,fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"start",fontFamily:"sans-serif"},port:{cx:"calc(0.5 * w)",cy:"calc(h)",fill:"#2BD4BD",stroke:"#FFFFFFF",strokeWidth:10,r:5},portOuter:{cx:"calc(0.5 * w)",cy:"calc(h)",fill:"#FFFFFF",stroke:"#FFFFFF",strokeWidth:10,r:3}}}}preinitialize(){this.markup=Sr`
            <rect @selector="body" />
            <text @selector="label" />
            <circle @selector="icon1" />
            <text @selector="text1" />
            <circle @selector="icon2" />
            <text @selector="text2" />

            <circle @selector="portOuter" />
            <circle @selector="port" />

        `}}const Gg=60,wl=45,wE=8,vs=wl-wE*2,$g={"+":`M ${vs/2} 4 V ${vs-4} M 4 ${vs/2} H ${vs-4}`,"-":`M 4 ${vs/2} H ${vs-4}`};class Lo extends Nt{defaults(){return{...super.defaults,type:"UMLSwimlane",collapsed:!1,expandedHeight:null,sizeMap:{width:350,height:2750,collapsedWidth:50},attrs:{body:{fill:"transparent",stroke:"#E6E6E6",strokeWidth:1,width:"calc(w)",height:"calc(h)"},header:{stroke:"transparent",height:wl,width:"calc(w)",event:"header:collapse"},divider:{stroke:"transparent",strokeWidth:2,d:`M 0 ${wl} H calc(w)`},label:{text:"Swimlane",fill:"#333",fontSize:Gg*.4,fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"start",fontFamily:"sans-serif",x:"calc(0.33*w)",event:"header:collapse",textDecoration:"underline"}}}}preinitialize(...t){const n=Gn("layer-blue",10,15,60);this.markup=Sr`
            <g>
              <rect @selector="body" />
              <rect @selector="header" />
              <path @selector="divider" />
              <text @selector="label" />
              ${n}
              </g>
          `}constructor(...t){super(...t),this.on("change:collapsed",this.onCollapseChange,this),this.onCollapseChange()}toggleCollapse(){this.set("collapsed",!this.isCollapsed())}isCollapsed(){return!!this.get("collapsed")}onCollapseChange(){const t=this.get("sizeMap"),n=this.isCollapsed(),r=n?0:t.width;this.resize(r,t.height),this.attr({buttonSign:{d:n?$g["+"]:$g["-"]},layerBlue:{display:n?"none":"block"},label:n?{fontSize:0}:{writingMode:"lr",textAnchor:"middle",y:wl/2,fontSize:Gg*.4}})}triggerNextCollapse(t){t instanceof Lo&&t.set("collapsed",!1)}updateChildrenVisibility(){const t=this.isCollapsed();this.getEmbeddedCells().forEach(n=>{n.set("hidden",t),n.attr("./display",t?"none":"block")})}}const Eo=60;class Hg extends Nt{defaults(){return{...super.defaults,type:"UMLPool",attrs:{body:{fill:"#FFFFFF",width:"calc(w)",height:"calc(h)"},header:{stroke:"#333",strokeWidth:2,fill:"#333",height:Eo,width:"calc(w)"},label:{fill:"#fff",fontSize:Eo*.7,fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",fontFamily:"sans-serif",x:"calc(w / 2)",y:Eo/2,textWrap:{ellipsis:!0,width:"calc(w - 20)",maxLineCount:1}}}}}preinitialize(...t){this.markup=Sr`
              <rect @selector="body" />
              <rect @selector="header" />
              <text @selector="label" />
          `}layoutSwimlanes(t){let n=0,r=60;t.forEach(s=>{s.updateChildrenVisibility(),s.position(n,r,{deep:!0,parentRelative:!0}),n+=s.size().width,r+=Eo}),this.fitEmbeds({padding:{top:Eo}})}}class Yc extends hn{defaults(){return{...super.defaults(),type:"UMLActivity",size:{width:48,height:48},attrs:{body:{fill:"white",stroke:"#0000001A",strokeWidth:2,width:"calc(w)",height:"calc(h)",rx:8,ry:8},label:{text:"Activity",fill:"black",fontSize:16,fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",fontFamily:"sans-serif",x:"calc(w/2)",y:"calc(h/2)"}}}}preinitialize(){const t=Gn("layer",10,13,60);this.markup=Sr`
              <rect @selector="body" />
              ${t}
          `}}function SE(e,t,n){const r=n.sourceBBox,s=n.targetBBox,a=n.sourceAnchor,l=n.targetAnchor,{x:c,y:f}=s,{x:p,y:g}=r,h=a.clone(),x=t.spacing||28,w=r.sideNearestToPoint(a);switch(w){case"left":h.x=p-x;break;case"right":h.x=p+r.width+x;break;case"top":h.y=g-x;break;case"bottom":h.y=g+r.height+x;break}const b=l.clone(),P=s.sideNearestToPoint(l);switch(P){case"left":b.x=s.x-x;break;case"right":b.x=s.x+s.width+x;break;case"top":b.y=s.y-x;break;case"bottom":b.y=s.y+s.height+x;break}const{x:T,y:C}=h,{x:L,y:M}=b,R=c+s.width,G=f+s.height,Z=(c+R)/2,v=(f+G)/2,S=p+r.width,E=g+r.height,k=(p+S)/2,O=(g+E)/2,U=(k<Z?S+c:R+p)/2,W=(O<v?E+f:G+g)/2,Q=p-x,ie=S+x,I=c-x,B=R+x,N=g-x,D=E+x;if(w==="left"&&P==="right"){if(p<R){let _=W;return T<c&&(G>=N&&v<O?_=Math.min(f-x,N):f<=D&&v>=O&&(_=Math.max(G+x,D))),[{x:T,y:C},{x:T,y:_},{x:L,y:_},{x:L,y:M}]}const $=(T+L)/2;return[{x:$,y:C},{x:$,y:M}]}else if(w==="right"&&P==="left"){if(p>R){let _=W;return T>R&&(G>=N&&v<O?_=Math.min(f-x,N):f<=D&&v>=O&&(_=Math.max(G+x,D))),[{x:T,y:C},{x:T,y:_},{x:L,y:_},{x:L,y:M}]}const $=(T+L)/2;return[{x:$,y:C},{x:$,y:M}]}else if(w==="top"&&P==="bottom"){if(C<M){let _=U,j=C;return C<f&&(R>=Q&&Z<k?_=Math.min(c-x,Q):c<=ie&&Z>=k&&(_=Math.max(R+x,ie))),[{x:T,y:j},{x:_,y:j},{x:_,y:M},{x:L,y:M}]}const $=(C+M)/2;return[{x:T,y:$},{x:L,y:$}]}else if(w==="bottom"&&P==="top"){if(C-x>M){let _=U,j=C;return C>G&&(R>=Q&&Z<k?_=Math.min(c-x,Q):c<=ie&&Z>=k&&(_=Math.max(R+x,ie))),[{x:T,y:j},{x:_,y:j},{x:_,y:M},{x:L,y:M}]}const $=(C+M)/2;return[{x:T,y:$},{x:L,y:$}]}else if(w==="top"&&P==="top"){let $,_=Math.min((E+f)/2,M),j=Math.min((g+G)/2,C);if(M<C){if(T>=B||T<=I)return[{x:T,y:Math.min(C,M)},{x:L,y:Math.min(C,M)}];L>T?$=Math.min(T,I):$=Math.max(T,B)}else{if(L>=ie||L<=Q)return[{x:T,y:Math.min(C,M)},{x:L,y:Math.min(C,M)}];Z>=k?$=Math.max(L,ie):$=Math.min(L,Q)}return[{x:T,y:j},{x:$,y:j},{x:$,y:_},{x:L,y:_}]}else if(w==="bottom"&&P==="bottom"){if(c>=ie||R<=Q)return[{x:T,y:Math.max(C,M)},{x:L,y:Math.max(C,M)}];let $,_,j;return M>C?(_=Math.max((E+f)/2,M),j=Math.max((E+f)/2,C),L>T?$=Math.min(T,I):$=Math.max(T,B)):(_=Math.max((g+G)/2,M),j=Math.max((g+G)/2,C),Z>=k?$=Math.max(L,ie):$=Math.min(L,Q)),[{x:T,y:j},{x:$,y:j},{x:$,y:_},{x:L,y:_}]}else if(w==="left"&&P==="left"){let $,_=Math.min((S+c)/2,L),j=Math.min((p+R)/2,T);const me=g-x,se=E+x,ue=f-x,fe=G+x;return L>T?M<=C?$=Math.min(me,M):$=Math.max(se,M):M>=C?$=Math.min(ue,C):$=Math.max(fe,C),[{x:j,y:C},{x:j,y:$},{x:_,y:$},{x:_,y:M}]}else if(w==="right"&&P==="right"){let $,_=Math.max((p+R)/2,L),j=Math.max((S+c)/2,T);const me=g-x,se=E+x,ue=f-x,fe=G+x;return L<T?M<=C?$=Math.min(me,M):$=Math.max(se,M):M>=C?$=Math.min(ue,C):$=Math.max(fe,C),[{x:j,y:C},{x:j,y:$},{x:_,y:$},{x:_,y:M}]}else if(w==="top"&&P==="right"){if(C>M){if(T<L){let _=(g+G)/2;return _>v&&_<G+x&&T<c-x&&(_=f-x),[{x:T,y:_},{x:L,y:_},{x:L,y:M}]}return[{x:T,y:M}]}const $=U;if(T>L&&E>=M)return[{x:T,y:C},{x:$,y:C},{x:$,y:M}];if($>Q&&C<G){const _=Math.min(g,f)-x,j=Math.max(S,R)+x;return[{x:T,y:_},{x:j,y:_},{x:j,y:M}]}return[{x:T,y:C},{x:$,y:C},{x:$,y:M}]}else if(w==="top"&&P==="left"){if(C>M){if(T>L){let _=(g+G)/2;return _>v&&_<G+x&&T>R+x&&(_=f-x),[{x:T,y:_},{x:L,y:_},{x:L,y:M}]}return[{x:T,y:M}]}const $=U;if(T<L&&E>=M)return[{x:T,y:C},{x:$,y:C},{x:$,y:M}];if($<ie&&C<G){const _=Math.min(g,f)-x,j=Math.min(p,c)-x;return[{x:T,y:_},{x:j,y:_},{x:j,y:M}]}return[{x:T,y:C},{x:$,y:C},{x:$,y:M}]}else if(w==="bottom"&&P==="right"){if(C<M){if(T<L){let _=(E+f)/2;return _<v&&_>f-x&&T<c-x&&(_=G+x),[{x:T,y:_},{x:L,y:_},{x:L,y:M}]}return[{x:T,y:M}]}else if(p<L){const _=Math.max(E,G)+x,j=Math.max(S,R)+x;return[{x:T,y:_},{x:j,y:_},{x:j,y:M}]}const $=U;return[{x:T,y:C},{x:$,y:C},{x:$,y:M}]}else if(w==="bottom"&&P==="left"){if(C<M){if(T>L){let _=(E+f)/2;return _<v&&_>f-x&&T>R+x&&(_=G+x),[{x:T,y:_},{x:L,y:_},{x:L,y:M}]}return[{x:T,y:M}]}else if(S>L){const _=Math.max(E,G)+x,j=Math.min(p,c)-x;return[{x:T,y:_},{x:j,y:_},{x:j,y:M}]}const $=U;return[{x:T,y:C},{x:$,y:C},{x:$,y:M}]}else if(w==="left"&&P==="bottom"){if(T>L&&C>=M)return[{x:L,y:C}];if(T>R&&C<M){const j=U;return[{x:j,y:C},{x:j,y:M},{x:L,y:M}]}const $=Math.min(p,c)-x;let _=Math.max(E,G)+x;return L<=S&&M<C?(_=(G+g)/2,[{x:T,y:C},{x:T,y:_},{x:L,y:_}]):[{x:$,y:C},{x:$,y:_},{x:L,y:_}]}else if(w==="left"&&P==="top"){if(T>L&&C<=M)return[{x:L,y:C}];if(T>R&&C>M){const j=(p+R)/2;return[{x:j,y:C},{x:j,y:M},{x:L,y:M}]}const $=Math.min(p,c)-x;let _=Math.min(g,f)-x;return L<=S&&M>C?(_=(f+E)/2,[{x:T,y:C},{x:T,y:_},{x:L,y:_}]):[{x:$,y:C},{x:$,y:_},{x:L,y:_}]}else if(w==="right"&&P==="top"){if(T<L&&C<=M)return[{x:L,y:C}];let $=(S+c)/2;if(S<c&&C>M)return[{x:$,y:C},{x:$,y:M},{x:L,y:M}];if($<S+x&&E>f){$=Math.max(R+x,T);const j=Math.min(g,f)-x;return[{x:$,y:C},{x:$,y:j},{x:L,y:j}]}const _=(E+f)/2;if(_<=E&&L<p){const j=Math.max(S,R)+x,me=Math.min(g,f)-x;return[{x:j,y:C},{x:j,y:me},{x:L,y:me}]}return[{x:T,y:C},{x:T,y:_},{x:L,y:_}]}else if(w==="right"&&P==="bottom"){let $=(S+c)/2;if(S<$)return C<M?[{x:$,y:C},{x:$,y:M},{x:L,y:M}]:[{x:L,y:C}];if($<S+x&&g<G){$=Math.max(R+x,T);const j=Math.max(E,G)+x;return[{x:$,y:C},{x:$,y:j},{x:L,y:j}]}const _=(g+G)/2;if(_>=g&&L<p){const j=Math.max(S,R)+x,me=Math.max(E,G)+x;return[{x:j,y:C},{x:j,y:me},{x:L,y:me}]}return[{x:T,y:C},{x:T,y:_},{x:L,y:_}]}}function bE(){const e=Ct.useRef(null),t=Ct.useRef(null);Ct.useEffect(()=>{e.current&&e.current.fitToViewer()},[]);let n=600,r=30,s=1700,a=147;const[l,c]=Ct.useState(!1),[f,p]=Ct.useState(150),[,g]=Ct.useState(30),[h,x]=Ct.useState(!1),[w,b]=Ct.useState(600),[P,T]=Ct.useState(30),[C,L]=Ct.useState(!1),[M,R]=Ct.useState(600),[G,Z]=Ct.useState(30),[v,S]=Ct.useState(!1),[E,k]=Ct.useState(600),[O,U]=Ct.useState(30),[W,Q]=Ct.useState(!1),ie=[l,h,C,v,W],I=[c,x,L,S,Q];return Ct.useEffect(()=>{var Yo;const B=Re=>function(Ue,Be,xe,et,Xe,ct){const{model:at}=Ue;if(!hn.isUMLElement(at)||!at.isHidden())return hf[Re].call(this,Ue,Be,xe,et,Xe,ct);const sn=at.getParentCell();if(!sn)return null;const kr=sn.getBBox(),_r=at.getBBox();let Yn=_r.y;switch(Re){case"left":case"right":Yn+=_r.height/2;break;case"bottom":Yn+=_r.height;break;case"top":default:Yn+=_r.height/2}Yn+=et.dy||0;const rt=1;let yn=kr.x;const{model:Lr}=ct.getEndView(Xe==="source"?"target":"source");return Lr.position().x>kr.x?yn+=kr.width-rt:yn+=rt,new z(yn,Yn)},$={width:350,height:19250,collapsedWidth:50},_={...l2,UMLPool:Hg,UMLSwimlane:Lo,UMLInitialNode:Ug,UMLActivity:Yc},j=[{title:"Subprocess",color:"#ffffff",text:"#191919",mainColor:"#FFFFFF"},{title:"Task",color:"#ffffff",text:"#191919",mainColor:"#FFFFFF"},{title:"Action",color:"#ffffff",text:"#191919",mainColor:"#FFFFFF"},{title:"Subaction",color:"#ffffff",text:"#191919",mainColor:"#FFFFFF"},{title:"Event",color:"#ffffff",text:"#191919",mainColor:"#FFFFFF"}],me=new Zf({},{cellNamespace:_}),se=new Vg({gridSize:5,width:800,height:19350,model:me,async:!0,sorting:Vg.sorting.APPROX,defaultRouter:SE,defaultConnectionPoint:{name:"anchor"},cellViewNamespace:_,restrictTranslate:Re=>{const Ue=Re.model.getParentCell();if(!Ue)return!1;const{x:Be,y:xe,width:et,height:Xe}=Ue.getBBox();return new he(Be,xe+60,et,Xe-60).inflate(-5).toJSON()},interactive:Re=>{const{model:Ue}=Re;return{linkMove:!1,elementMove:hn.isUMLElement(Ue)}},viewport:Re=>{const Ue=Re.model;if(Ue.isLink()){const Be=Ue.getSourceElement(),xe=Ue.getTargetElement();return!hn.isUMLElement(Be)||!hn.isUMLElement(xe)?!0:!Be.isHidden()||!xe.isHidden()}return hn.isUMLElement(Ue)?!Ue.isHidden():!0},elementView:Ts.extend({presentationAttributes:Ts.addPresentationAttributes({hidden:["UPDATE"]})}),anchorNamespace:{...hf,left:B("left"),right:B("right"),top:B("top"),bottom:B("bottom")}});function ue(Re,Ue,Be){const xe=new Ug;return Be.embed(xe),xe.addTo(me),xe.position(Re,Ue+60,{parentRelative:!0}),xe}function fe(Re,Ue,Be){const xe=new mE;return Be.embed(xe),xe.addTo(me),xe.position(Re,Ue+60,{parentRelative:!0}),xe}function te(Re,Ue,{sourceSide:Be,dx:xe=0,dy:et=0},{targetSide:Xe,dx:ct=0,dy:at=0},sn="",kr,_r,Yn,rt){const yn=new Dv({source:{id:Re.id,anchor:{name:Be,args:{dx:xe,dy:et}}},target:{id:Ue.id,anchor:{name:Xe,args:{dx:ct,dy:at}}},defaultLabel:{markup:Sr`
          
                      <g>
            <rect @selector="labelBody" />
            
            ${Be==="bottom"&&Xe==="right"||Be==="right"&&Xe==="left"||Be==="left"&&Xe==="right"?Gn(Yn,20,14,10):Gn(Yn,-15,14,10)}
           
           <text @selector="labelText"></text>
        </g>
                  `,attrs:{labelText:{fill:"#00000",fontSize:12,fontFamily:"sans-serif",fontWeight:"bold",textAnchor:"start",textVerticalAnchor:"middle",x:"35",y:"20"},labelBody:{rx:4,ry:4,ref:"labelText",x:"calc(x-20)",y:"calc(y - 10)",width:"calc(w + 25)",height:"calc(h + 17)",fill:"#F2F2F2",stroke:"#D3D3D3",strokeWidth:1}}}});if(sn){const Lr=Xe=="left";let Mr="middle";if(Lr)switch(Be){case"left":Mr="end";break;case"right":Mr="start";break}else switch(Xe){case"left":Mr="end";break;case"right":Mr="start";break}const $i={distance:Lr?225:-60};yn.attr({line:{stroke:"#A1A1AA"}}),yn.connector("rounded"),yn.labels([{attrs:{labelText:{text:kr+"/"+_r,textAnchor:Mr}},position:$i}])}return yn.addTo(me),rt==null||rt.embed(yn),yn}function oe(Re,Ue,Be,xe,et){const Xe={attrs:{body:{fill:"#ffc299",stroke:"#ffffff",strokeWidth:2,width:"calc(w)",height:"calc(h)",rx:15,ry:15,event:"swimlane:collapse",...xe==null?void 0:xe.body},label:{text:xe==null?void 0:xe.label,fill:"black",fontSize:16,fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",fontFamily:"sans-serif",y:"calc(h/5)",x:"calc(0.35 * w)"}}};xe!=null&&xe.info&&xe.info.forEach((at,sn)=>{Xe.attrs[`text${sn+1}`]={text:at.text,fill:"black",fontSize:14,fontFamily:"sans-serif",fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",x:at.icon.x+45,y:at.icon.y+20},Xe.attrs[`icon${sn+1}`]={cx:at.icon.x,cy:at.icon.y+20,r:at.icon.r,fill:at.icon.isFill?"#737475":"none",stroke:"#737475",strokeWidth:2}});let ct;return et?ct=new Yc(Xe):ct=new vE(Xe),Be.embed(ct),ct.addTo(me),ct.position(Re,Ue+60,{parentRelative:!0}),ct}function ve(Re,Ue,Be,xe,et){const Xe={attrs:{body:{fill:"#ffc299",stroke:"#ffffff",strokeWidth:2,width:"calc(w)",height:"calc(h)",rx:15,ry:15,event:"swimlane:collapse",...xe==null?void 0:xe.body},label:{text:xe==null?void 0:xe.label,fill:"black",fontSize:16,fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",fontFamily:"sans-serif",y:"calc(h/5)",x:"calc(0.35 * w)"}}};xe!=null&&xe.info&&xe.info.forEach((at,sn)=>{Xe.attrs[`text${sn+1}`]={text:at.text,fill:"black",fontSize:14,fontFamily:"sans-serif",fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",x:at.icon.x+45,y:at.icon.y+20},Xe.attrs[`icon${sn+1}`]={cx:at.icon.x,cy:at.icon.y+20,r:at.icon.r,fill:at.icon.isFill?"#737475":"none",stroke:"#737475",strokeWidth:2}});let ct;return et?ct=new Yc(Xe):ct=new xE(Xe),Be.embed(ct),ct.addTo(me),ct.position(Re,Ue+60,{parentRelative:!0}),ct}function Oe(Re,Ue,Be,xe){const et=new yE({attrs:{body:{fill:"#ffffff",stroke:"#F1f1f1",strokeWidth:2,width:"calc(w)",height:"calc(h)",rx:15,ry:15},header:{color:"#ffffff",text:xe==null?void 0:xe.header,fontSize:26,fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",fontFamily:"sans-serif",y:"60",x:"110"},label:{text:xe==null?void 0:xe.label,color:"#000000",fontSize:20,fontFamily:"sans-serif",fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",x:"130",y:"100"},description:{text:xe==null?void 0:xe.description.text,color:"#668cff",fill:"black",fontSize:14,fontFamily:"sans-serif",fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",x:xe==null?void 0:xe.description.x,y:xe==null?void 0:xe.description.y}}});return xe==null||xe.info.forEach((Xe,ct)=>{et.attr(`info${ct+1}`,{text:Xe.text,fill:"black",fontSize:14,fontFamily:"sans-serif",fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",x:Xe.icon.x+25,y:Xe.icon.y+1}),et.attr(`icon${ct+1}`,{cx:Xe.icon.x,cy:Xe.icon.y,r:Xe.icon.r,fill:Xe.icon.isFill?"#737475":"none",stroke:"#737475",strokeWidth:2})}),Be.embed(et),et.addTo(me),et.position(Re,Ue+60,{parentRelative:!0}),et}const ke=new Hg({attrs:{label:{}}});ke.addTo(me);const De=j.map((Re,Ue)=>{let Be=!0,xe=3250;switch(Ue){case 0:xe=15250,Be=!1;break;case 1:Be=!ie[0],xe=15250;break;case 2:Be=!ie[1],xe=15250;break;case 3:Be=!ie[2],xe=15250;break;case 4:Be=!ie[3],xe=15250;break}const et=new Lo({collapsed:Be,sizeMap:{width:350,height:xe,collapsedWidth:50},attrs:{label:{text:Re.title,fill:Re.text||"#333"},header:{fill:Re.color},body:{fill:Re.mainColor},button:{fill:Re.mainColor},buttonSign:{stroke:Re.text||"#333"}}});return ke.embed(et),et.addTo(me),et}),[Le,Ee,Fe,ge,q]=De;De.forEach(Re=>{let Ue=40;(Re===ge||Re===q)&&(Ue=10);const Be=Oe(Ue,10,Re,{header:"Subaction",label:"Common Path for claim",info:[{icon:{x:25,y:170,r:8,isFill:!0},text:"23"},{icon:{x:85,y:170,r:8,isFill:!1},text:"3.1"},{icon:{x:145,y:170,r:8,isFill:!1},text:"5"},{icon:{x:195,y:170,r:8,isFill:!0},text:"23"}],description:{text:"The claim is based on common path",x:150,y:215}});(Re===ge||Re===q)&&Be.toggleCollapse()});const ee=ue(147,150,Le),J=ve(h?P:30,280,Le,{label:"Claim Initiation         ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"2.6 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"540(75%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}},h);te(ee,J,{sourceSide:"bottom"},{targetSide:"top"},"label","28.6 min","72%","empty-circle",Le);const be=ve(h?P:30,450,Le,{label:"Claim Validation         ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"3.4 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"138(45%)"}],body:{fill:"#F4F4F5",stroke:"#F1f1f1",strokeWidth:2}},h);te(J,be,{sourceSide:"bottom"},{targetSide:"top"},"label","74.8 min","68%","empty-circle");const He=ve(P,f+500,Le,{label:"Claim Processing        ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"4.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"592(82%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}},h);l||te(be,He,{sourceSide:"bottom"},{targetSide:"top"},"label","38.2 min","45%","empty-circle");const Ve=ve(P,f+750,Le,{label:"Quality check              ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"2.1 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"132(40%)"}],body:{fill:"#FED6A9",stroke:"#F1f1f1",strokeWidth:2}},h);te(He,Ve,{sourceSide:"bottom"},{targetSide:"top"},"label","25.9 min","51%","empty-circle");const ar=ve(P,f+1e3,Le,{label:"Supervisor Approval     ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"7.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"278(60%)"}],body:{fill:"#FEC49A",stroke:"#F1f1f1",strokeWidth:2}},h);te(Ve,ar,{sourceSide:"bottom"},{targetSide:"top"},"label","91.4 min","73%","empty-circle");const Mn=ve(P,f+1250,Le,{label:"Claim Closure               ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"6.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"102(25%)"}],body:{fill:"#F4F4F5",stroke:"#F1f1f1",strokeWidth:2}},h);te(ar,Mn,{sourceSide:"bottom"},{targetSide:"top"},"label","45.7 min","27%","empty-circle");const Hn=fe(147,f+1500,Le);te(Mn,Hn,{sourceSide:"bottom"},{targetSide:"top"},"label","67.3 min","29%","empty-circle");const dt=ue(147,350,Ee),tt=ve(C?G:30,580,Ee,{label:"Verify Claimant ID      ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"3.4 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"233(42%)"}],body:{fill:"#F4F4F5",stroke:"#F1f1f1",strokeWidth:2}},C);te(dt,tt,{sourceSide:"bottom"},{targetSide:"top"},"label","24.1 min","28%","empty-circle"),l&&te(be,dt,{sourceSide:"bottom"},{targetSide:"left"},"label","24.1 min","28%","empty-circle",Ee);const gn=ve(C?G:30,w+320,Ee,{label:"Confirm Contact Info   ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"3.4 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"233(42%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}},C);h||te(tt,gn,{sourceSide:"bottom"},{targetSide:"top"},"label","55.2 min","63%","empty-circle");const ai=ve(G,w+540,Ee,{label:"Check Claim Type       ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"4.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"258(60%)"}],body:{fill:"#F4F4F5",stroke:"#F1f1f1",strokeWidth:2}},C);te(gn,ai,{sourceSide:"bottom"},{targetSide:"top"},"label","62.1 min","54%","empty-circle");const Wn=ve(G,w+740,Ee,{label:"Review Initial Documents",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"2.1 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"138(45%)"}],body:{fill:"#FE9B71",stroke:"#F1f1f1",strokeWidth:2}},C);te(ai,Wn,{sourceSide:"bottom"},{targetSide:"top"},"label","89.2 min","62%","empty-circle");const jn=ve(G,w+950,Ee,{label:"Confirm Coverage",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"7.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"389(78%)"}],body:{fill:"#FEC49A",stroke:"#F1f1f1",strokeWidth:2}},C);te(Wn,jn,{sourceSide:"bottom"},{targetSide:"top"},"label","78.2 min","82%","empty-circle");const zi=ve(G,w+1120,Ee,{label:"Supervisor Review   ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"6.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"138(26%)"}],body:{fill:"#F4F4F5",stroke:"#F1f1f1",strokeWidth:2}},C);te(jn,zi,{sourceSide:"bottom"},{targetSide:"top"},"label","62.2 min","45%","empty-circle");const li=ve(G,w+1300,Ee,{label:"Approve for Processing",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"6.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"82(12%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}},C);te(zi,li,{sourceSide:"bottom"},{targetSide:"top"},"label","44.2 min","54%","empty-circle");const ui=fe(147,w+1500,Ee);te(li,ui,{sourceSide:"bottom"},{targetSide:"top"},"label","33.2 min","18%","empty-circle");const Is=ue(147,350,Fe),Nn=oe(v?O:30,580,Fe,{label:"Open ID Verification Tab",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"12.1 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"432(86%)"}],body:{fill:"#FE9B71",stroke:"#F1f1f1",strokeWidth:2}},v);te(Is,Nn,{sourceSide:"bottom"},{targetSide:"top"},"label","24.1 min","62%","empty-circle"),h&&te(tt,Nn,{sourceSide:"bottom"},{targetSide:"left"},"label","24.1 min","28%","empty-circle",Fe);const qn=oe(O,M+320,Fe,{label:"Enter Claimant ID         ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"22.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"298(59%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}},v);C||te(Nn,qn,{sourceSide:"bottom"},{targetSide:"top"},"label","33.2 min","36%","empty-circle");const lr=oe(O,M+540,Fe,{label:"Cross check with data",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"3.1 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"398(77%)"}],body:{fill:"#FEC49A",stroke:"#F1f1f1",strokeWidth:2}},v);te(qn,lr,{sourceSide:"bottom"},{targetSide:"top"},"label","28.8 min","72%","empty-circle");const ur=oe(O,M+740,Fe,{label:"Check Claimant's DOB",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"6.6 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"102(29%)"}],body:{fill:"#FED6A9",stroke:"#F1f1f1",strokeWidth:2}},v);te(lr,ur,{sourceSide:"bottom"},{targetSide:"top"},"label","32.5 min","69%","empty-circle");const rn=oe(O,M+950,Fe,{label:"Confirm Address       ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"7.1 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"415(83%)"}],body:{fill:"#F4F4F5",stroke:"#F1f1f1",strokeWidth:2}},v);te(ur,rn,{sourceSide:"bottom"},{targetSide:"top"},"label","41.1 min","78%","empty-circle");const mn=oe(O,M+1120,Fe,{label:"Mark as Verified       ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"6.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"102(25%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}},v);te(rn,mn,{sourceSide:"bottom"},{targetSide:"top"},"label","28.8 min","72%","empty-circle");const vn=fe(147,M+1400,Fe);te(mn,vn,{sourceSide:"bottom"},{targetSide:"top"},"label","28.8 min","72%","empty-circle");const Er=ue(147,350,ge),Ar=oe(30,580,ge,{label:"Open System Dashboard ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"7.1 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"32(82%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}});te(Er,Ar,{sourceSide:"bottom"},{targetSide:"top"},"label","24.1 min","36%","empty-circle");const Bt=oe(30,E+320,ge,{label:"Click on claims Menu",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"9.8 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"154(52%)"}],body:{fill:"#E6E6E6",stroke:"#F1f1f1",strokeWidth:2}});C&&te(Nn,Er,{sourceSide:"bottom"},{targetSide:"left"},"label","24.1 min","28%","empty-circle",ge),v||te(Ar,Bt,{sourceSide:"bottom"},{targetSide:"top"},"label","41.2 min","82%","empty-circle");const Rs=oe(30,E+540,ge,{label:"Select Verification Tab",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"7.3 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"132(43%)"}],body:{fill:"#E6E6E6",stroke:"#F1f1f1",strokeWidth:2}});te(Bt,Rs,{sourceSide:"bottom"},{targetSide:"top"},"label","33.2 min","49%","empty-circle");const Ds=oe(30,E+740,ge,{label:"Wait for Tab Load      ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"8.1 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"212(69%)"}],body:{fill:"#FEC49A",stroke:"#F1f1f1",strokeWidth:2}});te(Rs,Ds,{sourceSide:"bottom"},{targetSide:"top"},"label","42.1 min","66%","empty-circle");const Vi=oe(30,E+950,ge,{label:"Confirm Load            ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"3.6 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"89(12%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}});te(Ds,Vi,{sourceSide:"bottom"},{targetSide:"top"},"label","69.2 min","12%","empty-circle");const Bs=fe(147,E+1220,ge);te(Vi,Bs,{sourceSide:"bottom"},{targetSide:"top"},"label","28.8 min","72%","empty-circle");const Pr=ue(147,350,q),Ui=oe(30,580,q,{label:"Double click CMS desktop",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"2.6 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"452(89%)"}],body:{fill:"#E6E6E6",stroke:"#F1f1f1",strokeWidth:2}});te(Pr,Ui,{sourceSide:"bottom"},{targetSide:"top"},"label","24.1 min","62%","empty-circle"),v&&te(Ar,Pr,{sourceSide:"bottom"},{targetSide:"left"},"label","24.1 min","28%","empty-circle",q);const Tr=oe(30,820,q,{label:"Wait for app to open     ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"5.6 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"278(58%)"}],body:{fill:"#FE9B71",stroke:"#F1f1f1",strokeWidth:2}});te(Ui,Tr,{sourceSide:"bottom"},{targetSide:"top"},"label","33.2 min","36%","empty-circle");const qo=oe(30,1080,q,{label:"Enter Username           ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"7.3 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"132(43%)"}],body:{fill:"#FEC49A",stroke:"#F1f1f1",strokeWidth:2}});te(Tr,qo,{sourceSide:"bottom"},{targetSide:"top"},"label","45.1 min","51%","empty-circle");const Cr=oe(30,1300,q,{label:"Enter Password          ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"3.6 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"289(63%)"}],body:{fill:"#F4F4F5",stroke:"#F1f1f1",strokeWidth:2}});te(qo,Cr,{sourceSide:"bottom"},{targetSide:"top"},"label","32.5 min","69%","empty-circle");const ci=oe(30,1520,q,{label:"Log In                           ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"8.3 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"256(51%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}});te(Cr,ci,{sourceSide:"bottom"},{targetSide:"top"},"label","41.1 min","78%","empty-circle");const fi=oe(30,1740,q,{label:"Wait for Dashboard          ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"6.1 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"154(25%)"}],body:{fill:"#FED6A9",stroke:"#F1f1f1",strokeWidth:2}});te(ci,fi,{sourceSide:"bottom"},{targetSide:"top"},"label","29.1 min","12%","empty-circle");const Gi=fe(147,1960,q);if(te(fi,Gi,{sourceSide:"bottom"},{targetSide:"top"},"label","33.2 min","18%","empty-circle"),l&&te(ui,He,{sourceSide:"bottom"},{targetSide:"right"},"label","33.2 min","18%","empty-circle"),h&&te(vn,gn,{sourceSide:"left"},{targetSide:"right"},"label","33.2 min","18%","empty-circle"),C&&te(Bs,qn,{sourceSide:"left"},{targetSide:"right"},"label","33.2 min","18%","empty-circle"),v&&te(Gi,Bt,{sourceSide:"left"},{targetSide:"right"},"label","33.2 min","18%","empty-circle"),se.on("swimlane:collapse",({model:Re},Ue)=>{let Be;Ue.stopPropagation(),Re instanceof Lo||(Be=Re.getParentCell());const xe=De.findIndex(et=>et===Be);Re.attributes.attrs.label.text==="Claim Validation         "&&(c(!l),p(l?n:s),g(l?r:a),l&&(p(150),T(r),b(n),Z(r),R(n),U(r),k(n))),Re.attributes.attrs.label.text==="Verify Claimant ID      "&&(x(!h),b(h?n:s),T(h?r:a),h?(p(3*n),Z(r),R(n),U(r),k(n)):p(5*n)),Re.attributes.attrs.label.text==="Open ID Verification Tab"&&(L(!C),k(n),R(C?n:s),Z(C?r:a),C?(b(3*n),p(5*n),U(r),k(n)):(b(5*n),p(7*n))),Re.attributes.attrs.label.text==="Open System Dashboard "&&(S(!v),k(v?n:s),U(v?r:a),v?(R(3*n),b(4*n),p(5*n)):(R(4.5*n),b(6.5*n),p(8.5*n))),I.forEach((et,Xe)=>{Xe>xe&&et(!1)})}),se.on("info:collapse",({model:Re},Ue)=>{Ue.stopPropagation(),Re.toggleCollapse()}),se.on("header:collapse",({model:Re},Ue)=>{Ue.stopPropagation();const Be=De.findIndex(xe=>xe.id===Re.id);I.forEach((xe,et)=>{et>=Be&&xe(!1)})}),ke.layoutSwimlanes(De),se.transformToFitContent({contentArea:new he(0,0,50*2+De.length*$.width,1)}),se.fitToContent({contentArea:new he(-50,-50,50*2+De.length*$.width-20,50*3+$.height+60),allowNewOrigin:"any"}),t.current)return(Yo=t.current)==null||Yo.appendChild(se.el),()=>{se.remove()}},[l,h,C,v]),ws.jsx(ws.Fragment,{children:ws.jsx("div",{id:"paper-contianer",children:ws.jsx("div",{id:"paper",ref:t})})})}W0.createRoot(document.getElementById("root")).render(ws.jsx(Ct.StrictMode,{children:ws.jsx(bE,{})}));
