(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Tc={exports:{}},xo={},Cc={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function D0(){if(Sp)return Gt;Sp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),h=Symbol.iterator;function x(_){return _===null||typeof _!="object"?null:(_=h&&_[h]||_["@@iterator"],typeof _=="function"?_:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,P={};function T(_,j,mt){this.props=_,this.context=j,this.refs=P,this.updater=mt||w}T.prototype.isReactComponent={},T.prototype.setState=function(_,j){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,j,"setState")},T.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function C(){}C.prototype=T.prototype;function L(_,j,mt){this.props=_,this.context=j,this.refs=P,this.updater=mt||w}var M=L.prototype=new C;M.constructor=L,b(M,T.prototype),M.isPureReactComponent=!0;var R=Array.isArray,G=Object.prototype.hasOwnProperty,X={current:null},v={key:!0,ref:!0,__self:!0,__source:!0};function S(_,j,mt){var st,ut={},ft=null,et=null;if(j!=null)for(st in j.ref!==void 0&&(et=j.ref),j.key!==void 0&&(ft=""+j.key),j)G.call(j,st)&&!v.hasOwnProperty(st)&&(ut[st]=j[st]);var ot=arguments.length-2;if(ot===1)ut.children=mt;else if(1<ot){for(var vt=Array(ot),Ot=0;Ot<ot;Ot++)vt[Ot]=arguments[Ot+2];ut.children=vt}if(_&&_.defaultProps)for(st in ot=_.defaultProps,ot)ut[st]===void 0&&(ut[st]=ot[st]);return{$$typeof:t,type:_,key:ft,ref:et,props:ut,_owner:X.current}}function E(_,j){return{$$typeof:t,type:_.type,key:j,ref:_.ref,props:_.props,_owner:_._owner}}function k(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function O(_){var j={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(mt){return j[mt]})}var U=/\/+/g;function W(_,j){return typeof _=="object"&&_!==null&&_.key!=null?O(""+_.key):j.toString(36)}function Q(_,j,mt,st,ut){var ft=typeof _;(ft==="undefined"||ft==="boolean")&&(_=null);var et=!1;if(_===null)et=!0;else switch(ft){case"string":case"number":et=!0;break;case"object":switch(_.$$typeof){case t:case e:et=!0}}if(et)return et=_,ut=ut(et),_=st===""?"."+W(et,0):st,R(ut)?(mt="",_!=null&&(mt=_.replace(U,"$&/")+"/"),Q(ut,j,mt,"",function(Ot){return Ot})):ut!=null&&(k(ut)&&(ut=E(ut,mt+(!ut.key||et&&et.key===ut.key?"":(""+ut.key).replace(U,"$&/")+"/")+_)),j.push(ut)),1;if(et=0,st=st===""?".":st+":",R(_))for(var ot=0;ot<_.length;ot++){ft=_[ot];var vt=st+W(ft,ot);et+=Q(ft,j,mt,vt,ut)}else if(vt=x(_),typeof vt=="function")for(_=vt.call(_),ot=0;!(ft=_.next()).done;)ft=ft.value,vt=st+W(ft,ot++),et+=Q(ft,j,mt,vt,ut);else if(ft==="object")throw j=String(_),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return et}function it(_,j,mt){if(_==null)return _;var st=[],ut=0;return Q(_,st,"","",function(ft){return j.call(mt,ft,ut++)}),st}function I(_){if(_._status===-1){var j=_._result;j=j(),j.then(function(mt){(_._status===0||_._status===-1)&&(_._status=1,_._result=mt)},function(mt){(_._status===0||_._status===-1)&&(_._status=2,_._result=mt)}),_._status===-1&&(_._status=0,_._result=j)}if(_._status===1)return _._result.default;throw _._result}var B={current:null},N={transition:null},D={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:N,ReactCurrentOwner:X};function $(){throw Error("act(...) is not supported in production builds of React.")}return Gt.Children={map:it,forEach:function(_,j,mt){it(_,function(){j.apply(this,arguments)},mt)},count:function(_){var j=0;return it(_,function(){j++}),j},toArray:function(_){return it(_,function(j){return j})||[]},only:function(_){if(!k(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Gt.Component=T,Gt.Fragment=n,Gt.Profiler=s,Gt.PureComponent=L,Gt.StrictMode=r,Gt.Suspense=f,Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,Gt.act=$,Gt.cloneElement=function(_,j,mt){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var st=b({},_.props),ut=_.key,ft=_.ref,et=_._owner;if(j!=null){if(j.ref!==void 0&&(ft=j.ref,et=X.current),j.key!==void 0&&(ut=""+j.key),_.type&&_.type.defaultProps)var ot=_.type.defaultProps;for(vt in j)G.call(j,vt)&&!v.hasOwnProperty(vt)&&(st[vt]=j[vt]===void 0&&ot!==void 0?ot[vt]:j[vt])}var vt=arguments.length-2;if(vt===1)st.children=mt;else if(1<vt){ot=Array(vt);for(var Ot=0;Ot<vt;Ot++)ot[Ot]=arguments[Ot+2];st.children=ot}return{$$typeof:t,type:_.type,key:ut,ref:ft,props:st,_owner:et}},Gt.createContext=function(_){return _={$$typeof:l,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:a,_context:_},_.Consumer=_},Gt.createElement=S,Gt.createFactory=function(_){var j=S.bind(null,_);return j.type=_,j},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(_){return{$$typeof:c,render:_}},Gt.isValidElement=k,Gt.lazy=function(_){return{$$typeof:g,_payload:{_status:-1,_result:_},_init:I}},Gt.memo=function(_,j){return{$$typeof:p,type:_,compare:j===void 0?null:j}},Gt.startTransition=function(_){var j=N.transition;N.transition={};try{_()}finally{N.transition=j}},Gt.unstable_act=$,Gt.useCallback=function(_,j){return B.current.useCallback(_,j)},Gt.useContext=function(_){return B.current.useContext(_)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(_){return B.current.useDeferredValue(_)},Gt.useEffect=function(_,j){return B.current.useEffect(_,j)},Gt.useId=function(){return B.current.useId()},Gt.useImperativeHandle=function(_,j,mt){return B.current.useImperativeHandle(_,j,mt)},Gt.useInsertionEffect=function(_,j){return B.current.useInsertionEffect(_,j)},Gt.useLayoutEffect=function(_,j){return B.current.useLayoutEffect(_,j)},Gt.useMemo=function(_,j){return B.current.useMemo(_,j)},Gt.useReducer=function(_,j,mt){return B.current.useReducer(_,j,mt)},Gt.useRef=function(_){return B.current.useRef(_)},Gt.useState=function(_){return B.current.useState(_)},Gt.useSyncExternalStore=function(_,j,mt){return B.current.useSyncExternalStore(_,j,mt)},Gt.useTransition=function(){return B.current.useTransition()},Gt.version="18.3.1",Gt}var bp;function gf(){return bp||(bp=1,Cc.exports=D0()),Cc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function B0(){if(Ep)return xo;Ep=1;var t=gf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var g,h={},x=null,w=null;p!==void 0&&(x=""+p),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(w=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(h[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)h[g]===void 0&&(h[g]=f[g]);return{$$typeof:e,type:c,key:x,ref:w,props:h,_owner:s.current}}return xo.Fragment=n,xo.jsx=l,xo.jsxs=l,xo}var Ap;function z0(){return Ap||(Ap=1,Tc.exports=B0()),Tc.exports}var ws=z0(),Ce=gf(),Ja={},kc={exports:{}},Je={},_c={exports:{}},Lc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function V0(){return Pp||(Pp=1,function(t){function e(N,D){var $=N.length;N.push(D);t:for(;0<$;){var _=$-1>>>1,j=N[_];if(0<s(j,D))N[_]=D,N[$]=j,$=_;else break t}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var D=N[0],$=N.pop();if($!==D){N[0]=$;t:for(var _=0,j=N.length,mt=j>>>1;_<mt;){var st=2*(_+1)-1,ut=N[st],ft=st+1,et=N[ft];if(0>s(ut,$))ft<j&&0>s(et,ut)?(N[_]=et,N[ft]=$,_=ft):(N[_]=ut,N[st]=$,_=st);else if(ft<j&&0>s(et,$))N[_]=et,N[ft]=$,_=ft;else break t}}return D}function s(N,D){var $=N.sortIndex-D.sortIndex;return $!==0?$:N.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],p=[],g=1,h=null,x=3,w=!1,b=!1,P=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(N){for(var D=n(p);D!==null;){if(D.callback===null)r(p);else if(D.startTime<=N)r(p),D.sortIndex=D.expirationTime,e(f,D);else break;D=n(p)}}function R(N){if(P=!1,M(N),!b)if(n(f)!==null)b=!0,I(G);else{var D=n(p);D!==null&&B(R,D.startTime-N)}}function G(N,D){b=!1,P&&(P=!1,C(S),S=-1),w=!0;var $=x;try{for(M(D),h=n(f);h!==null&&(!(h.expirationTime>D)||N&&!O());){var _=h.callback;if(typeof _=="function"){h.callback=null,x=h.priorityLevel;var j=_(h.expirationTime<=D);D=t.unstable_now(),typeof j=="function"?h.callback=j:h===n(f)&&r(f),M(D)}else r(f);h=n(f)}if(h!==null)var mt=!0;else{var st=n(p);st!==null&&B(R,st.startTime-D),mt=!1}return mt}finally{h=null,x=$,w=!1}}var X=!1,v=null,S=-1,E=5,k=-1;function O(){return!(t.unstable_now()-k<E)}function U(){if(v!==null){var N=t.unstable_now();k=N;var D=!0;try{D=v(!0,N)}finally{D?W():(X=!1,v=null)}}else X=!1}var W;if(typeof L=="function")W=function(){L(U)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,it=Q.port2;Q.port1.onmessage=U,W=function(){it.postMessage(null)}}else W=function(){T(U,0)};function I(N){v=N,X||(X=!0,W())}function B(N,D){S=T(function(){N(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){b||w||(b=!0,I(G))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(N){switch(x){case 1:case 2:case 3:var D=3;break;default:D=x}var $=x;x=D;try{return N()}finally{x=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=x;x=N;try{return D()}finally{x=$}},t.unstable_scheduleCallback=function(N,D,$){var _=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?_+$:_):$=_,N){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=$+j,N={id:g++,callback:D,priorityLevel:N,startTime:$,expirationTime:j,sortIndex:-1},$>_?(N.sortIndex=$,e(p,N),n(f)===null&&N===n(p)&&(P?(C(S),S=-1):P=!0,B(R,$-_))):(N.sortIndex=j,e(f,N),b||w||(b=!0,I(G))),N},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(N){var D=x;return function(){var $=x;x=D;try{return N.apply(this,arguments)}finally{x=$}}}}(Lc)),Lc}var Tp;function U0(){return Tp||(Tp=1,_c.exports=V0()),_c.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function G0(){if(Cp)return Je;Cp=1;var t=gf(),e=U0();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},h={};function x(i){return f.call(h,i)?!0:f.call(g,i)?!1:p.test(i)?h[i]=!0:(g[i]=!0,!1)}function w(i,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,o,u,d){if(o===null||typeof o>"u"||w(i,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function P(i,o,u,d,m,y,A){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=A}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){T[i]=new P(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];T[o]=new P(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){T[i]=new P(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){T[i]=new P(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){T[i]=new P(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){T[i]=new P(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){T[i]=new P(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){T[i]=new P(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){T[i]=new P(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function L(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(C,L);T[o]=new P(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(C,L);T[o]=new P(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(C,L);T[o]=new P(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){T[i]=new P(i,1,!1,i.toLowerCase(),null,!1,!1)}),T.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){T[i]=new P(i,1,!1,i.toLowerCase(),null,!0,!0)});function M(i,o,u,d){var m=T.hasOwnProperty(o)?T[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,u,m,d)&&(u=null),d||m===null?x(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?i.setAttributeNS(d,o,u):i.setAttribute(o,u))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),X=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),it=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),N=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var $=Object.assign,_;function j(i){if(_===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);_=o&&o[1]||""}return`
`+_+i}var mt=!1;function st(i,o){if(!i||mt)return"";mt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var d=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){d=K}i.call(o.prototype)}else{try{throw Error()}catch(K){d=K}i()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),y=d.stack.split(`
`),A=m.length-1,F=y.length-1;1<=A&&0<=F&&m[A]!==y[F];)F--;for(;1<=A&&0<=F;A--,F--)if(m[A]!==y[F]){if(A!==1||F!==1)do if(A--,F--,0>F||m[A]!==y[F]){var V=`
`+m[A].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=A&&0<=F);break}}}finally{mt=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?j(i):""}function ut(i){switch(i.tag){case 5:return j(i.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return i=st(i.type,!1),i;case 11:return i=st(i.type.render,!1),i;case 1:return i=st(i.type,!0),i;default:return""}}function ft(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case v:return"Fragment";case X:return"Portal";case E:return"Profiler";case S:return"StrictMode";case W:return"Suspense";case Q:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case k:return(i._context.displayName||"Context")+".Provider";case U:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case it:return o=i.displayName||null,o!==null?o:ft(i.type)||"Memo";case I:o=i._payload,i=i._init;try{return ft(i(o))}catch{}}return null}function et(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ft(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ot(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function vt(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ot(i){var o=vt(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(A){d=""+A,y.call(this,A)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function kt(i){i._valueTracker||(i._valueTracker=Ot(i))}function Dt(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return i&&(d=vt(i)?i.checked?"true":"false":i.value),i=d,i!==u?(o.setValue(i),!0):!1}function Lt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Et(i,o){var u=o.checked;return $({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Ft(i,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=ot(o.value!=null?o.value:u),i._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function gt(i,o){o=o.checked,o!=null&&M(i,"checked",o,!1)}function q(i,o){gt(i,o);var u=ot(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?J(i,o.type,u):o.hasOwnProperty("defaultValue")&&J(i,o.type,ot(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function tt(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function J(i,o,u){(o!=="number"||Lt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var bt=Array.isArray;function Ht(i,o,u,d){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&d&&(i[u].defaultSelected=!0)}else{for(u=""+ot(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Vt(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return $({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ar(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(bt(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:ot(u)}}function Mn(i,o){var u=ot(o.value),d=ot(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),d!=null&&(i.defaultValue=""+d)}function Hn(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function de(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ee(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?de(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var gn,ai=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(gn=gn||document.createElement("div"),gn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=gn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Wn(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zi=["Webkit","ms","Moz","O"];Object.keys(jn).forEach(function(i){zi.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),jn[o]=jn[i]})});function li(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||jn.hasOwnProperty(i)&&jn[i]?(""+o).trim():o+"px"}function ui(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=li(u,o[u],d);u==="float"&&(u="cssFloat"),d?i.setProperty(u,m):i[u]=m}}var Is=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nn(i,o){if(o){if(Is[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function qn(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lr=null;function ur(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rn=null,mn=null,vn=null;function Er(i){if(i=ro(i)){if(typeof rn!="function")throw Error(n(280));var o=i.stateNode;o&&(o=pa(o),rn(i.stateNode,i.type,o))}}function Ar(i){mn?vn?vn.push(i):vn=[i]:mn=i}function Be(){if(mn){var i=mn,o=vn;if(vn=mn=null,Er(i),o)for(i=0;i<o.length;i++)Er(o[i])}}function Rs(i,o){return i(o)}function Ds(){}var Vi=!1;function Bs(i,o,u){if(Vi)return i(o,u);Vi=!0;try{return Rs(i,o,u)}finally{Vi=!1,(mn!==null||vn!==null)&&(Ds(),Be())}}function Pr(i,o){var u=i.stateNode;if(u===null)return null;var d=pa(u);if(d===null)return null;u=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break t;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Ui=!1;if(c)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){Ui=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{Ui=!1}function qo(i,o,u,d,m,y,A,F,V){var K=Array.prototype.slice.call(arguments,3);try{o.apply(u,K)}catch(lt){this.onError(lt)}}var Cr=!1,ci=null,fi=!1,Gi=null,Yo={onError:function(i){Cr=!0,ci=i}};function It(i,o,u,d,m,y,A,F,V){Cr=!1,ci=null,qo.apply(Yo,arguments)}function Ut(i,o,u,d,m,y,A,F,V){if(It.apply(this,arguments),Cr){if(Cr){var K=ci;Cr=!1,ci=null}else throw Error(n(198));fi||(fi=!0,Gi=K)}}function Bt(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function xt(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function te(i){if(Bt(i)!==i)throw Error(n(188))}function Xt(i){var o=i.alternate;if(!o){if(o=Bt(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,d=o;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return te(m),i;if(y===d)return te(m),o;y=y.sibling}throw Error(n(188))}if(u.return!==d.return)u=m,d=y;else{for(var A=!1,F=m.child;F;){if(F===u){A=!0,u=m,d=y;break}if(F===d){A=!0,d=m,u=y;break}F=F.sibling}if(!A){for(F=y.child;F;){if(F===u){A=!0,u=y,d=m;break}if(F===d){A=!0,d=y,u=m;break}F=F.sibling}if(!A)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function ce(i){return i=Xt(i),i!==null?ae(i):null}function ae(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=ae(i);if(o!==null)return o;i=i.sibling}return null}var sn=e.unstable_scheduleCallback,kr=e.unstable_cancelCallback,_r=e.unstable_shouldYield,Yn=e.unstable_requestPaint,re=e.unstable_now,yn=e.unstable_getCurrentPriorityLevel,Lr=e.unstable_ImmediatePriority,Mr=e.unstable_UserBlockingPriority,$i=e.unstable_NormalPriority,Kv=e.unstable_LowPriority,Qf=e.unstable_IdlePriority,Xo=null,Xn=null;function Jv(i){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(Xo,i,void 0,(i.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:ny,ty=Math.log,ey=Math.LN2;function ny(i){return i>>>=0,i===0?32:31-(ty(i)/ey|0)|0}var Zo=64,Qo=4194304;function zs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ko(i,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,m=i.suspendedLanes,y=i.pingedLanes,A=u&268435455;if(A!==0){var F=A&~m;F!==0?d=zs(F):(y&=A,y!==0&&(d=zs(y)))}else A=u&~m,A!==0?d=zs(A):y!==0&&(d=zs(y));if(d===0)return 0;if(o!==0&&o!==d&&!(o&m)&&(m=d&-d,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if(d&4&&(d|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)u=31-On(o),m=1<<u,d|=i[u],o&=~m;return d}function ry(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iy(i,o){for(var u=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var A=31-On(y),F=1<<A,V=m[A];V===-1?(!(F&u)||F&d)&&(m[A]=ry(F,o)):V<=o&&(i.expiredLanes|=F),y&=~F}}function ql(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Kf(){var i=Zo;return Zo<<=1,!(Zo&4194240)&&(Zo=64),i}function Yl(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Vs(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-On(o),i[o]=u}function sy(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-On(u),y=1<<m;o[m]=0,d[m]=-1,i[m]=-1,u&=~y}}function Xl(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var d=31-On(u),m=1<<d;m&o|i[d]&o&&(i[d]|=o),u&=~m}}var ne=0;function Jf(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var td,Zl,ed,nd,rd,Ql=!1,Jo=[],Nr=null,Or=null,Fr=null,Us=new Map,Gs=new Map,Ir=[],oy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function id(i,o){switch(i){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Us.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(o.pointerId)}}function $s(i,o,u,d,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},o!==null&&(o=ro(o),o!==null&&Zl(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function ay(i,o,u,d,m){switch(o){case"focusin":return Nr=$s(Nr,i,o,u,d,m),!0;case"dragenter":return Or=$s(Or,i,o,u,d,m),!0;case"mouseover":return Fr=$s(Fr,i,o,u,d,m),!0;case"pointerover":var y=m.pointerId;return Us.set(y,$s(Us.get(y)||null,i,o,u,d,m)),!0;case"gotpointercapture":return y=m.pointerId,Gs.set(y,$s(Gs.get(y)||null,i,o,u,d,m)),!0}return!1}function sd(i){var o=di(i.target);if(o!==null){var u=Bt(o);if(u!==null){if(o=u.tag,o===13){if(o=xt(u),o!==null){i.blockedOn=o,rd(i.priority,function(){ed(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ta(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Jl(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);lr=d,u.target.dispatchEvent(d),lr=null}else return o=ro(u),o!==null&&Zl(o),i.blockedOn=u,!1;o.shift()}return!0}function od(i,o,u){ta(i)&&u.delete(o)}function ly(){Ql=!1,Nr!==null&&ta(Nr)&&(Nr=null),Or!==null&&ta(Or)&&(Or=null),Fr!==null&&ta(Fr)&&(Fr=null),Us.forEach(od),Gs.forEach(od)}function Hs(i,o){i.blockedOn===o&&(i.blockedOn=null,Ql||(Ql=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ly)))}function Ws(i){function o(m){return Hs(m,i)}if(0<Jo.length){Hs(Jo[0],i);for(var u=1;u<Jo.length;u++){var d=Jo[u];d.blockedOn===i&&(d.blockedOn=null)}}for(Nr!==null&&Hs(Nr,i),Or!==null&&Hs(Or,i),Fr!==null&&Hs(Fr,i),Us.forEach(o),Gs.forEach(o),u=0;u<Ir.length;u++)d=Ir[u],d.blockedOn===i&&(d.blockedOn=null);for(;0<Ir.length&&(u=Ir[0],u.blockedOn===null);)sd(u),u.blockedOn===null&&Ir.shift()}var Hi=R.ReactCurrentBatchConfig,ea=!0;function uy(i,o,u,d){var m=ne,y=Hi.transition;Hi.transition=null;try{ne=1,Kl(i,o,u,d)}finally{ne=m,Hi.transition=y}}function cy(i,o,u,d){var m=ne,y=Hi.transition;Hi.transition=null;try{ne=4,Kl(i,o,u,d)}finally{ne=m,Hi.transition=y}}function Kl(i,o,u,d){if(ea){var m=Jl(i,o,u,d);if(m===null)mu(i,o,d,na,u),id(i,d);else if(ay(m,i,o,u,d))d.stopPropagation();else if(id(i,d),o&4&&-1<oy.indexOf(i)){for(;m!==null;){var y=ro(m);if(y!==null&&td(y),y=Jl(i,o,u,d),y===null&&mu(i,o,d,na,u),y===m)break;m=y}m!==null&&d.stopPropagation()}else mu(i,o,d,null,u)}}var na=null;function Jl(i,o,u,d){if(na=null,i=ur(d),i=di(i),i!==null)if(o=Bt(i),o===null)i=null;else if(u=o.tag,u===13){if(i=xt(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return na=i,null}function ad(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yn()){case Lr:return 1;case Mr:return 4;case $i:case Kv:return 16;case Qf:return 536870912;default:return 16}default:return 16}}var Rr=null,tu=null,ra=null;function ld(){if(ra)return ra;var i,o=tu,u=o.length,d,m="value"in Rr?Rr.value:Rr.textContent,y=m.length;for(i=0;i<u&&o[i]===m[i];i++);var A=u-i;for(d=1;d<=A&&o[u-d]===m[y-d];d++);return ra=m.slice(i,1<d?1-d:void 0)}function ia(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function sa(){return!0}function ud(){return!1}function on(i){function o(u,d,m,y,A){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(u=i[F],this[F]=u?u(y):y[F]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?sa:ud,this.isPropagationStopped=ud,this}return $(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),o}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=on(Wi),js=$({},Wi,{view:0,detail:0}),fy=on(js),nu,ru,qs,oa=$({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:su,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==qs&&(qs&&i.type==="mousemove"?(nu=i.screenX-qs.screenX,ru=i.screenY-qs.screenY):ru=nu=0,qs=i),nu)},movementY:function(i){return"movementY"in i?i.movementY:ru}}),cd=on(oa),dy=$({},oa,{dataTransfer:0}),hy=on(dy),py=$({},js,{relatedTarget:0}),iu=on(py),gy=$({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),my=on(gy),vy=$({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),yy=on(vy),xy=$({},Wi,{data:0}),fd=on(xy),wy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},by={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ey(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=by[i])?!!o[i]:!1}function su(){return Ey}var Ay=$({},js,{key:function(i){if(i.key){var o=wy[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ia(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Sy[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:su,charCode:function(i){return i.type==="keypress"?ia(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ia(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Py=on(Ay),Ty=$({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dd=on(Ty),Cy=$({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:su}),ky=on(Cy),_y=$({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ly=on(_y),My=$({},oa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ny=on(My),Oy=[9,13,27,32],ou=c&&"CompositionEvent"in window,Ys=null;c&&"documentMode"in document&&(Ys=document.documentMode);var Fy=c&&"TextEvent"in window&&!Ys,hd=c&&(!ou||Ys&&8<Ys&&11>=Ys),pd=" ",gd=!1;function md(i,o){switch(i){case"keyup":return Oy.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vd(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ji=!1;function Iy(i,o){switch(i){case"compositionend":return vd(o);case"keypress":return o.which!==32?null:(gd=!0,pd);case"textInput":return i=o.data,i===pd&&gd?null:i;default:return null}}function Ry(i,o){if(ji)return i==="compositionend"||!ou&&md(i,o)?(i=ld(),ra=tu=Rr=null,ji=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return hd&&o.locale!=="ko"?null:o.data;default:return null}}var Dy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Dy[i.type]:o==="textarea"}function xd(i,o,u,d){Ar(d),o=fa(o,"onChange"),0<o.length&&(u=new eu("onChange","change",null,u,d),i.push({event:u,listeners:o}))}var Xs=null,Zs=null;function By(i){Dd(i,0)}function aa(i){var o=Qi(i);if(Dt(o))return i}function zy(i,o){if(i==="change")return o}var wd=!1;if(c){var au;if(c){var lu="oninput"in document;if(!lu){var Sd=document.createElement("div");Sd.setAttribute("oninput","return;"),lu=typeof Sd.oninput=="function"}au=lu}else au=!1;wd=au&&(!document.documentMode||9<document.documentMode)}function bd(){Xs&&(Xs.detachEvent("onpropertychange",Ed),Zs=Xs=null)}function Ed(i){if(i.propertyName==="value"&&aa(Zs)){var o=[];xd(o,Zs,i,ur(i)),Bs(By,o)}}function Vy(i,o,u){i==="focusin"?(bd(),Xs=o,Zs=u,Xs.attachEvent("onpropertychange",Ed)):i==="focusout"&&bd()}function Uy(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return aa(Zs)}function Gy(i,o){if(i==="click")return aa(o)}function $y(i,o){if(i==="input"||i==="change")return aa(o)}function Hy(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Fn=typeof Object.is=="function"?Object.is:Hy;function Qs(i,o){if(Fn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!f.call(o,m)||!Fn(i[m],o[m]))return!1}return!0}function Ad(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Pd(i,o){var u=Ad(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=o&&d>=o)return{node:u,offset:o-i};i=d}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Ad(u)}}function Td(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Td(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Cd(){for(var i=window,o=Lt();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Lt(i.document)}return o}function uu(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Wy(i){var o=Cd(),u=i.focusedElem,d=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Td(u.ownerDocument.documentElement,u)){if(d!==null&&uu(u)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!i.extend&&y>d&&(m=d,d=y,y=m),m=Pd(u,y);var A=Pd(u,d);m&&A&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==A.node||i.focusOffset!==A.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),y>d?(i.addRange(o),i.extend(A.node,A.offset)):(o.setEnd(A.node,A.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var jy=c&&"documentMode"in document&&11>=document.documentMode,qi=null,cu=null,Ks=null,fu=!1;function kd(i,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;fu||qi==null||qi!==Lt(d)||(d=qi,"selectionStart"in d&&uu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ks&&Qs(Ks,d)||(Ks=d,d=fa(cu,"onSelect"),0<d.length&&(o=new eu("onSelect","select",null,o,u),i.push({event:o,listeners:d}),o.target=qi)))}function la(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Yi={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionend:la("Transition","TransitionEnd")},du={},_d={};c&&(_d=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function ua(i){if(du[i])return du[i];if(!Yi[i])return i;var o=Yi[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in _d)return du[i]=o[u];return i}var Ld=ua("animationend"),Md=ua("animationiteration"),Nd=ua("animationstart"),Od=ua("transitionend"),Fd=new Map,Id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(i,o){Fd.set(i,o),a(o,[i])}for(var hu=0;hu<Id.length;hu++){var pu=Id[hu],qy=pu.toLowerCase(),Yy=pu[0].toUpperCase()+pu.slice(1);Dr(qy,"on"+Yy)}Dr(Ld,"onAnimationEnd"),Dr(Md,"onAnimationIteration"),Dr(Nd,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Od,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Js));function Rd(i,o,u){var d=i.type||"unknown-event";i.currentTarget=u,Ut(d,o,void 0,i),i.currentTarget=null}function Dd(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],m=d.event;d=d.listeners;t:{var y=void 0;if(o)for(var A=d.length-1;0<=A;A--){var F=d[A],V=F.instance,K=F.currentTarget;if(F=F.listener,V!==y&&m.isPropagationStopped())break t;Rd(m,F,K),y=V}else for(A=0;A<d.length;A++){if(F=d[A],V=F.instance,K=F.currentTarget,F=F.listener,V!==y&&m.isPropagationStopped())break t;Rd(m,F,K),y=V}}}if(fi)throw i=Gi,fi=!1,Gi=null,i}function le(i,o){var u=o[bu];u===void 0&&(u=o[bu]=new Set);var d=i+"__bubble";u.has(d)||(Bd(o,i,2,!1),u.add(d))}function gu(i,o,u){var d=0;o&&(d|=4),Bd(u,i,d,o)}var ca="_reactListening"+Math.random().toString(36).slice(2);function to(i){if(!i[ca]){i[ca]=!0,r.forEach(function(u){u!=="selectionchange"&&(Xy.has(u)||gu(u,!1,i),gu(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ca]||(o[ca]=!0,gu("selectionchange",!1,o))}}function Bd(i,o,u,d){switch(ad(o)){case 1:var m=uy;break;case 4:m=cy;break;default:m=Kl}u=m.bind(null,o,u,i),m=void 0,!Ui||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function mu(i,o,u,d,m){var y=d;if(!(o&1)&&!(o&2)&&d!==null)t:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var F=d.stateNode.containerInfo;if(F===m||F.nodeType===8&&F.parentNode===m)break;if(A===4)for(A=d.return;A!==null;){var V=A.tag;if((V===3||V===4)&&(V=A.stateNode.containerInfo,V===m||V.nodeType===8&&V.parentNode===m))return;A=A.return}for(;F!==null;){if(A=di(F),A===null)return;if(V=A.tag,V===5||V===6){d=y=A;continue t}F=F.parentNode}}d=d.return}Bs(function(){var K=y,lt=ur(u),ct=[];t:{var at=Fd.get(i);if(at!==void 0){var St=eu,Pt=i;switch(i){case"keypress":if(ia(u)===0)break t;case"keydown":case"keyup":St=Py;break;case"focusin":Pt="focus",St=iu;break;case"focusout":Pt="blur",St=iu;break;case"beforeblur":case"afterblur":St=iu;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":St=cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":St=hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":St=ky;break;case Ld:case Md:case Nd:St=my;break;case Od:St=Ly;break;case"scroll":St=fy;break;case"wheel":St=Ny;break;case"copy":case"cut":case"paste":St=yy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":St=dd}var Tt=(o&4)!==0,ve=!Tt&&i==="scroll",Y=Tt?at!==null?at+"Capture":null:at;Tt=[];for(var H=K,Z;H!==null;){Z=H;var pt=Z.stateNode;if(Z.tag===5&&pt!==null&&(Z=pt,Y!==null&&(pt=Pr(H,Y),pt!=null&&Tt.push(eo(H,pt,Z)))),ve)break;H=H.return}0<Tt.length&&(at=new St(at,Pt,null,u,lt),ct.push({event:at,listeners:Tt}))}}if(!(o&7)){t:{if(at=i==="mouseover"||i==="pointerover",St=i==="mouseout"||i==="pointerout",at&&u!==lr&&(Pt=u.relatedTarget||u.fromElement)&&(di(Pt)||Pt[cr]))break t;if((St||at)&&(at=lt.window===lt?lt:(at=lt.ownerDocument)?at.defaultView||at.parentWindow:window,St?(Pt=u.relatedTarget||u.toElement,St=K,Pt=Pt?di(Pt):null,Pt!==null&&(ve=Bt(Pt),Pt!==ve||Pt.tag!==5&&Pt.tag!==6)&&(Pt=null)):(St=null,Pt=K),St!==Pt)){if(Tt=cd,pt="onMouseLeave",Y="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Tt=dd,pt="onPointerLeave",Y="onPointerEnter",H="pointer"),ve=St==null?at:Qi(St),Z=Pt==null?at:Qi(Pt),at=new Tt(pt,H+"leave",St,u,lt),at.target=ve,at.relatedTarget=Z,pt=null,di(lt)===K&&(Tt=new Tt(Y,H+"enter",Pt,u,lt),Tt.target=Z,Tt.relatedTarget=ve,pt=Tt),ve=pt,St&&Pt)e:{for(Tt=St,Y=Pt,H=0,Z=Tt;Z;Z=Xi(Z))H++;for(Z=0,pt=Y;pt;pt=Xi(pt))Z++;for(;0<H-Z;)Tt=Xi(Tt),H--;for(;0<Z-H;)Y=Xi(Y),Z--;for(;H--;){if(Tt===Y||Y!==null&&Tt===Y.alternate)break e;Tt=Xi(Tt),Y=Xi(Y)}Tt=null}else Tt=null;St!==null&&zd(ct,at,St,Tt,!1),Pt!==null&&ve!==null&&zd(ct,ve,Pt,Tt,!0)}}t:{if(at=K?Qi(K):window,St=at.nodeName&&at.nodeName.toLowerCase(),St==="select"||St==="input"&&at.type==="file")var _t=zy;else if(yd(at))if(wd)_t=$y;else{_t=Uy;var Mt=Vy}else(St=at.nodeName)&&St.toLowerCase()==="input"&&(at.type==="checkbox"||at.type==="radio")&&(_t=Gy);if(_t&&(_t=_t(i,K))){xd(ct,_t,u,lt);break t}Mt&&Mt(i,at,K),i==="focusout"&&(Mt=at._wrapperState)&&Mt.controlled&&at.type==="number"&&J(at,"number",at.value)}switch(Mt=K?Qi(K):window,i){case"focusin":(yd(Mt)||Mt.contentEditable==="true")&&(qi=Mt,cu=K,Ks=null);break;case"focusout":Ks=cu=qi=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,kd(ct,u,lt);break;case"selectionchange":if(jy)break;case"keydown":case"keyup":kd(ct,u,lt)}var Nt;if(ou)t:{switch(i){case"compositionstart":var Rt="onCompositionStart";break t;case"compositionend":Rt="onCompositionEnd";break t;case"compositionupdate":Rt="onCompositionUpdate";break t}Rt=void 0}else ji?md(i,u)&&(Rt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Rt="onCompositionStart");Rt&&(hd&&u.locale!=="ko"&&(ji||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&ji&&(Nt=ld()):(Rr=lt,tu="value"in Rr?Rr.value:Rr.textContent,ji=!0)),Mt=fa(K,Rt),0<Mt.length&&(Rt=new fd(Rt,i,null,u,lt),ct.push({event:Rt,listeners:Mt}),Nt?Rt.data=Nt:(Nt=vd(u),Nt!==null&&(Rt.data=Nt)))),(Nt=Fy?Iy(i,u):Ry(i,u))&&(K=fa(K,"onBeforeInput"),0<K.length&&(lt=new fd("onBeforeInput","beforeinput",null,u,lt),ct.push({event:lt,listeners:K}),lt.data=Nt))}Dd(ct,o)})}function eo(i,o,u){return{instance:i,listener:o,currentTarget:u}}function fa(i,o){for(var u=o+"Capture",d=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=Pr(i,u),y!=null&&d.unshift(eo(i,y,m)),y=Pr(i,o),y!=null&&d.push(eo(i,y,m))),i=i.return}return d}function Xi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function zd(i,o,u,d,m){for(var y=o._reactName,A=[];u!==null&&u!==d;){var F=u,V=F.alternate,K=F.stateNode;if(V!==null&&V===d)break;F.tag===5&&K!==null&&(F=K,m?(V=Pr(u,y),V!=null&&A.unshift(eo(u,V,F))):m||(V=Pr(u,y),V!=null&&A.push(eo(u,V,F)))),u=u.return}A.length!==0&&i.push({event:o,listeners:A})}var Zy=/\r\n?/g,Qy=/\u0000|\uFFFD/g;function Vd(i){return(typeof i=="string"?i:""+i).replace(Zy,`
`).replace(Qy,"")}function da(i,o,u){if(o=Vd(o),Vd(i)!==o&&u)throw Error(n(425))}function ha(){}var vu=null,yu=null;function xu(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var wu=typeof setTimeout=="function"?setTimeout:void 0,Ky=typeof clearTimeout=="function"?clearTimeout:void 0,Ud=typeof Promise=="function"?Promise:void 0,Jy=typeof queueMicrotask=="function"?queueMicrotask:typeof Ud<"u"?function(i){return Ud.resolve(null).then(i).catch(t0)}:wu;function t0(i){setTimeout(function(){throw i})}function Su(i,o){var u=o,d=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){i.removeChild(m),Ws(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);Ws(o)}function Br(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Gd(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Zi,no="__reactProps$"+Zi,cr="__reactContainer$"+Zi,bu="__reactEvents$"+Zi,e0="__reactListeners$"+Zi,n0="__reactHandles$"+Zi;function di(i){var o=i[Zn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[cr]||u[Zn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Gd(i);i!==null;){if(u=i[Zn])return u;i=Gd(i)}return o}i=u,u=i.parentNode}return null}function ro(i){return i=i[Zn]||i[cr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Qi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function pa(i){return i[no]||null}var Eu=[],Ki=-1;function zr(i){return{current:i}}function ue(i){0>Ki||(i.current=Eu[Ki],Eu[Ki]=null,Ki--)}function oe(i,o){Ki++,Eu[Ki]=i.current,i.current=o}var Vr={},Oe=zr(Vr),Ye=zr(!1),hi=Vr;function Ji(i,o){var u=i.type.contextTypes;if(!u)return Vr;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in u)m[y]=o[y];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function Xe(i){return i=i.childContextTypes,i!=null}function ga(){ue(Ye),ue(Oe)}function $d(i,o,u){if(Oe.current!==Vr)throw Error(n(168));oe(Oe,o),oe(Ye,u)}function Hd(i,o,u){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(n(108,et(i)||"Unknown",m));return $({},u,d)}function ma(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vr,hi=Oe.current,oe(Oe,i),oe(Ye,Ye.current),!0}function Wd(i,o,u){var d=i.stateNode;if(!d)throw Error(n(169));u?(i=Hd(i,o,hi),d.__reactInternalMemoizedMergedChildContext=i,ue(Ye),ue(Oe),oe(Oe,i)):ue(Ye),oe(Ye,u)}var fr=null,va=!1,Au=!1;function jd(i){fr===null?fr=[i]:fr.push(i)}function r0(i){va=!0,jd(i)}function Ur(){if(!Au&&fr!==null){Au=!0;var i=0,o=ne;try{var u=fr;for(ne=1;i<u.length;i++){var d=u[i];do d=d(!0);while(d!==null)}fr=null,va=!1}catch(m){throw fr!==null&&(fr=fr.slice(i+1)),sn(Lr,Ur),m}finally{ne=o,Au=!1}}return null}var ts=[],es=0,ya=null,xa=0,xn=[],wn=0,pi=null,dr=1,hr="";function gi(i,o){ts[es++]=xa,ts[es++]=ya,ya=i,xa=o}function qd(i,o,u){xn[wn++]=dr,xn[wn++]=hr,xn[wn++]=pi,pi=i;var d=dr;i=hr;var m=32-On(d)-1;d&=~(1<<m),u+=1;var y=32-On(o)+m;if(30<y){var A=m-m%5;y=(d&(1<<A)-1).toString(32),d>>=A,m-=A,dr=1<<32-On(o)+m|u<<m|d,hr=y+i}else dr=1<<y|u<<m|d,hr=i}function Pu(i){i.return!==null&&(gi(i,1),qd(i,1,0))}function Tu(i){for(;i===ya;)ya=ts[--es],ts[es]=null,xa=ts[--es],ts[es]=null;for(;i===pi;)pi=xn[--wn],xn[wn]=null,hr=xn[--wn],xn[wn]=null,dr=xn[--wn],xn[wn]=null}var an=null,ln=null,fe=!1,In=null;function Yd(i,o){var u=An(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Xd(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,an=i,ln=Br(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,an=i,ln=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=pi!==null?{id:dr,overflow:hr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=An(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,an=i,ln=null,!0):!1;default:return!1}}function Cu(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ku(i){if(fe){var o=ln;if(o){var u=o;if(!Xd(i,o)){if(Cu(i))throw Error(n(418));o=Br(u.nextSibling);var d=an;o&&Xd(i,o)?Yd(d,u):(i.flags=i.flags&-4097|2,fe=!1,an=i)}}else{if(Cu(i))throw Error(n(418));i.flags=i.flags&-4097|2,fe=!1,an=i}}}function Zd(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;an=i}function wa(i){if(i!==an)return!1;if(!fe)return Zd(i),fe=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!xu(i.type,i.memoizedProps)),o&&(o=ln)){if(Cu(i))throw Qd(),Error(n(418));for(;o;)Yd(i,o),o=Br(o.nextSibling)}if(Zd(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));t:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){ln=Br(i.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}ln=null}}else ln=an?Br(i.stateNode.nextSibling):null;return!0}function Qd(){for(var i=ln;i;)i=Br(i.nextSibling)}function ns(){ln=an=null,fe=!1}function _u(i){In===null?In=[i]:In.push(i)}var i0=R.ReactCurrentBatchConfig;function io(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,i));var m=d,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(A){var F=m.refs;A===null?delete F[y]:F[y]=A},o._stringRef=y,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Sa(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Kd(i){var o=i._init;return o(i._payload)}function Jd(i){function o(Y,H){if(i){var Z=Y.deletions;Z===null?(Y.deletions=[H],Y.flags|=16):Z.push(H)}}function u(Y,H){if(!i)return null;for(;H!==null;)o(Y,H),H=H.sibling;return null}function d(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function m(Y,H){return Y=Xr(Y,H),Y.index=0,Y.sibling=null,Y}function y(Y,H,Z){return Y.index=Z,i?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<H?(Y.flags|=2,H):Z):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function A(Y){return i&&Y.alternate===null&&(Y.flags|=2),Y}function F(Y,H,Z,pt){return H===null||H.tag!==6?(H=wc(Z,Y.mode,pt),H.return=Y,H):(H=m(H,Z),H.return=Y,H)}function V(Y,H,Z,pt){var _t=Z.type;return _t===v?lt(Y,H,Z.props.children,pt,Z.key):H!==null&&(H.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===I&&Kd(_t)===H.type)?(pt=m(H,Z.props),pt.ref=io(Y,H,Z),pt.return=Y,pt):(pt=Wa(Z.type,Z.key,Z.props,null,Y.mode,pt),pt.ref=io(Y,H,Z),pt.return=Y,pt)}function K(Y,H,Z,pt){return H===null||H.tag!==4||H.stateNode.containerInfo!==Z.containerInfo||H.stateNode.implementation!==Z.implementation?(H=Sc(Z,Y.mode,pt),H.return=Y,H):(H=m(H,Z.children||[]),H.return=Y,H)}function lt(Y,H,Z,pt,_t){return H===null||H.tag!==7?(H=Ei(Z,Y.mode,pt,_t),H.return=Y,H):(H=m(H,Z),H.return=Y,H)}function ct(Y,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number")return H=wc(""+H,Y.mode,Z),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case G:return Z=Wa(H.type,H.key,H.props,null,Y.mode,Z),Z.ref=io(Y,null,H),Z.return=Y,Z;case X:return H=Sc(H,Y.mode,Z),H.return=Y,H;case I:var pt=H._init;return ct(Y,pt(H._payload),Z)}if(bt(H)||D(H))return H=Ei(H,Y.mode,Z,null),H.return=Y,H;Sa(Y,H)}return null}function at(Y,H,Z,pt){var _t=H!==null?H.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return _t!==null?null:F(Y,H,""+Z,pt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case G:return Z.key===_t?V(Y,H,Z,pt):null;case X:return Z.key===_t?K(Y,H,Z,pt):null;case I:return _t=Z._init,at(Y,H,_t(Z._payload),pt)}if(bt(Z)||D(Z))return _t!==null?null:lt(Y,H,Z,pt,null);Sa(Y,Z)}return null}function St(Y,H,Z,pt,_t){if(typeof pt=="string"&&pt!==""||typeof pt=="number")return Y=Y.get(Z)||null,F(H,Y,""+pt,_t);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case G:return Y=Y.get(pt.key===null?Z:pt.key)||null,V(H,Y,pt,_t);case X:return Y=Y.get(pt.key===null?Z:pt.key)||null,K(H,Y,pt,_t);case I:var Mt=pt._init;return St(Y,H,Z,Mt(pt._payload),_t)}if(bt(pt)||D(pt))return Y=Y.get(Z)||null,lt(H,Y,pt,_t,null);Sa(H,pt)}return null}function Pt(Y,H,Z,pt){for(var _t=null,Mt=null,Nt=H,Rt=H=0,Te=null;Nt!==null&&Rt<Z.length;Rt++){Nt.index>Rt?(Te=Nt,Nt=null):Te=Nt.sibling;var Qt=at(Y,Nt,Z[Rt],pt);if(Qt===null){Nt===null&&(Nt=Te);break}i&&Nt&&Qt.alternate===null&&o(Y,Nt),H=y(Qt,H,Rt),Mt===null?_t=Qt:Mt.sibling=Qt,Mt=Qt,Nt=Te}if(Rt===Z.length)return u(Y,Nt),fe&&gi(Y,Rt),_t;if(Nt===null){for(;Rt<Z.length;Rt++)Nt=ct(Y,Z[Rt],pt),Nt!==null&&(H=y(Nt,H,Rt),Mt===null?_t=Nt:Mt.sibling=Nt,Mt=Nt);return fe&&gi(Y,Rt),_t}for(Nt=d(Y,Nt);Rt<Z.length;Rt++)Te=St(Nt,Y,Rt,Z[Rt],pt),Te!==null&&(i&&Te.alternate!==null&&Nt.delete(Te.key===null?Rt:Te.key),H=y(Te,H,Rt),Mt===null?_t=Te:Mt.sibling=Te,Mt=Te);return i&&Nt.forEach(function(Zr){return o(Y,Zr)}),fe&&gi(Y,Rt),_t}function Tt(Y,H,Z,pt){var _t=D(Z);if(typeof _t!="function")throw Error(n(150));if(Z=_t.call(Z),Z==null)throw Error(n(151));for(var Mt=_t=null,Nt=H,Rt=H=0,Te=null,Qt=Z.next();Nt!==null&&!Qt.done;Rt++,Qt=Z.next()){Nt.index>Rt?(Te=Nt,Nt=null):Te=Nt.sibling;var Zr=at(Y,Nt,Qt.value,pt);if(Zr===null){Nt===null&&(Nt=Te);break}i&&Nt&&Zr.alternate===null&&o(Y,Nt),H=y(Zr,H,Rt),Mt===null?_t=Zr:Mt.sibling=Zr,Mt=Zr,Nt=Te}if(Qt.done)return u(Y,Nt),fe&&gi(Y,Rt),_t;if(Nt===null){for(;!Qt.done;Rt++,Qt=Z.next())Qt=ct(Y,Qt.value,pt),Qt!==null&&(H=y(Qt,H,Rt),Mt===null?_t=Qt:Mt.sibling=Qt,Mt=Qt);return fe&&gi(Y,Rt),_t}for(Nt=d(Y,Nt);!Qt.done;Rt++,Qt=Z.next())Qt=St(Nt,Y,Rt,Qt.value,pt),Qt!==null&&(i&&Qt.alternate!==null&&Nt.delete(Qt.key===null?Rt:Qt.key),H=y(Qt,H,Rt),Mt===null?_t=Qt:Mt.sibling=Qt,Mt=Qt);return i&&Nt.forEach(function(R0){return o(Y,R0)}),fe&&gi(Y,Rt),_t}function ve(Y,H,Z,pt){if(typeof Z=="object"&&Z!==null&&Z.type===v&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case G:t:{for(var _t=Z.key,Mt=H;Mt!==null;){if(Mt.key===_t){if(_t=Z.type,_t===v){if(Mt.tag===7){u(Y,Mt.sibling),H=m(Mt,Z.props.children),H.return=Y,Y=H;break t}}else if(Mt.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===I&&Kd(_t)===Mt.type){u(Y,Mt.sibling),H=m(Mt,Z.props),H.ref=io(Y,Mt,Z),H.return=Y,Y=H;break t}u(Y,Mt);break}else o(Y,Mt);Mt=Mt.sibling}Z.type===v?(H=Ei(Z.props.children,Y.mode,pt,Z.key),H.return=Y,Y=H):(pt=Wa(Z.type,Z.key,Z.props,null,Y.mode,pt),pt.ref=io(Y,H,Z),pt.return=Y,Y=pt)}return A(Y);case X:t:{for(Mt=Z.key;H!==null;){if(H.key===Mt)if(H.tag===4&&H.stateNode.containerInfo===Z.containerInfo&&H.stateNode.implementation===Z.implementation){u(Y,H.sibling),H=m(H,Z.children||[]),H.return=Y,Y=H;break t}else{u(Y,H);break}else o(Y,H);H=H.sibling}H=Sc(Z,Y.mode,pt),H.return=Y,Y=H}return A(Y);case I:return Mt=Z._init,ve(Y,H,Mt(Z._payload),pt)}if(bt(Z))return Pt(Y,H,Z,pt);if(D(Z))return Tt(Y,H,Z,pt);Sa(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,H!==null&&H.tag===6?(u(Y,H.sibling),H=m(H,Z),H.return=Y,Y=H):(u(Y,H),H=wc(Z,Y.mode,pt),H.return=Y,Y=H),A(Y)):u(Y,H)}return ve}var rs=Jd(!0),th=Jd(!1),ba=zr(null),Ea=null,is=null,Lu=null;function Mu(){Lu=is=Ea=null}function Nu(i){var o=ba.current;ue(ba),i._currentValue=o}function Ou(i,o,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===u)break;i=i.return}}function ss(i,o){Ea=i,Lu=is=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(Ze=!0),i.firstContext=null)}function Sn(i){var o=i._currentValue;if(Lu!==i)if(i={context:i,memoizedValue:o,next:null},is===null){if(Ea===null)throw Error(n(308));is=i,Ea.dependencies={lanes:0,firstContext:i}}else is=is.next=i;return o}var mi=null;function Fu(i){mi===null?mi=[i]:mi.push(i)}function eh(i,o,u,d){var m=o.interleaved;return m===null?(u.next=u,Fu(o)):(u.next=m.next,m.next=u),o.interleaved=u,pr(i,d)}function pr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Gr=!1;function Iu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nh(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function gr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function $r(i,o,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,Zt&2){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,pr(i,u)}return m=d.interleaved,m===null?(o.next=o,Fu(d)):(o.next=m.next,m.next=o),d.interleaved=o,pr(i,u)}function Aa(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Xl(i,u)}}function rh(i,o){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var A={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?m=y=A:y=y.next=A,u=u.next}while(u!==null);y===null?m=y=o:y=y.next=o}else m=y=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Pa(i,o,u,d){var m=i.updateQueue;Gr=!1;var y=m.firstBaseUpdate,A=m.lastBaseUpdate,F=m.shared.pending;if(F!==null){m.shared.pending=null;var V=F,K=V.next;V.next=null,A===null?y=K:A.next=K,A=V;var lt=i.alternate;lt!==null&&(lt=lt.updateQueue,F=lt.lastBaseUpdate,F!==A&&(F===null?lt.firstBaseUpdate=K:F.next=K,lt.lastBaseUpdate=V))}if(y!==null){var ct=m.baseState;A=0,lt=K=V=null,F=y;do{var at=F.lane,St=F.eventTime;if((d&at)===at){lt!==null&&(lt=lt.next={eventTime:St,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});t:{var Pt=i,Tt=F;switch(at=o,St=u,Tt.tag){case 1:if(Pt=Tt.payload,typeof Pt=="function"){ct=Pt.call(St,ct,at);break t}ct=Pt;break t;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=Tt.payload,at=typeof Pt=="function"?Pt.call(St,ct,at):Pt,at==null)break t;ct=$({},ct,at);break t;case 2:Gr=!0}}F.callback!==null&&F.lane!==0&&(i.flags|=64,at=m.effects,at===null?m.effects=[F]:at.push(F))}else St={eventTime:St,lane:at,tag:F.tag,payload:F.payload,callback:F.callback,next:null},lt===null?(K=lt=St,V=ct):lt=lt.next=St,A|=at;if(F=F.next,F===null){if(F=m.shared.pending,F===null)break;at=F,F=at.next,at.next=null,m.lastBaseUpdate=at,m.shared.pending=null}}while(!0);if(lt===null&&(V=ct),m.baseState=V,m.firstBaseUpdate=K,m.lastBaseUpdate=lt,o=m.shared.interleaved,o!==null){m=o;do A|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);xi|=A,i.lanes=A,i.memoizedState=ct}}function ih(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var so={},Qn=zr(so),oo=zr(so),ao=zr(so);function vi(i){if(i===so)throw Error(n(174));return i}function Ru(i,o){switch(oe(ao,o),oe(oo,i),oe(Qn,so),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ee(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=ee(o,i)}ue(Qn),oe(Qn,o)}function os(){ue(Qn),ue(oo),ue(ao)}function sh(i){vi(ao.current);var o=vi(Qn.current),u=ee(o,i.type);o!==u&&(oe(oo,i),oe(Qn,u))}function Du(i){oo.current===i&&(ue(Qn),ue(oo))}var he=zr(0);function Ta(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Bu=[];function zu(){for(var i=0;i<Bu.length;i++)Bu[i]._workInProgressVersionPrimary=null;Bu.length=0}var Ca=R.ReactCurrentDispatcher,Vu=R.ReactCurrentBatchConfig,yi=0,pe=null,Se=null,Ae=null,ka=!1,lo=!1,uo=0,s0=0;function Fe(){throw Error(n(321))}function Uu(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Fn(i[u],o[u]))return!1;return!0}function Gu(i,o,u,d,m,y){if(yi=y,pe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ca.current=i===null||i.memoizedState===null?u0:c0,i=u(d,m),lo){y=0;do{if(lo=!1,uo=0,25<=y)throw Error(n(301));y+=1,Ae=Se=null,o.updateQueue=null,Ca.current=f0,i=u(d,m)}while(lo)}if(Ca.current=Ma,o=Se!==null&&Se.next!==null,yi=0,Ae=Se=pe=null,ka=!1,o)throw Error(n(300));return i}function $u(){var i=uo!==0;return uo=0,i}function Kn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?pe.memoizedState=Ae=i:Ae=Ae.next=i,Ae}function bn(){if(Se===null){var i=pe.alternate;i=i!==null?i.memoizedState:null}else i=Se.next;var o=Ae===null?pe.memoizedState:Ae.next;if(o!==null)Ae=o,Se=i;else{if(i===null)throw Error(n(310));Se=i,i={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ae===null?pe.memoizedState=Ae=i:Ae=Ae.next=i}return Ae}function co(i,o){return typeof o=="function"?o(i):o}function Hu(i){var o=bn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=Se,m=d.baseQueue,y=u.pending;if(y!==null){if(m!==null){var A=m.next;m.next=y.next,y.next=A}d.baseQueue=m=y,u.pending=null}if(m!==null){y=m.next,d=d.baseState;var F=A=null,V=null,K=y;do{var lt=K.lane;if((yi&lt)===lt)V!==null&&(V=V.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:i(d,K.action);else{var ct={lane:lt,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};V===null?(F=V=ct,A=d):V=V.next=ct,pe.lanes|=lt,xi|=lt}K=K.next}while(K!==null&&K!==y);V===null?A=d:V.next=F,Fn(d,o.memoizedState)||(Ze=!0),o.memoizedState=d,o.baseState=A,o.baseQueue=V,u.lastRenderedState=d}if(i=u.interleaved,i!==null){m=i;do y=m.lane,pe.lanes|=y,xi|=y,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Wu(i){var o=bn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=u.dispatch,m=u.pending,y=o.memoizedState;if(m!==null){u.pending=null;var A=m=m.next;do y=i(y,A.action),A=A.next;while(A!==m);Fn(y,o.memoizedState)||(Ze=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,d]}function oh(){}function ah(i,o){var u=pe,d=bn(),m=o(),y=!Fn(d.memoizedState,m);if(y&&(d.memoizedState=m,Ze=!0),d=d.queue,ju(ch.bind(null,u,d,i),[i]),d.getSnapshot!==o||y||Ae!==null&&Ae.memoizedState.tag&1){if(u.flags|=2048,fo(9,uh.bind(null,u,d,m,o),void 0,null),Pe===null)throw Error(n(349));yi&30||lh(u,o,m)}return m}function lh(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=pe.updateQueue,o===null?(o={lastEffect:null,stores:null},pe.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function uh(i,o,u,d){o.value=u,o.getSnapshot=d,fh(o)&&dh(i)}function ch(i,o,u){return u(function(){fh(o)&&dh(i)})}function fh(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Fn(i,u)}catch{return!0}}function dh(i){var o=pr(i,1);o!==null&&zn(o,i,1,-1)}function hh(i){var o=Kn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:i},o.queue=i,i=i.dispatch=l0.bind(null,pe,i),[o.memoizedState,i]}function fo(i,o,u,d){return i={tag:i,create:o,destroy:u,deps:d,next:null},o=pe.updateQueue,o===null?(o={lastEffect:null,stores:null},pe.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,o.lastEffect=i)),i}function ph(){return bn().memoizedState}function _a(i,o,u,d){var m=Kn();pe.flags|=i,m.memoizedState=fo(1|o,u,void 0,d===void 0?null:d)}function La(i,o,u,d){var m=bn();d=d===void 0?null:d;var y=void 0;if(Se!==null){var A=Se.memoizedState;if(y=A.destroy,d!==null&&Uu(d,A.deps)){m.memoizedState=fo(o,u,y,d);return}}pe.flags|=i,m.memoizedState=fo(1|o,u,y,d)}function gh(i,o){return _a(8390656,8,i,o)}function ju(i,o){return La(2048,8,i,o)}function mh(i,o){return La(4,2,i,o)}function vh(i,o){return La(4,4,i,o)}function yh(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function xh(i,o,u){return u=u!=null?u.concat([i]):null,La(4,4,yh.bind(null,o,i),u)}function qu(){}function wh(i,o){var u=bn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Uu(o,d[1])?d[0]:(u.memoizedState=[i,o],i)}function Sh(i,o){var u=bn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Uu(o,d[1])?d[0]:(i=i(),u.memoizedState=[i,o],i)}function bh(i,o,u){return yi&21?(Fn(u,o)||(u=Kf(),pe.lanes|=u,xi|=u,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,Ze=!0),i.memoizedState=u)}function o0(i,o){var u=ne;ne=u!==0&&4>u?u:4,i(!0);var d=Vu.transition;Vu.transition={};try{i(!1),o()}finally{ne=u,Vu.transition=d}}function Eh(){return bn().memoizedState}function a0(i,o,u){var d=qr(i);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},Ah(i))Ph(o,u);else if(u=eh(i,o,u,d),u!==null){var m=Ve();zn(u,i,d,m),Th(u,o,d)}}function l0(i,o,u){var d=qr(i),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ah(i))Ph(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var A=o.lastRenderedState,F=y(A,u);if(m.hasEagerState=!0,m.eagerState=F,Fn(F,A)){var V=o.interleaved;V===null?(m.next=m,Fu(o)):(m.next=V.next,V.next=m),o.interleaved=m;return}}catch{}finally{}u=eh(i,o,m,d),u!==null&&(m=Ve(),zn(u,i,d,m),Th(u,o,d))}}function Ah(i){var o=i.alternate;return i===pe||o!==null&&o===pe}function Ph(i,o){lo=ka=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Th(i,o,u){if(u&4194240){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Xl(i,u)}}var Ma={readContext:Sn,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},u0={readContext:Sn,useCallback:function(i,o){return Kn().memoizedState=[i,o===void 0?null:o],i},useContext:Sn,useEffect:gh,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,_a(4194308,4,yh.bind(null,o,i),u)},useLayoutEffect:function(i,o){return _a(4194308,4,i,o)},useInsertionEffect:function(i,o){return _a(4,2,i,o)},useMemo:function(i,o){var u=Kn();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var d=Kn();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=a0.bind(null,pe,i),[d.memoizedState,i]},useRef:function(i){var o=Kn();return i={current:i},o.memoizedState=i},useState:hh,useDebugValue:qu,useDeferredValue:function(i){return Kn().memoizedState=i},useTransition:function(){var i=hh(!1),o=i[0];return i=o0.bind(null,i[1]),Kn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var d=pe,m=Kn();if(fe){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Pe===null)throw Error(n(349));yi&30||lh(d,o,u)}m.memoizedState=u;var y={value:u,getSnapshot:o};return m.queue=y,gh(ch.bind(null,d,y,i),[i]),d.flags|=2048,fo(9,uh.bind(null,d,y,u,o),void 0,null),u},useId:function(){var i=Kn(),o=Pe.identifierPrefix;if(fe){var u=hr,d=dr;u=(d&~(1<<32-On(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=uo++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=s0++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},c0={readContext:Sn,useCallback:wh,useContext:Sn,useEffect:ju,useImperativeHandle:xh,useInsertionEffect:mh,useLayoutEffect:vh,useMemo:Sh,useReducer:Hu,useRef:ph,useState:function(){return Hu(co)},useDebugValue:qu,useDeferredValue:function(i){var o=bn();return bh(o,Se.memoizedState,i)},useTransition:function(){var i=Hu(co)[0],o=bn().memoizedState;return[i,o]},useMutableSource:oh,useSyncExternalStore:ah,useId:Eh,unstable_isNewReconciler:!1},f0={readContext:Sn,useCallback:wh,useContext:Sn,useEffect:ju,useImperativeHandle:xh,useInsertionEffect:mh,useLayoutEffect:vh,useMemo:Sh,useReducer:Wu,useRef:ph,useState:function(){return Wu(co)},useDebugValue:qu,useDeferredValue:function(i){var o=bn();return Se===null?o.memoizedState=i:bh(o,Se.memoizedState,i)},useTransition:function(){var i=Wu(co)[0],o=bn().memoizedState;return[i,o]},useMutableSource:oh,useSyncExternalStore:ah,useId:Eh,unstable_isNewReconciler:!1};function Rn(i,o){if(i&&i.defaultProps){o=$({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Yu(i,o,u,d){o=i.memoizedState,u=u(d,o),u=u==null?o:$({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Na={isMounted:function(i){return(i=i._reactInternals)?Bt(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var d=Ve(),m=qr(i),y=gr(d,m);y.payload=o,u!=null&&(y.callback=u),o=$r(i,y,m),o!==null&&(zn(o,i,m,d),Aa(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var d=Ve(),m=qr(i),y=gr(d,m);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=$r(i,y,m),o!==null&&(zn(o,i,m,d),Aa(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Ve(),d=qr(i),m=gr(u,d);m.tag=2,o!=null&&(m.callback=o),o=$r(i,m,d),o!==null&&(zn(o,i,d,u),Aa(o,i,d))}};function Ch(i,o,u,d,m,y,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,A):o.prototype&&o.prototype.isPureReactComponent?!Qs(u,d)||!Qs(m,y):!0}function kh(i,o,u){var d=!1,m=Vr,y=o.contextType;return typeof y=="object"&&y!==null?y=Sn(y):(m=Xe(o)?hi:Oe.current,d=o.contextTypes,y=(d=d!=null)?Ji(i,m):Vr),o=new o(u,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Na,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),o}function _h(i,o,u,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==i&&Na.enqueueReplaceState(o,o.state,null)}function Xu(i,o,u,d){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Iu(i);var y=o.contextType;typeof y=="object"&&y!==null?m.context=Sn(y):(y=Xe(o)?hi:Oe.current,m.context=Ji(i,y)),m.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Yu(i,o,y,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Na.enqueueReplaceState(m,m.state,null),Pa(i,u,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function as(i,o){try{var u="",d=o;do u+=ut(d),d=d.return;while(d);var m=u}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:m,digest:null}}function Zu(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Qu(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var d0=typeof WeakMap=="function"?WeakMap:Map;function Lh(i,o,u){u=gr(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){za||(za=!0,dc=d),Qu(i,o)},u}function Mh(i,o,u){u=gr(-1,u),u.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){Qu(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){Qu(i,o),typeof d!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})}),u}function Nh(i,o,u){var d=i.pingCache;if(d===null){d=i.pingCache=new d0;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),i=T0.bind(null,i,o,u),o.then(i,i))}function Oh(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Fh(i,o,u,d,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=gr(-1,1),o.tag=2,$r(u,o,1))),u.lanes|=1),i)}var h0=R.ReactCurrentOwner,Ze=!1;function ze(i,o,u,d){o.child=i===null?th(o,null,u,d):rs(o,i.child,u,d)}function Ih(i,o,u,d,m){u=u.render;var y=o.ref;return ss(o,m),d=Gu(i,o,u,d,y,m),u=$u(),i!==null&&!Ze?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,mr(i,o,m)):(fe&&u&&Pu(o),o.flags|=1,ze(i,o,d,m),o.child)}function Rh(i,o,u,d,m){if(i===null){var y=u.type;return typeof y=="function"&&!xc(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=y,Dh(i,o,y,d,m)):(i=Wa(u.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,!(i.lanes&m)){var A=y.memoizedProps;if(u=u.compare,u=u!==null?u:Qs,u(A,d)&&i.ref===o.ref)return mr(i,o,m)}return o.flags|=1,i=Xr(y,d),i.ref=o.ref,i.return=o,o.child=i}function Dh(i,o,u,d,m){if(i!==null){var y=i.memoizedProps;if(Qs(y,d)&&i.ref===o.ref)if(Ze=!1,o.pendingProps=d=y,(i.lanes&m)!==0)i.flags&131072&&(Ze=!0);else return o.lanes=i.lanes,mr(i,o,m)}return Ku(i,o,u,d,m)}function Bh(i,o,u){var d=o.pendingProps,m=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(us,un),un|=u;else{if(!(u&1073741824))return i=y!==null?y.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,oe(us,un),un|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:u,oe(us,un),un|=d}else y!==null?(d=y.baseLanes|u,o.memoizedState=null):d=u,oe(us,un),un|=d;return ze(i,o,m,u),o.child}function zh(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Ku(i,o,u,d,m){var y=Xe(u)?hi:Oe.current;return y=Ji(o,y),ss(o,m),u=Gu(i,o,u,d,y,m),d=$u(),i!==null&&!Ze?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,mr(i,o,m)):(fe&&d&&Pu(o),o.flags|=1,ze(i,o,u,m),o.child)}function Vh(i,o,u,d,m){if(Xe(u)){var y=!0;ma(o)}else y=!1;if(ss(o,m),o.stateNode===null)Fa(i,o),kh(o,u,d),Xu(o,u,d,m),d=!0;else if(i===null){var A=o.stateNode,F=o.memoizedProps;A.props=F;var V=A.context,K=u.contextType;typeof K=="object"&&K!==null?K=Sn(K):(K=Xe(u)?hi:Oe.current,K=Ji(o,K));var lt=u.getDerivedStateFromProps,ct=typeof lt=="function"||typeof A.getSnapshotBeforeUpdate=="function";ct||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==d||V!==K)&&_h(o,A,d,K),Gr=!1;var at=o.memoizedState;A.state=at,Pa(o,d,A,m),V=o.memoizedState,F!==d||at!==V||Ye.current||Gr?(typeof lt=="function"&&(Yu(o,u,lt,d),V=o.memoizedState),(F=Gr||Ch(o,u,F,d,at,V,K))?(ct||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=V),A.props=d,A.state=V,A.context=K,d=F):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{A=o.stateNode,nh(i,o),F=o.memoizedProps,K=o.type===o.elementType?F:Rn(o.type,F),A.props=K,ct=o.pendingProps,at=A.context,V=u.contextType,typeof V=="object"&&V!==null?V=Sn(V):(V=Xe(u)?hi:Oe.current,V=Ji(o,V));var St=u.getDerivedStateFromProps;(lt=typeof St=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==ct||at!==V)&&_h(o,A,d,V),Gr=!1,at=o.memoizedState,A.state=at,Pa(o,d,A,m);var Pt=o.memoizedState;F!==ct||at!==Pt||Ye.current||Gr?(typeof St=="function"&&(Yu(o,u,St,d),Pt=o.memoizedState),(K=Gr||Ch(o,u,K,d,at,Pt,V)||!1)?(lt||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(d,Pt,V),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(d,Pt,V)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||F===i.memoizedProps&&at===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&at===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Pt),A.props=d,A.state=Pt,A.context=V,d=K):(typeof A.componentDidUpdate!="function"||F===i.memoizedProps&&at===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&at===i.memoizedState||(o.flags|=1024),d=!1)}return Ju(i,o,u,d,y,m)}function Ju(i,o,u,d,m,y){zh(i,o);var A=(o.flags&128)!==0;if(!d&&!A)return m&&Wd(o,u,!1),mr(i,o,y);d=o.stateNode,h0.current=o;var F=A&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&A?(o.child=rs(o,i.child,null,y),o.child=rs(o,null,F,y)):ze(i,o,F,y),o.memoizedState=d.state,m&&Wd(o,u,!0),o.child}function Uh(i){var o=i.stateNode;o.pendingContext?$d(i,o.pendingContext,o.pendingContext!==o.context):o.context&&$d(i,o.context,!1),Ru(i,o.containerInfo)}function Gh(i,o,u,d,m){return ns(),_u(m),o.flags|=256,ze(i,o,u,d),o.child}var tc={dehydrated:null,treeContext:null,retryLane:0};function ec(i){return{baseLanes:i,cachePool:null,transitions:null}}function $h(i,o,u){var d=o.pendingProps,m=he.current,y=!1,A=(o.flags&128)!==0,F;if((F=A)||(F=i!==null&&i.memoizedState===null?!1:(m&2)!==0),F?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),oe(he,m&1),i===null)return ku(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(A=d.children,i=d.fallback,y?(d=o.mode,y=o.child,A={mode:"hidden",children:A},!(d&1)&&y!==null?(y.childLanes=0,y.pendingProps=A):y=ja(A,d,0,null),i=Ei(i,d,u,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=ec(u),o.memoizedState=tc,i):nc(o,A));if(m=i.memoizedState,m!==null&&(F=m.dehydrated,F!==null))return p0(i,o,A,d,F,m,u);if(y){y=d.fallback,A=o.mode,m=i.child,F=m.sibling;var V={mode:"hidden",children:d.children};return!(A&1)&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=V,o.deletions=null):(d=Xr(m,V),d.subtreeFlags=m.subtreeFlags&14680064),F!==null?y=Xr(F,y):(y=Ei(y,A,u,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,A=i.child.memoizedState,A=A===null?ec(u):{baseLanes:A.baseLanes|u,cachePool:null,transitions:A.transitions},y.memoizedState=A,y.childLanes=i.childLanes&~u,o.memoizedState=tc,d}return y=i.child,i=y.sibling,d=Xr(y,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=u),d.return=o,d.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=d,o.memoizedState=null,d}function nc(i,o){return o=ja({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Oa(i,o,u,d){return d!==null&&_u(d),rs(o,i.child,null,u),i=nc(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function p0(i,o,u,d,m,y,A){if(u)return o.flags&256?(o.flags&=-257,d=Zu(Error(n(422))),Oa(i,o,A,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=d.fallback,m=o.mode,d=ja({mode:"visible",children:d.children},m,0,null),y=Ei(y,m,A,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,o.mode&1&&rs(o,i.child,null,A),o.child.memoizedState=ec(A),o.memoizedState=tc,y);if(!(o.mode&1))return Oa(i,o,A,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var F=d.dgst;return d=F,y=Error(n(419)),d=Zu(y,d,void 0),Oa(i,o,A,d)}if(F=(A&i.childLanes)!==0,Ze||F){if(d=Pe,d!==null){switch(A&-A){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|A)?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,pr(i,m),zn(d,i,m,-1))}return yc(),d=Zu(Error(n(421))),Oa(i,o,A,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=C0.bind(null,i),m._reactRetry=o,null):(i=y.treeContext,ln=Br(m.nextSibling),an=o,fe=!0,In=null,i!==null&&(xn[wn++]=dr,xn[wn++]=hr,xn[wn++]=pi,dr=i.id,hr=i.overflow,pi=o),o=nc(o,d.children),o.flags|=4096,o)}function Hh(i,o,u){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Ou(i.return,o,u)}function rc(i,o,u,d,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=u,y.tailMode=m)}function Wh(i,o,u){var d=o.pendingProps,m=d.revealOrder,y=d.tail;if(ze(i,o,d.children,u),d=he.current,d&2)d=d&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Hh(i,u,o);else if(i.tag===19)Hh(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break t;for(;i.sibling===null;){if(i.return===null||i.return===o)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(oe(he,d),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Ta(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),rc(o,!1,m,u,y);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Ta(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}rc(o,!0,u,null,y);break;case"together":rc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Fa(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function mr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),xi|=o.lanes,!(u&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Xr(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Xr(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function g0(i,o,u){switch(o.tag){case 3:Uh(o),ns();break;case 5:sh(o);break;case 1:Xe(o.type)&&ma(o);break;case 4:Ru(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;oe(ba,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(oe(he,he.current&1),o.flags|=128,null):u&o.child.childLanes?$h(i,o,u):(oe(he,he.current&1),i=mr(i,o,u),i!==null?i.sibling:null);oe(he,he.current&1);break;case 19:if(d=(u&o.childLanes)!==0,i.flags&128){if(d)return Wh(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),oe(he,he.current),d)break;return null;case 22:case 23:return o.lanes=0,Bh(i,o,u)}return mr(i,o,u)}var jh,ic,qh,Yh;jh=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},ic=function(){},qh=function(i,o,u,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,vi(Qn.current);var y=null;switch(u){case"input":m=Et(i,m),d=Et(i,d),y=[];break;case"select":m=$({},m,{value:void 0}),d=$({},d,{value:void 0}),y=[];break;case"textarea":m=Vt(i,m),d=Vt(i,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=ha)}Nn(u,d);var A;u=null;for(K in m)if(!d.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var F=m[K];for(A in F)F.hasOwnProperty(A)&&(u||(u={}),u[A]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in d){var V=d[K];if(F=m!=null?m[K]:void 0,d.hasOwnProperty(K)&&V!==F&&(V!=null||F!=null))if(K==="style")if(F){for(A in F)!F.hasOwnProperty(A)||V&&V.hasOwnProperty(A)||(u||(u={}),u[A]="");for(A in V)V.hasOwnProperty(A)&&F[A]!==V[A]&&(u||(u={}),u[A]=V[A])}else u||(y||(y=[]),y.push(K,u)),u=V;else K==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,F=F?F.__html:void 0,V!=null&&F!==V&&(y=y||[]).push(K,V)):K==="children"?typeof V!="string"&&typeof V!="number"||(y=y||[]).push(K,""+V):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(V!=null&&K==="onScroll"&&le("scroll",i),y||F===V||(y=[])):(y=y||[]).push(K,V))}u&&(y=y||[]).push("style",u);var K=y;(o.updateQueue=K)&&(o.flags|=4)}},Yh=function(i,o,u,d){u!==d&&(o.flags|=4)};function ho(i,o){if(!fe)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Ie(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=u,o}function m0(i,o,u){var d=o.pendingProps;switch(Tu(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(o),null;case 1:return Xe(o.type)&&ga(),Ie(o),null;case 3:return d=o.stateNode,os(),ue(Ye),ue(Oe),zu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(wa(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,In!==null&&(gc(In),In=null))),ic(i,o),Ie(o),null;case 5:Du(o);var m=vi(ao.current);if(u=o.type,i!==null&&o.stateNode!=null)qh(i,o,u,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Ie(o),null}if(i=vi(Qn.current),wa(o)){d=o.stateNode,u=o.type;var y=o.memoizedProps;switch(d[Zn]=o,d[no]=y,i=(o.mode&1)!==0,u){case"dialog":le("cancel",d),le("close",d);break;case"iframe":case"object":case"embed":le("load",d);break;case"video":case"audio":for(m=0;m<Js.length;m++)le(Js[m],d);break;case"source":le("error",d);break;case"img":case"image":case"link":le("error",d),le("load",d);break;case"details":le("toggle",d);break;case"input":Ft(d,y),le("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},le("invalid",d);break;case"textarea":ar(d,y),le("invalid",d)}Nn(u,y),m=null;for(var A in y)if(y.hasOwnProperty(A)){var F=y[A];A==="children"?typeof F=="string"?d.textContent!==F&&(y.suppressHydrationWarning!==!0&&da(d.textContent,F,i),m=["children",F]):typeof F=="number"&&d.textContent!==""+F&&(y.suppressHydrationWarning!==!0&&da(d.textContent,F,i),m=["children",""+F]):s.hasOwnProperty(A)&&F!=null&&A==="onScroll"&&le("scroll",d)}switch(u){case"input":kt(d),tt(d,y,!0);break;case"textarea":kt(d),Hn(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=ha)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{A=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=de(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=A.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=A.createElement(u,{is:d.is}):(i=A.createElement(u),u==="select"&&(A=i,d.multiple?A.multiple=!0:d.size&&(A.size=d.size))):i=A.createElementNS(i,u),i[Zn]=o,i[no]=d,jh(i,o,!1,!1),o.stateNode=i;t:{switch(A=qn(u,d),u){case"dialog":le("cancel",i),le("close",i),m=d;break;case"iframe":case"object":case"embed":le("load",i),m=d;break;case"video":case"audio":for(m=0;m<Js.length;m++)le(Js[m],i);m=d;break;case"source":le("error",i),m=d;break;case"img":case"image":case"link":le("error",i),le("load",i),m=d;break;case"details":le("toggle",i),m=d;break;case"input":Ft(i,d),m=Et(i,d),le("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=$({},d,{value:void 0}),le("invalid",i);break;case"textarea":ar(i,d),m=Vt(i,d),le("invalid",i);break;default:m=d}Nn(u,m),F=m;for(y in F)if(F.hasOwnProperty(y)){var V=F[y];y==="style"?ui(i,V):y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&ai(i,V)):y==="children"?typeof V=="string"?(u!=="textarea"||V!=="")&&Wn(i,V):typeof V=="number"&&Wn(i,""+V):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?V!=null&&y==="onScroll"&&le("scroll",i):V!=null&&M(i,y,V,A))}switch(u){case"input":kt(i),tt(i,d,!1);break;case"textarea":kt(i),Hn(i);break;case"option":d.value!=null&&i.setAttribute("value",""+ot(d.value));break;case"select":i.multiple=!!d.multiple,y=d.value,y!=null?Ht(i,!!d.multiple,y,!1):d.defaultValue!=null&&Ht(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=ha)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break t;case"img":d=!0;break t;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ie(o),null;case 6:if(i&&o.stateNode!=null)Yh(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=vi(ao.current),vi(Qn.current),wa(o)){if(d=o.stateNode,u=o.memoizedProps,d[Zn]=o,(y=d.nodeValue!==u)&&(i=an,i!==null))switch(i.tag){case 3:da(d.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&da(d.nodeValue,u,(i.mode&1)!==0)}y&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[Zn]=o,o.stateNode=d}return Ie(o),null;case 13:if(ue(he),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(fe&&ln!==null&&o.mode&1&&!(o.flags&128))Qd(),ns(),o.flags|=98560,y=!1;else if(y=wa(o),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Zn]=o}else ns(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Ie(o),y=!1}else In!==null&&(gc(In),In=null),y=!0;if(!y)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(i===null||he.current&1?be===0&&(be=3):yc())),o.updateQueue!==null&&(o.flags|=4),Ie(o),null);case 4:return os(),ic(i,o),i===null&&to(o.stateNode.containerInfo),Ie(o),null;case 10:return Nu(o.type._context),Ie(o),null;case 17:return Xe(o.type)&&ga(),Ie(o),null;case 19:if(ue(he),y=o.memoizedState,y===null)return Ie(o),null;if(d=(o.flags&128)!==0,A=y.rendering,A===null)if(d)ho(y,!1);else{if(be!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(A=Ta(i),A!==null){for(o.flags|=128,ho(y,!1),d=A.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)y=u,i=d,y.flags&=14680066,A=y.alternate,A===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=A.childLanes,y.lanes=A.lanes,y.child=A.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=A.memoizedProps,y.memoizedState=A.memoizedState,y.updateQueue=A.updateQueue,y.type=A.type,i=A.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return oe(he,he.current&1|2),o.child}i=i.sibling}y.tail!==null&&re()>cs&&(o.flags|=128,d=!0,ho(y,!1),o.lanes=4194304)}else{if(!d)if(i=Ta(A),i!==null){if(o.flags|=128,d=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),ho(y,!0),y.tail===null&&y.tailMode==="hidden"&&!A.alternate&&!fe)return Ie(o),null}else 2*re()-y.renderingStartTime>cs&&u!==1073741824&&(o.flags|=128,d=!0,ho(y,!1),o.lanes=4194304);y.isBackwards?(A.sibling=o.child,o.child=A):(u=y.last,u!==null?u.sibling=A:o.child=A,y.last=A)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=re(),o.sibling=null,u=he.current,oe(he,d?u&1|2:u&1),o):(Ie(o),null);case 22:case 23:return vc(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?un&1073741824&&(Ie(o),o.subtreeFlags&6&&(o.flags|=8192)):Ie(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function v0(i,o){switch(Tu(o),o.tag){case 1:return Xe(o.type)&&ga(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return os(),ue(Ye),ue(Oe),zu(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Du(o),null;case 13:if(ue(he),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ns()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ue(he),null;case 4:return os(),null;case 10:return Nu(o.type._context),null;case 22:case 23:return vc(),null;case 24:return null;default:return null}}var Ia=!1,Re=!1,y0=typeof WeakSet=="function"?WeakSet:Set,At=null;function ls(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){ge(i,o,d)}else u.current=null}function sc(i,o,u){try{u()}catch(d){ge(i,o,d)}}var Xh=!1;function x0(i,o){if(vu=ea,i=Cd(),uu(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else t:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break t}var A=0,F=-1,V=-1,K=0,lt=0,ct=i,at=null;e:for(;;){for(var St;ct!==u||m!==0&&ct.nodeType!==3||(F=A+m),ct!==y||d!==0&&ct.nodeType!==3||(V=A+d),ct.nodeType===3&&(A+=ct.nodeValue.length),(St=ct.firstChild)!==null;)at=ct,ct=St;for(;;){if(ct===i)break e;if(at===u&&++K===m&&(F=A),at===y&&++lt===d&&(V=A),(St=ct.nextSibling)!==null)break;ct=at,at=ct.parentNode}ct=St}u=F===-1||V===-1?null:{start:F,end:V}}else u=null}u=u||{start:0,end:0}}else u=null;for(yu={focusedElem:i,selectionRange:u},ea=!1,At=o;At!==null;)if(o=At,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,At=i;else for(;At!==null;){o=At;try{var Pt=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Pt!==null){var Tt=Pt.memoizedProps,ve=Pt.memoizedState,Y=o.stateNode,H=Y.getSnapshotBeforeUpdate(o.elementType===o.type?Tt:Rn(o.type,Tt),ve);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Z=o.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pt){ge(o,o.return,pt)}if(i=o.sibling,i!==null){i.return=o.return,At=i;break}At=o.return}return Pt=Xh,Xh=!1,Pt}function po(i,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&sc(o,u,y)}m=m.next}while(m!==d)}}function Ra(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function oc(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Zh(i){var o=i.alternate;o!==null&&(i.alternate=null,Zh(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Zn],delete o[no],delete o[bu],delete o[e0],delete o[n0])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Qh(i){return i.tag===5||i.tag===3||i.tag===4}function Kh(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Qh(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ac(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ha));else if(d!==4&&(i=i.child,i!==null))for(ac(i,o,u),i=i.sibling;i!==null;)ac(i,o,u),i=i.sibling}function lc(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(lc(i,o,u),i=i.sibling;i!==null;)lc(i,o,u),i=i.sibling}var ke=null,Dn=!1;function Hr(i,o,u){for(u=u.child;u!==null;)Jh(i,o,u),u=u.sibling}function Jh(i,o,u){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(Xo,u)}catch{}switch(u.tag){case 5:Re||ls(u,o);case 6:var d=ke,m=Dn;ke=null,Hr(i,o,u),ke=d,Dn=m,ke!==null&&(Dn?(i=ke,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):ke.removeChild(u.stateNode));break;case 18:ke!==null&&(Dn?(i=ke,u=u.stateNode,i.nodeType===8?Su(i.parentNode,u):i.nodeType===1&&Su(i,u),Ws(i)):Su(ke,u.stateNode));break;case 4:d=ke,m=Dn,ke=u.stateNode.containerInfo,Dn=!0,Hr(i,o,u),ke=d,Dn=m;break;case 0:case 11:case 14:case 15:if(!Re&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,A=y.destroy;y=y.tag,A!==void 0&&(y&2||y&4)&&sc(u,o,A),m=m.next}while(m!==d)}Hr(i,o,u);break;case 1:if(!Re&&(ls(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(F){ge(u,o,F)}Hr(i,o,u);break;case 21:Hr(i,o,u);break;case 22:u.mode&1?(Re=(d=Re)||u.memoizedState!==null,Hr(i,o,u),Re=d):Hr(i,o,u);break;default:Hr(i,o,u)}}function tp(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new y0),o.forEach(function(d){var m=k0.bind(null,i,d);u.has(d)||(u.add(d),d.then(m,m))})}}function Bn(i,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var y=i,A=o,F=A;t:for(;F!==null;){switch(F.tag){case 5:ke=F.stateNode,Dn=!1;break t;case 3:ke=F.stateNode.containerInfo,Dn=!0;break t;case 4:ke=F.stateNode.containerInfo,Dn=!0;break t}F=F.return}if(ke===null)throw Error(n(160));Jh(y,A,m),ke=null,Dn=!1;var V=m.alternate;V!==null&&(V.return=null),m.return=null}catch(K){ge(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ep(o,i),o=o.sibling}function ep(i,o){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Bn(o,i),Jn(i),d&4){try{po(3,i,i.return),Ra(3,i)}catch(Tt){ge(i,i.return,Tt)}try{po(5,i,i.return)}catch(Tt){ge(i,i.return,Tt)}}break;case 1:Bn(o,i),Jn(i),d&512&&u!==null&&ls(u,u.return);break;case 5:if(Bn(o,i),Jn(i),d&512&&u!==null&&ls(u,u.return),i.flags&32){var m=i.stateNode;try{Wn(m,"")}catch(Tt){ge(i,i.return,Tt)}}if(d&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,A=u!==null?u.memoizedProps:y,F=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{F==="input"&&y.type==="radio"&&y.name!=null&&gt(m,y),qn(F,A);var K=qn(F,y);for(A=0;A<V.length;A+=2){var lt=V[A],ct=V[A+1];lt==="style"?ui(m,ct):lt==="dangerouslySetInnerHTML"?ai(m,ct):lt==="children"?Wn(m,ct):M(m,lt,ct,K)}switch(F){case"input":q(m,y);break;case"textarea":Mn(m,y);break;case"select":var at=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var St=y.value;St!=null?Ht(m,!!y.multiple,St,!1):at!==!!y.multiple&&(y.defaultValue!=null?Ht(m,!!y.multiple,y.defaultValue,!0):Ht(m,!!y.multiple,y.multiple?[]:"",!1))}m[no]=y}catch(Tt){ge(i,i.return,Tt)}}break;case 6:if(Bn(o,i),Jn(i),d&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(Tt){ge(i,i.return,Tt)}}break;case 3:if(Bn(o,i),Jn(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Ws(o.containerInfo)}catch(Tt){ge(i,i.return,Tt)}break;case 4:Bn(o,i),Jn(i);break;case 13:Bn(o,i),Jn(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(fc=re())),d&4&&tp(i);break;case 22:if(lt=u!==null&&u.memoizedState!==null,i.mode&1?(Re=(K=Re)||lt,Bn(o,i),Re=K):Bn(o,i),Jn(i),d&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!lt&&i.mode&1)for(At=i,lt=i.child;lt!==null;){for(ct=At=lt;At!==null;){switch(at=At,St=at.child,at.tag){case 0:case 11:case 14:case 15:po(4,at,at.return);break;case 1:ls(at,at.return);var Pt=at.stateNode;if(typeof Pt.componentWillUnmount=="function"){d=at,u=at.return;try{o=d,Pt.props=o.memoizedProps,Pt.state=o.memoizedState,Pt.componentWillUnmount()}catch(Tt){ge(d,u,Tt)}}break;case 5:ls(at,at.return);break;case 22:if(at.memoizedState!==null){ip(ct);continue}}St!==null?(St.return=at,At=St):ip(ct)}lt=lt.sibling}t:for(lt=null,ct=i;;){if(ct.tag===5){if(lt===null){lt=ct;try{m=ct.stateNode,K?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(F=ct.stateNode,V=ct.memoizedProps.style,A=V!=null&&V.hasOwnProperty("display")?V.display:null,F.style.display=li("display",A))}catch(Tt){ge(i,i.return,Tt)}}}else if(ct.tag===6){if(lt===null)try{ct.stateNode.nodeValue=K?"":ct.memoizedProps}catch(Tt){ge(i,i.return,Tt)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===i)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===i)break t;for(;ct.sibling===null;){if(ct.return===null||ct.return===i)break t;lt===ct&&(lt=null),ct=ct.return}lt===ct&&(lt=null),ct.sibling.return=ct.return,ct=ct.sibling}}break;case 19:Bn(o,i),Jn(i),d&4&&tp(i);break;case 21:break;default:Bn(o,i),Jn(i)}}function Jn(i){var o=i.flags;if(o&2){try{t:{for(var u=i.return;u!==null;){if(Qh(u)){var d=u;break t}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Wn(m,""),d.flags&=-33);var y=Kh(i);lc(i,y,m);break;case 3:case 4:var A=d.stateNode.containerInfo,F=Kh(i);ac(i,F,A);break;default:throw Error(n(161))}}catch(V){ge(i,i.return,V)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function w0(i,o,u){At=i,np(i)}function np(i,o,u){for(var d=(i.mode&1)!==0;At!==null;){var m=At,y=m.child;if(m.tag===22&&d){var A=m.memoizedState!==null||Ia;if(!A){var F=m.alternate,V=F!==null&&F.memoizedState!==null||Re;F=Ia;var K=Re;if(Ia=A,(Re=V)&&!K)for(At=m;At!==null;)A=At,V=A.child,A.tag===22&&A.memoizedState!==null?sp(m):V!==null?(V.return=A,At=V):sp(m);for(;y!==null;)At=y,np(y),y=y.sibling;At=m,Ia=F,Re=K}rp(i)}else m.subtreeFlags&8772&&y!==null?(y.return=m,At=y):rp(i)}}function rp(i){for(;At!==null;){var o=At;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Re||Ra(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Re)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:Rn(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&ih(o,y,d);break;case 3:var A=o.updateQueue;if(A!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}ih(o,A,u)}break;case 5:var F=o.stateNode;if(u===null&&o.flags&4){u=F;var V=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&u.focus();break;case"img":V.src&&(u.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var lt=K.memoizedState;if(lt!==null){var ct=lt.dehydrated;ct!==null&&Ws(ct)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Re||o.flags&512&&oc(o)}catch(at){ge(o,o.return,at)}}if(o===i){At=null;break}if(u=o.sibling,u!==null){u.return=o.return,At=u;break}At=o.return}}function ip(i){for(;At!==null;){var o=At;if(o===i){At=null;break}var u=o.sibling;if(u!==null){u.return=o.return,At=u;break}At=o.return}}function sp(i){for(;At!==null;){var o=At;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Ra(4,o)}catch(V){ge(o,u,V)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(V){ge(o,m,V)}}var y=o.return;try{oc(o)}catch(V){ge(o,y,V)}break;case 5:var A=o.return;try{oc(o)}catch(V){ge(o,A,V)}}}catch(V){ge(o,o.return,V)}if(o===i){At=null;break}var F=o.sibling;if(F!==null){F.return=o.return,At=F;break}At=o.return}}var S0=Math.ceil,Da=R.ReactCurrentDispatcher,uc=R.ReactCurrentOwner,En=R.ReactCurrentBatchConfig,Zt=0,Pe=null,we=null,_e=0,un=0,us=zr(0),be=0,go=null,xi=0,Ba=0,cc=0,mo=null,Qe=null,fc=0,cs=1/0,vr=null,za=!1,dc=null,Wr=null,Va=!1,jr=null,Ua=0,vo=0,hc=null,Ga=-1,$a=0;function Ve(){return Zt&6?re():Ga!==-1?Ga:Ga=re()}function qr(i){return i.mode&1?Zt&2&&_e!==0?_e&-_e:i0.transition!==null?($a===0&&($a=Kf()),$a):(i=ne,i!==0||(i=window.event,i=i===void 0?16:ad(i.type)),i):1}function zn(i,o,u,d){if(50<vo)throw vo=0,hc=null,Error(n(185));Vs(i,u,d),(!(Zt&2)||i!==Pe)&&(i===Pe&&(!(Zt&2)&&(Ba|=u),be===4&&Yr(i,_e)),Ke(i,d),u===1&&Zt===0&&!(o.mode&1)&&(cs=re()+500,va&&Ur()))}function Ke(i,o){var u=i.callbackNode;iy(i,o);var d=Ko(i,i===Pe?_e:0);if(d===0)u!==null&&kr(u),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(u!=null&&kr(u),o===1)i.tag===0?r0(ap.bind(null,i)):jd(ap.bind(null,i)),Jy(function(){!(Zt&6)&&Ur()}),u=null;else{switch(Jf(d)){case 1:u=Lr;break;case 4:u=Mr;break;case 16:u=$i;break;case 536870912:u=Qf;break;default:u=$i}u=gp(u,op.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function op(i,o){if(Ga=-1,$a=0,Zt&6)throw Error(n(327));var u=i.callbackNode;if(fs()&&i.callbackNode!==u)return null;var d=Ko(i,i===Pe?_e:0);if(d===0)return null;if(d&30||d&i.expiredLanes||o)o=Ha(i,d);else{o=d;var m=Zt;Zt|=2;var y=up();(Pe!==i||_e!==o)&&(vr=null,cs=re()+500,Si(i,o));do try{A0();break}catch(F){lp(i,F)}while(!0);Mu(),Da.current=y,Zt=m,we!==null?o=0:(Pe=null,_e=0,o=be)}if(o!==0){if(o===2&&(m=ql(i),m!==0&&(d=m,o=pc(i,m))),o===1)throw u=go,Si(i,0),Yr(i,d),Ke(i,re()),u;if(o===6)Yr(i,d);else{if(m=i.current.alternate,!(d&30)&&!b0(m)&&(o=Ha(i,d),o===2&&(y=ql(i),y!==0&&(d=y,o=pc(i,y))),o===1))throw u=go,Si(i,0),Yr(i,d),Ke(i,re()),u;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:bi(i,Qe,vr);break;case 3:if(Yr(i,d),(d&130023424)===d&&(o=fc+500-re(),10<o)){if(Ko(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){Ve(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=wu(bi.bind(null,i,Qe,vr),o);break}bi(i,Qe,vr);break;case 4:if(Yr(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var A=31-On(d);y=1<<A,A=o[A],A>m&&(m=A),d&=~y}if(d=m,d=re()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*S0(d/1960))-d,10<d){i.timeoutHandle=wu(bi.bind(null,i,Qe,vr),d);break}bi(i,Qe,vr);break;case 5:bi(i,Qe,vr);break;default:throw Error(n(329))}}}return Ke(i,re()),i.callbackNode===u?op.bind(null,i):null}function pc(i,o){var u=mo;return i.current.memoizedState.isDehydrated&&(Si(i,o).flags|=256),i=Ha(i,o),i!==2&&(o=Qe,Qe=u,o!==null&&gc(o)),i}function gc(i){Qe===null?Qe=i:Qe.push.apply(Qe,i)}function b0(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],y=m.getSnapshot;m=m.value;try{if(!Fn(y(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Yr(i,o){for(o&=~cc,o&=~Ba,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-On(o),d=1<<u;i[u]=-1,o&=~d}}function ap(i){if(Zt&6)throw Error(n(327));fs();var o=Ko(i,0);if(!(o&1))return Ke(i,re()),null;var u=Ha(i,o);if(i.tag!==0&&u===2){var d=ql(i);d!==0&&(o=d,u=pc(i,d))}if(u===1)throw u=go,Si(i,0),Yr(i,o),Ke(i,re()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,bi(i,Qe,vr),Ke(i,re()),null}function mc(i,o){var u=Zt;Zt|=1;try{return i(o)}finally{Zt=u,Zt===0&&(cs=re()+500,va&&Ur())}}function wi(i){jr!==null&&jr.tag===0&&!(Zt&6)&&fs();var o=Zt;Zt|=1;var u=En.transition,d=ne;try{if(En.transition=null,ne=1,i)return i()}finally{ne=d,En.transition=u,Zt=o,!(Zt&6)&&Ur()}}function vc(){un=us.current,ue(us)}function Si(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Ky(u)),we!==null)for(u=we.return;u!==null;){var d=u;switch(Tu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ga();break;case 3:os(),ue(Ye),ue(Oe),zu();break;case 5:Du(d);break;case 4:os();break;case 13:ue(he);break;case 19:ue(he);break;case 10:Nu(d.type._context);break;case 22:case 23:vc()}u=u.return}if(Pe=i,we=i=Xr(i.current,null),_e=un=o,be=0,go=null,cc=Ba=xi=0,Qe=mo=null,mi!==null){for(o=0;o<mi.length;o++)if(u=mi[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,y=u.pending;if(y!==null){var A=y.next;y.next=m,d.next=A}u.pending=d}mi=null}return i}function lp(i,o){do{var u=we;try{if(Mu(),Ca.current=Ma,ka){for(var d=pe.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}ka=!1}if(yi=0,Ae=Se=pe=null,lo=!1,uo=0,uc.current=null,u===null||u.return===null){be=1,go=o,we=null;break}t:{var y=i,A=u.return,F=u,V=o;if(o=_e,F.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var K=V,lt=F,ct=lt.tag;if(!(lt.mode&1)&&(ct===0||ct===11||ct===15)){var at=lt.alternate;at?(lt.updateQueue=at.updateQueue,lt.memoizedState=at.memoizedState,lt.lanes=at.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var St=Oh(A);if(St!==null){St.flags&=-257,Fh(St,A,F,y,o),St.mode&1&&Nh(y,K,o),o=St,V=K;var Pt=o.updateQueue;if(Pt===null){var Tt=new Set;Tt.add(V),o.updateQueue=Tt}else Pt.add(V);break t}else{if(!(o&1)){Nh(y,K,o),yc();break t}V=Error(n(426))}}else if(fe&&F.mode&1){var ve=Oh(A);if(ve!==null){!(ve.flags&65536)&&(ve.flags|=256),Fh(ve,A,F,y,o),_u(as(V,F));break t}}y=V=as(V,F),be!==4&&(be=2),mo===null?mo=[y]:mo.push(y),y=A;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var Y=Lh(y,V,o);rh(y,Y);break t;case 1:F=V;var H=y.type,Z=y.stateNode;if(!(y.flags&128)&&(typeof H.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Wr===null||!Wr.has(Z)))){y.flags|=65536,o&=-o,y.lanes|=o;var pt=Mh(y,F,o);rh(y,pt);break t}}y=y.return}while(y!==null)}fp(u)}catch(_t){o=_t,we===u&&u!==null&&(we=u=u.return);continue}break}while(!0)}function up(){var i=Da.current;return Da.current=Ma,i===null?Ma:i}function yc(){(be===0||be===3||be===2)&&(be=4),Pe===null||!(xi&268435455)&&!(Ba&268435455)||Yr(Pe,_e)}function Ha(i,o){var u=Zt;Zt|=2;var d=up();(Pe!==i||_e!==o)&&(vr=null,Si(i,o));do try{E0();break}catch(m){lp(i,m)}while(!0);if(Mu(),Zt=u,Da.current=d,we!==null)throw Error(n(261));return Pe=null,_e=0,be}function E0(){for(;we!==null;)cp(we)}function A0(){for(;we!==null&&!_r();)cp(we)}function cp(i){var o=pp(i.alternate,i,un);i.memoizedProps=i.pendingProps,o===null?fp(i):we=o,uc.current=null}function fp(i){var o=i;do{var u=o.alternate;if(i=o.return,o.flags&32768){if(u=v0(u,o),u!==null){u.flags&=32767,we=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{be=6,we=null;return}}else if(u=m0(u,o,un),u!==null){we=u;return}if(o=o.sibling,o!==null){we=o;return}we=o=i}while(o!==null);be===0&&(be=5)}function bi(i,o,u){var d=ne,m=En.transition;try{En.transition=null,ne=1,P0(i,o,u,d)}finally{En.transition=m,ne=d}return null}function P0(i,o,u,d){do fs();while(jr!==null);if(Zt&6)throw Error(n(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var y=u.lanes|u.childLanes;if(sy(i,y),i===Pe&&(we=Pe=null,_e=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Va||(Va=!0,gp($i,function(){return fs(),null})),y=(u.flags&15990)!==0,u.subtreeFlags&15990||y){y=En.transition,En.transition=null;var A=ne;ne=1;var F=Zt;Zt|=4,uc.current=null,x0(i,u),ep(u,i),Wy(yu),ea=!!vu,yu=vu=null,i.current=u,w0(u),Yn(),Zt=F,ne=A,En.transition=y}else i.current=u;if(Va&&(Va=!1,jr=i,Ua=m),y=i.pendingLanes,y===0&&(Wr=null),Jv(u.stateNode),Ke(i,re()),o!==null)for(d=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(za)throw za=!1,i=dc,dc=null,i;return Ua&1&&i.tag!==0&&fs(),y=i.pendingLanes,y&1?i===hc?vo++:(vo=0,hc=i):vo=0,Ur(),null}function fs(){if(jr!==null){var i=Jf(Ua),o=En.transition,u=ne;try{if(En.transition=null,ne=16>i?16:i,jr===null)var d=!1;else{if(i=jr,jr=null,Ua=0,Zt&6)throw Error(n(331));var m=Zt;for(Zt|=4,At=i.current;At!==null;){var y=At,A=y.child;if(At.flags&16){var F=y.deletions;if(F!==null){for(var V=0;V<F.length;V++){var K=F[V];for(At=K;At!==null;){var lt=At;switch(lt.tag){case 0:case 11:case 15:po(8,lt,y)}var ct=lt.child;if(ct!==null)ct.return=lt,At=ct;else for(;At!==null;){lt=At;var at=lt.sibling,St=lt.return;if(Zh(lt),lt===K){At=null;break}if(at!==null){at.return=St,At=at;break}At=St}}}var Pt=y.alternate;if(Pt!==null){var Tt=Pt.child;if(Tt!==null){Pt.child=null;do{var ve=Tt.sibling;Tt.sibling=null,Tt=ve}while(Tt!==null)}}At=y}}if(y.subtreeFlags&2064&&A!==null)A.return=y,At=A;else t:for(;At!==null;){if(y=At,y.flags&2048)switch(y.tag){case 0:case 11:case 15:po(9,y,y.return)}var Y=y.sibling;if(Y!==null){Y.return=y.return,At=Y;break t}At=y.return}}var H=i.current;for(At=H;At!==null;){A=At;var Z=A.child;if(A.subtreeFlags&2064&&Z!==null)Z.return=A,At=Z;else t:for(A=H;At!==null;){if(F=At,F.flags&2048)try{switch(F.tag){case 0:case 11:case 15:Ra(9,F)}}catch(_t){ge(F,F.return,_t)}if(F===A){At=null;break t}var pt=F.sibling;if(pt!==null){pt.return=F.return,At=pt;break t}At=F.return}}if(Zt=m,Ur(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(Xo,i)}catch{}d=!0}return d}finally{ne=u,En.transition=o}}return!1}function dp(i,o,u){o=as(u,o),o=Lh(i,o,1),i=$r(i,o,1),o=Ve(),i!==null&&(Vs(i,1,o),Ke(i,o))}function ge(i,o,u){if(i.tag===3)dp(i,i,u);else for(;o!==null;){if(o.tag===3){dp(o,i,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Wr===null||!Wr.has(d))){i=as(u,i),i=Mh(o,i,1),o=$r(o,i,1),i=Ve(),o!==null&&(Vs(o,1,i),Ke(o,i));break}}o=o.return}}function T0(i,o,u){var d=i.pingCache;d!==null&&d.delete(o),o=Ve(),i.pingedLanes|=i.suspendedLanes&u,Pe===i&&(_e&u)===u&&(be===4||be===3&&(_e&130023424)===_e&&500>re()-fc?Si(i,0):cc|=u),Ke(i,o)}function hp(i,o){o===0&&(i.mode&1?(o=Qo,Qo<<=1,!(Qo&130023424)&&(Qo=4194304)):o=1);var u=Ve();i=pr(i,o),i!==null&&(Vs(i,o,u),Ke(i,u))}function C0(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),hp(i,u)}function k0(i,o){var u=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),hp(i,u)}var pp;pp=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||Ye.current)Ze=!0;else{if(!(i.lanes&u)&&!(o.flags&128))return Ze=!1,g0(i,o,u);Ze=!!(i.flags&131072)}else Ze=!1,fe&&o.flags&1048576&&qd(o,xa,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Fa(i,o),i=o.pendingProps;var m=Ji(o,Oe.current);ss(o,u),m=Gu(null,o,d,i,m,u);var y=$u();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Xe(d)?(y=!0,ma(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Iu(o),m.updater=Na,o.stateNode=m,m._reactInternals=o,Xu(o,d,i,u),o=Ju(null,o,d,!0,y,u)):(o.tag=0,fe&&y&&Pu(o),ze(null,o,m,u),o=o.child),o;case 16:d=o.elementType;t:{switch(Fa(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=L0(d),i=Rn(d,i),m){case 0:o=Ku(null,o,d,i,u);break t;case 1:o=Vh(null,o,d,i,u);break t;case 11:o=Ih(null,o,d,i,u);break t;case 14:o=Rh(null,o,d,Rn(d.type,i),u);break t}throw Error(n(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Rn(d,m),Ku(i,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Rn(d,m),Vh(i,o,d,m,u);case 3:t:{if(Uh(o),i===null)throw Error(n(387));d=o.pendingProps,y=o.memoizedState,m=y.element,nh(i,o),Pa(o,d,null,u);var A=o.memoizedState;if(d=A.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=as(Error(n(423)),o),o=Gh(i,o,d,u,m);break t}else if(d!==m){m=as(Error(n(424)),o),o=Gh(i,o,d,u,m);break t}else for(ln=Br(o.stateNode.containerInfo.firstChild),an=o,fe=!0,In=null,u=th(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ns(),d===m){o=mr(i,o,u);break t}ze(i,o,d,u)}o=o.child}return o;case 5:return sh(o),i===null&&ku(o),d=o.type,m=o.pendingProps,y=i!==null?i.memoizedProps:null,A=m.children,xu(d,m)?A=null:y!==null&&xu(d,y)&&(o.flags|=32),zh(i,o),ze(i,o,A,u),o.child;case 6:return i===null&&ku(o),null;case 13:return $h(i,o,u);case 4:return Ru(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=rs(o,null,d,u):ze(i,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Rn(d,m),Ih(i,o,d,m,u);case 7:return ze(i,o,o.pendingProps,u),o.child;case 8:return ze(i,o,o.pendingProps.children,u),o.child;case 12:return ze(i,o,o.pendingProps.children,u),o.child;case 10:t:{if(d=o.type._context,m=o.pendingProps,y=o.memoizedProps,A=m.value,oe(ba,d._currentValue),d._currentValue=A,y!==null)if(Fn(y.value,A)){if(y.children===m.children&&!Ye.current){o=mr(i,o,u);break t}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var F=y.dependencies;if(F!==null){A=y.child;for(var V=F.firstContext;V!==null;){if(V.context===d){if(y.tag===1){V=gr(-1,u&-u),V.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var lt=K.pending;lt===null?V.next=V:(V.next=lt.next,lt.next=V),K.pending=V}}y.lanes|=u,V=y.alternate,V!==null&&(V.lanes|=u),Ou(y.return,u,o),F.lanes|=u;break}V=V.next}}else if(y.tag===10)A=y.type===o.type?null:y.child;else if(y.tag===18){if(A=y.return,A===null)throw Error(n(341));A.lanes|=u,F=A.alternate,F!==null&&(F.lanes|=u),Ou(A,u,o),A=y.sibling}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===o){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}ze(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,ss(o,u),m=Sn(m),d=d(m),o.flags|=1,ze(i,o,d,u),o.child;case 14:return d=o.type,m=Rn(d,o.pendingProps),m=Rn(d.type,m),Rh(i,o,d,m,u);case 15:return Dh(i,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Rn(d,m),Fa(i,o),o.tag=1,Xe(d)?(i=!0,ma(o)):i=!1,ss(o,u),kh(o,d,m),Xu(o,d,m,u),Ju(null,o,d,!0,i,u);case 19:return Wh(i,o,u);case 22:return Bh(i,o,u)}throw Error(n(156,o.tag))};function gp(i,o){return sn(i,o)}function _0(i,o,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(i,o,u,d){return new _0(i,o,u,d)}function xc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function L0(i){if(typeof i=="function")return xc(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===it)return 14}return 2}function Xr(i,o){var u=i.alternate;return u===null?(u=An(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Wa(i,o,u,d,m,y){var A=2;if(d=i,typeof i=="function")xc(i)&&(A=1);else if(typeof i=="string")A=5;else t:switch(i){case v:return Ei(u.children,m,y,o);case S:A=8,m|=8;break;case E:return i=An(12,u,o,m|2),i.elementType=E,i.lanes=y,i;case W:return i=An(13,u,o,m),i.elementType=W,i.lanes=y,i;case Q:return i=An(19,u,o,m),i.elementType=Q,i.lanes=y,i;case B:return ja(u,m,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:A=10;break t;case O:A=9;break t;case U:A=11;break t;case it:A=14;break t;case I:A=16,d=null;break t}throw Error(n(130,i==null?i:typeof i,""))}return o=An(A,u,o,m),o.elementType=i,o.type=d,o.lanes=y,o}function Ei(i,o,u,d){return i=An(7,i,d,o),i.lanes=u,i}function ja(i,o,u,d){return i=An(22,i,d,o),i.elementType=B,i.lanes=u,i.stateNode={isHidden:!1},i}function wc(i,o,u){return i=An(6,i,null,o),i.lanes=u,i}function Sc(i,o,u){return o=An(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function M0(i,o,u,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yl(0),this.expirationTimes=Yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function bc(i,o,u,d,m,y,A,F,V){return i=new M0(i,o,u,F,V),o===1?(o=1,y===!0&&(o|=8)):o=0,y=An(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iu(y),i}function N0(i,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:d==null?null:""+d,children:i,containerInfo:o,implementation:u}}function mp(i){if(!i)return Vr;i=i._reactInternals;t:{if(Bt(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(Xe(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Xe(u))return Hd(i,u,o)}return o}function vp(i,o,u,d,m,y,A,F,V){return i=bc(u,d,!0,i,m,y,A,F,V),i.context=mp(null),u=i.current,d=Ve(),m=qr(u),y=gr(d,m),y.callback=o??null,$r(u,y,m),i.current.lanes=m,Vs(i,m,d),Ke(i,d),i}function qa(i,o,u,d){var m=o.current,y=Ve(),A=qr(m);return u=mp(u),o.context===null?o.context=u:o.pendingContext=u,o=gr(y,A),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=$r(m,o,A),i!==null&&(zn(i,m,A,y),Aa(i,m,A)),A}function Ya(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function yp(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Ec(i,o){yp(i,o),(i=i.alternate)&&yp(i,o)}var xp=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ac(i){this._internalRoot=i}Xa.prototype.render=Ac.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));qa(i,o,null,null)},Xa.prototype.unmount=Ac.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;wi(function(){qa(null,i,null,null)}),o[cr]=null}};function Xa(i){this._internalRoot=i}Xa.prototype.unstable_scheduleHydration=function(i){if(i){var o=nd();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ir.length&&o!==0&&o<Ir[u].priority;u++);Ir.splice(u,0,i),u===0&&sd(i)}};function Pc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Za(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function wp(){}function O0(i,o,u,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var K=Ya(A);y.call(K)}}var A=vp(o,d,i,0,null,!1,!1,"",wp);return i._reactRootContainer=A,i[cr]=A.current,to(i.nodeType===8?i.parentNode:i),wi(),A}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var F=d;d=function(){var K=Ya(V);F.call(K)}}var V=bc(i,0,!1,null,null,!1,!1,"",wp);return i._reactRootContainer=V,i[cr]=V.current,to(i.nodeType===8?i.parentNode:i),wi(function(){qa(o,V,u,d)}),V}function Qa(i,o,u,d,m){var y=u._reactRootContainer;if(y){var A=y;if(typeof m=="function"){var F=m;m=function(){var V=Ya(A);F.call(V)}}qa(o,A,i,m)}else A=O0(u,o,i,m,d);return Ya(A)}td=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=zs(o.pendingLanes);u!==0&&(Xl(o,u|1),Ke(o,re()),!(Zt&6)&&(cs=re()+500,Ur()))}break;case 13:wi(function(){var d=pr(i,1);if(d!==null){var m=Ve();zn(d,i,1,m)}}),Ec(i,1)}},Zl=function(i){if(i.tag===13){var o=pr(i,134217728);if(o!==null){var u=Ve();zn(o,i,134217728,u)}Ec(i,134217728)}},ed=function(i){if(i.tag===13){var o=qr(i),u=pr(i,o);if(u!==null){var d=Ve();zn(u,i,o,d)}Ec(i,o)}},nd=function(){return ne},rd=function(i,o){var u=ne;try{return ne=i,o()}finally{ne=u}},rn=function(i,o,u){switch(o){case"input":if(q(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==i&&d.form===i.form){var m=pa(d);if(!m)throw Error(n(90));Dt(d),q(d,m)}}}break;case"textarea":Mn(i,u);break;case"select":o=u.value,o!=null&&Ht(i,!!u.multiple,o,!1)}},Rs=mc,Ds=wi;var F0={usingClientEntryPoint:!1,Events:[ro,Qi,pa,Ar,Be,mc]},yo={findFiberByHostInstance:di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I0={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ce(i),i===null?null:i.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ka.isDisabled&&Ka.supportsFiber)try{Xo=Ka.inject(I0),Xn=Ka}catch{}}return Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F0,Je.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pc(o))throw Error(n(200));return N0(i,o,null,u)},Je.createRoot=function(i,o){if(!Pc(i))throw Error(n(299));var u=!1,d="",m=xp;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=bc(i,1,!1,null,null,u,!1,d,m),i[cr]=o.current,to(i.nodeType===8?i.parentNode:i),new Ac(o)},Je.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=ce(o),i=i===null?null:i.stateNode,i},Je.flushSync=function(i){return wi(i)},Je.hydrate=function(i,o,u){if(!Za(o))throw Error(n(200));return Qa(null,i,o,!0,u)},Je.hydrateRoot=function(i,o,u){if(!Pc(i))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,m=!1,y="",A=xp;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),o=vp(o,null,i,1,u??null,m,!1,y,A),i[cr]=o.current,to(i),d)for(i=0;i<d.length;i++)u=d[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Xa(o)},Je.render=function(i,o,u){if(!Za(o))throw Error(n(200));return Qa(null,i,o,!1,u)},Je.unmountComponentAtNode=function(i){if(!Za(i))throw Error(n(40));return i._reactRootContainer?(wi(function(){Qa(null,null,i,!1,function(){i._reactRootContainer=null,i[cr]=null})}),!0):!1},Je.unstable_batchedUpdates=mc,Je.unstable_renderSubtreeIntoContainer=function(i,o,u,d){if(!Za(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Qa(i,o,u,!1,d)},Je.version="18.3.1-next-f1338f8080-20240426",Je}var kp;function $0(){if(kp)return kc.exports;kp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kc.exports=G0(),kc.exports}var _p;function H0(){if(_p)return Ja;_p=1;var t=$0();return Ja.createRoot=t.createRoot,Ja.hydrateRoot=t.hydrateRoot,Ja}var W0=H0();const{round:j0,floor:q0,PI:Wg}=Math,Y0={linear:function(t,e,n){var r=t[1]-t[0],s=e[1]-e[0];return(n-t[0])/r*s+e[0]||0}},kn=function(t){return t%360+(t<0?360:0)},Mi=function(t,e){return e*j0(t/e)},Ll=function(t){return 180*t/Wg%360},tn=function(t,e){return e=e||!1,t=e?t:t%360,t*Wg/180},Xc=function(t,e){if(e===void 0)e=t===void 0?1:t,t=0;else if(e<t){const n=t;t=e,e=n}return q0(Math.random()*(e-t+1)+t)},{cos:tl,sin:Mc,atan2:X0}=Math,jg=function(t,e){var n=tn(t.y),r=tn(e.y),s=t.x,a=e.x,l=tn(a-s),c=Mc(l)*tl(r),f=tl(n)*Mc(r)-Mc(n)*tl(r)*tl(l),p=Ll(X0(c,f)),g=["NE","E","SE","S","SW","W","NW","N"],h=p-22.5;return h<0&&(h+=360),h=parseInt(h/45),g[h]},mf=function(t,e){var n=t.x,r=t.y,s=e.x,a=e.y;return(n-=s)*n+(r-=a)*r},qg=function(t,e){return Math.sqrt(mf(t,e))},zt={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:Sl,cos:Zc,sin:Qc,sqrt:Lp,min:Mp,max:Np,atan2:Z0,round:Op,pow:Q0,PI:Fp}=Math,z=function(t,e){if(!(this instanceof z))return new z(t,e);if(typeof t=="string"){var n=t.split(t.indexOf("@")===-1?" ":"@");t=parseFloat(n[0]),e=parseFloat(n[1])}else Object(t)===t&&(e=t.y,t=t.x);this.x=t===void 0?0:t,this.y=e===void 0?0:e};z.fromPolar=function(t,e,n){n=new z(n);var r=Sl(t*Zc(e)),s=Sl(t*Qc(e)),a=kn(Ll(e));return a<90?s=-s:a<180?(r=-r,s=-s):a<270&&(r=-r),new z(n.x+r,n.y+s)};z.random=function(t,e,n,r){return new z(Xc(t,e),Xc(n,r))};z.prototype={type:zt.Point,chooseClosest:function(t){var e=t.length;if(e===1)return new z(t[0]);for(var n=null,r=1/0,s=0;s<e;s++){var a=new z(t[s]),l=this.squaredDistance(a);l<r&&(n=a,r=l)}return n},adhereToRect:function(t){return t.containsPoint(this)?this:(this.x=Mp(Np(this.x,t.x),t.x+t.width),this.y=Mp(Np(this.y,t.y),t.y+t.height),this)},angleBetween:function(t,e){var n=this.equals(t)||this.equals(e)?NaN:this.theta(e)-this.theta(t);return n<0&&(n+=360),n},bearing:function(t){return jg(this,t)},changeInAngle:function(t,e,n){return this.clone().offset(-t,-e).theta(n)-this.theta(n)},clone:function(){return new z(this)},cross:function(t,e){return t&&e?(e.x-this.x)*(t.y-this.y)-(e.y-this.y)*(t.x-this.x):NaN},difference:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),new z(this.x-(t||0),this.y-(e||0))},distance:function(t){return qg(this,t)},dot:function(t){return t?this.x*t.x+this.y*t.y:NaN},equals:function(t){return!!t&&this.x===t.x&&this.y===t.y},lerp:function(t,e){var n=this.x,r=this.y;return new z((1-e)*n+e*t.x,(1-e)*r+e*t.y)},magnitude:function(){return Lp(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(t){return Sl(t.x-this.x)+Sl(t.y-this.y)},move:function(t,e){var n=tn(new z(t).theta(this)),r=this.offset(Zc(n)*e,-Qc(n)*e);return r},normalize:function(t){var e=(t||1)/this.magnitude();return this.scale(e,e)},offset:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x+=t||0,this.y+=e||0,this},reflection:function(t){return new z(t).move(this,this.distance(t))},rotate:function(t,e){if(e===0)return this;t=t||new z(0,0),e=tn(kn(-e));var n=Zc(e),r=Qc(e),s=n*(this.x-t.x)-r*(this.y-t.y)+t.x,a=r*(this.x-t.x)+n*(this.y-t.y)+t.y;return this.x=s,this.y=a,this},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=Q0(10,t);break}return this.x=Op(this.x*e)/e,this.y=Op(this.y*e)/e,this},scale:function(t,e,n){return n=n&&new z(n)||new z(0,0),this.x=n.x+t*(this.x-n.x),this.y=n.y+e*(this.y-n.y),this},snapToGrid:function(t,e){return this.x=Mi(this.x,t),this.y=Mi(this.y,e||t),this},squaredDistance:function(t){return mf(this,t)},theta:function(t){t=new z(t);var e=-(t.y-this.y),n=t.x-this.x,r=Z0(e,n);return r<0&&(r=2*Fp+r),180*r/Fp},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(t){t=t&&new z(t)||new z(0,0);var e=this.x,n=this.y;return this.x=Lp((e-t.x)*(e-t.x)+(n-t.y)*(n-t.y)),this.y=tn(t.theta(new z(e,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x=t||0,this.y=e||0,this},vectorAngle:function(t){var e=new z(0,0);return e.angleBetween(this,t)}};z.prototype.translate=z.prototype.offset;const bl=z,{max:Nc,min:Oc}=Math,yt=function(t,e){if(!(this instanceof yt))return new yt(t,e);if(t instanceof yt)return new yt(t.start,t.end);this.start=new z(t),this.end=new z(e)};yt.prototype={type:zt.Line,angle:function(){var t=new z(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)},bbox:function(){var t=Oc(this.start.x,this.end.x),e=Oc(this.start.y,this.end.y),n=Nc(this.start.x,this.end.x),r=Nc(this.start.y,this.end.y);return new ht(t,e,n-t,r-e)},bearing:function(){return jg(this.start,this.end)},clone:function(){return new yt(this.start,this.end)},closestPoint:function(t){return this.pointAt(this.closestPointNormalizedLength(t))},closestPointLength:function(t){return this.closestPointNormalizedLength(t)*this.length()},closestPointNormalizedLength:function(t){var e=this.vector().dot(new yt(this.start,t).vector()),n=Oc(1,Nc(0,e/this.squaredLength()));return n!==n?0:n},closestPointTangent:function(t){return this.tangentAt(this.closestPointNormalizedLength(t))},containsPoint:function(t){var e=this.start,n=this.end;if(e.cross(t,n)!==0)return!1;var r=this.length();return!(new yt(e,t).length()>r||new yt(t,n).length()>r)},divideAt:function(t){var e=this.pointAt(t);return[new yt(this.start,e),new yt(e,this.end)]},divideAtLength:function(t){var e=this.pointAtLength(t);return[new yt(this.start,e),new yt(e,this.end)]},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y},intersect:function(t,e){if(t&&t.intersectionWithLine){var n=t.intersectionWithLine(this,e);return n&&t instanceof yt&&(n=n[0]),n}return null},intersectionWithLine:function(t){var e=new z(this.end.x-this.start.x,this.end.y-this.start.y),n=new z(t.end.x-t.start.x,t.end.y-t.start.y),r=e.x*n.y-e.y*n.x,s=new z(t.start.x-this.start.x,t.start.y-this.start.y),a=s.x*n.y-s.y*n.x,l=s.x*e.y-s.y*e.x;if(r===0||a*r<0||l*r<0)return null;if(r>0){if(a>r||l>r)return null}else if(a<r||l<r)return null;return[new z(this.start.x+a*e.x/r,this.start.y+a*e.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return qg(this.start,this.end)},midpoint:function(){return new z((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(t){const e=this.clone();if(!this.isDifferentiable())return e;const{start:n,end:r}=e,s=n.clone().rotate(r,270),a=r.clone().rotate(n,90);return n.move(a,t),r.move(s,t),e},pointAt:function(t){var e=this.start,n=this.end;return t<=0?e.clone():t>=1?n.clone():e.lerp(n,t)},pointAtLength:function(t){var e=this.start,n=this.end,r=!0;t<0&&(r=!1,t=-t);var s=this.length();return t>=s?r?n.clone():e.clone():this.pointAt((r?t:s-t)/s)},pointOffset:function(t){t=new z(t);var e=this.start,n=this.end,r=(n.x-e.x)*(t.y-e.y)-(n.y-e.y)*(t.x-e.x);return r/this.length()},rotate:function(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this},round:function(t){return this.start.round(t),this.end.round(t),this},scale:function(t,e,n){return this.start.scale(t,e,n),this.end.scale(t,e,n),this},setLength:function(t){var e=this.length();if(!e)return this;var n=t/e;return this.scale(n,n,this.start)},squaredLength:function(){return mf(this.start,this.end)},tangentAt:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,r=this.pointAt(t),s=new yt(e,n);return s.translate(r.x-e.x,r.y-e.y),s},tangentAtLength:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,r=this.pointAtLength(t),s=new yt(e,n);return s.translate(r.x-e.x,r.y-e.y),s},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(t,e){return this.start.translate(t,e),this.end.translate(t,e),this},vector:function(){return new z(this.end.x-this.start.x,this.end.y-this.start.y)}};yt.prototype.intersection=yt.prototype.intersect;const _i=yt,{sqrt:Ip,round:el,pow:K0}=Math,He=function(t,e,n){if(!(this instanceof He))return new He(t,e,n);if(t instanceof He)return new He(new z(t.x,t.y),t.a,t.b);t=new z(t),this.x=t.x,this.y=t.y,this.a=e,this.b=n};He.fromRect=function(t){return t=new ht(t),new He(t.center(),t.width/2,t.height/2)};He.prototype={type:zt.Ellipse,bbox:function(){return new ht(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new z(this.x,this.y)},clone:function(){return new He(this)},containsPoint:function(t){return this.normalizedDistance(t)<=1},equals:function(t){return!!t&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b},inflate:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.a+=2*t,this.b+=2*e,this},intersectionWithLine:function(t){var e=[],n=t.start,r=t.end,s=this.a,a=this.b,l=t.vector(),c=n.difference(new z(this)),f=new z(l.x/(s*s),l.y/(a*a)),p=new z(c.x/(s*s),c.y/(a*a)),g=l.dot(f),h=l.dot(p),x=c.dot(p)-1,w=h*h-g*x;if(w<0)return null;if(w>0){var b=Ip(w),P=(-h-b)/g,T=(-h+b)/g;if((P<0||1<P)&&(T<0||1<T))return null;0<=P&&P<=1&&e.push(n.lerp(r,P)),0<=T&&T<=1&&e.push(n.lerp(r,T))}else{var C=-h/g;if(0<=C&&C<=1)e.push(n.lerp(r,C));else return null}return e},intersectionWithLineFromCenterToPoint:function(t,e){t=new z(t),e&&t.rotate(new z(this.x,this.y),e);var n=t.x-this.x,r=t.y-this.y,s;if(n===0)return s=this.bbox().pointNearestToPoint(t),e?s.rotate(new z(this.x,this.y),-e):s;var a=r/n,l=a*a,c=this.a*this.a,f=this.b*this.b,p=Ip(1/(1/c+l/f));p=n<0?-p:p;var g=a*p;return s=new z(this.x+p,this.y+g),e?s.rotate(new z(this.x,this.y),-e):s},normalizedDistance:function(t){var e=t.x,n=t.y,r=this.a,s=this.b,a=this.x,l=this.y;return(e-a)*(e-a)/(r*r)+(n-l)*(n-l)/(s*s)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=K0(10,t);break}return this.x=el(this.x*e)/e,this.y=el(this.y*e)/e,this.a=el(this.a*e)/e,this.b=el(this.b*e)/e,this},tangentTheta:function(t){var e=30,n=t.x,r=t.y,s=this.a,a=this.b,l=this.bbox().center(),c=l.x,f=l.y,p=n>l.x+s/2,g=n<l.x-s/2,h,x;return p||g?(h=n>l.x?r-e:r+e,x=s*s/(n-c)-s*s*(r-f)*(h-f)/(a*a*(n-c))+c):(x=r>l.y?n+e:n-e,h=a*a/(r-f)-a*a*(n-c)*(x-c)/(s*s*(r-f))+f),new z(x,h).theta(t)},toString:function(){return new z(this.x,this.y).toString()+" "+this.a+" "+this.b}};const J0=He,{abs:Rp,cos:t1,sin:e1,min:wo,max:Dp,round:nl,pow:n1}=Math,ht=function(t,e,n,r){if(!(this instanceof ht))return new ht(t,e,n,r);Object(t)===t&&(e=t.y,n=t.width,r=t.height,t=t.x),this.x=t===void 0?0:t,this.y=e===void 0?0:e,this.width=n===void 0?0:n,this.height=r===void 0?0:r};ht.fromEllipse=function(t){return t=new He(t),new ht(t.x-t.a,t.y-t.b,2*t.a,2*t.b)};ht.fromPointUnion=function(...t){if(t.length===0)return null;const e=new z;let n,r,s,a;n=r=1/0,s=a=-1/0;for(let l=0;l<t.length;l++){e.update(t[l]);const c=e.x,f=e.y;c<n&&(n=c),c>s&&(s=c),f<r&&(r=f),f>a&&(a=f)}return new ht(n,r,s-n,a-r)};ht.fromRectUnion=function(...t){if(t.length===0)return null;const e=new ht;let n,r,s,a;n=r=1/0,s=a=-1/0;for(let l=0;l<t.length;l++){e.update(t[l]);const c=e.x,f=e.y,p=c+e.width,g=f+e.height;c<n&&(n=c),p>s&&(s=p),f<r&&(r=f),g>a&&(a=g)}return new ht(n,r,s-n,a-r)};ht.prototype={type:zt.Rect,bbox:function(t){return this.clone().rotateAroundCenter(t)},rotateAroundCenter:function(t){if(!t)return this;const{width:e,height:n}=this,r=tn(t),s=Rp(e1(r)),a=Rp(t1(r)),l=e*a+n*s,c=e*s+n*a;return this.x+=(e-l)/2,this.y+=(n-c)/2,this.width=l,this.height=c,this},bottomLeft:function(){return new z(this.x,this.y+this.height)},bottomLine:function(){return new yt(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new z(this.x+this.width/2,this.y+this.height)},center:function(){return new z(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new ht(this)},containsPoint:function(t,e){let n,r;return!t||typeof t=="string"?{x:n,y:r}=new z(t):{x:n=0,y:r=0}=t,e&&e.strict?n>this.x&&n<this.x+this.width&&r>this.y&&r<this.y+this.height:n>=this.x&&n<=this.x+this.width&&r>=this.y&&r<=this.y+this.height},containsRect:function(t){var e=new ht(this).normalize(),n=new ht(t).normalize(),r=e.width,s=e.height,a=n.width,l=n.height;if(!r||!s||!a||!l)return!1;var c=e.x,f=e.y,p=n.x,g=n.y;return a+=p,r+=c,l+=g,s+=f,c<=p&&a<=r&&f<=g&&l<=s},corner:function(){return new z(this.x+this.width,this.y+this.height)},equals:function(t){var e=new ht(this).normalize(),n=new ht(t).normalize();return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height},inflate:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},intersect:function(t){var e=this.origin(),n=this.corner(),r=t.origin(),s=t.corner();if(s.x<=e.x||s.y<=e.y||r.x>=n.x||r.y>=n.y)return null;var a=Dp(e.x,r.x),l=Dp(e.y,r.y);return new ht(a,l,wo(n.x,s.x)-a,wo(n.y,s.y)-l)},intersectionWithLine:function(t){var e=this,n=[e.topLine(),e.rightLine(),e.bottomLine(),e.leftLine()],r=[],s=[],a,l,c=n.length;for(l=0;l<c;l++)a=t.intersect(n[l]),a!==null&&s.indexOf(a.toString())<0&&(r.push(a),s.push(a.toString()));return r.length>0?r:null},intersectionWithLineFromCenterToPoint:function(t,e){t=new z(t);var n=new z(this.x+this.width/2,this.y+this.height/2),r;e&&t.rotate(n,e);for(var s=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],a=new yt(n,t),l=s.length-1;l>=0;--l){var c=s[l].intersection(a);if(c!==null){r=c;break}}return r&&e&&r.rotate(n,-e),r},leftLine:function(){return new yt(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new z(this.x,this.y+this.height/2)},maxRectScaleToFit:function(t,e){t=new ht(t),e||(e=t.center());var n,r,s,a,l,c,f,p,g=e.x,h=e.y;n=r=s=a=l=c=f=p=1/0;var x=t.topLeft();x.x<g&&(n=(this.x-g)/(x.x-g)),x.y<h&&(l=(this.y-h)/(x.y-h));var w=t.bottomRight();w.x>g&&(r=(this.x+this.width-g)/(w.x-g)),w.y>h&&(c=(this.y+this.height-h)/(w.y-h));var b=t.topRight();b.x>g&&(s=(this.x+this.width-g)/(b.x-g)),b.y<h&&(f=(this.y-h)/(b.y-h));var P=t.bottomLeft();return P.x<g&&(a=(this.x-g)/(P.x-g)),P.y>h&&(p=(this.y+this.height-h)/(P.y-h)),{sx:wo(n,r,s,a),sy:wo(l,c,f,p)}},maxRectUniformScaleToFit:function(t,e){var n=this.maxRectScaleToFit(t,e);return wo(n.sx,n.sy)},moveAndExpand:function(t){return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this},normalize:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,r=-this.height),this.x=t,this.y=e,this.width=n,this.height=r,this},offset:function(t,e){return z.prototype.offset.call(this,t,e)},origin:function(){return new z(this.x,this.y)},pointNearestToPoint:function(t){if(t=new z(t),this.containsPoint(t)){var e=this.sideNearestToPoint(t);switch(e){case"right":return new z(this.x+this.width,t.y);case"left":return new z(this.x,t.y);case"bottom":return new z(t.x,this.y+this.height);case"top":return new z(t.x,this.y)}}return t.adhereToRect(this)},rightLine:function(){return new yt(this.topRight(),this.bottomRight())},rightMiddle:function(){return new z(this.x+this.width,this.y+this.height/2)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=n1(10,t);break}return this.x=nl(this.x*e)/e,this.y=nl(this.y*e)/e,this.width=nl(this.width*e)/e,this.height=nl(this.height*e)/e,this},scale:function(t,e,n){return n=this.origin().scale(t,e,n),this.x=n.x,this.y=n.y,this.width*=t,this.height*=e,this},sideNearestToPoint:function(t){t=new z(t);var e=t.x-this.x,n=this.x+this.width-t.x,r=t.y-this.y,s=this.y+this.height-t.y,a=e,l="left";return n<a&&(a=n,l="right"),r<a&&(a=r,l="top"),s<a&&(l="bottom"),l},snapToGrid:function(t,e){var n=this.origin().snapToGrid(t,e),r=this.corner().snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new yt(this.topLeft(),this.topRight())},topMiddle:function(){return new z(this.x+this.width/2,this.y)},topRight:function(){return new z(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(t){return ht.fromRectUnion(this,t)},update:function(t,e,n,r){return Object(t)===t&&(e=t.y,n=t.width,r=t.height,t=t.x),this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0,this}};ht.prototype.bottomRight=ht.prototype.corner;ht.prototype.topLeft=ht.prototype.origin;ht.prototype.translate=ht.prototype.offset;const r1=ht;function Yg(t){const e=t.trim();if(e==="")return[];const n=[],r=e.split(/\b\s*,\s*|,\s*|\s+/),s=r.length;for(let a=0;a<s;a+=2)n.push({x:+r[a],y:+r[a+1]});return n}function Xg(t){const e=t.length;if(e===0)return[];const n=[];for(let r=0;r<e;r++){const s=t[r].clone();n.push(s)}return n}function Zg(t){const{abs:e}=Math;var n,r,s=t.length;if(s===0)return[];var a;for(n=0;n<s;n++)(a===void 0||t[n].y<a.y||t[n].y===a.y&&t[n].x>a.x)&&(a=t[n]);var l=[];for(n=0;n<s;n++){var c=a.theta(t[n]);c===0&&(c=360);var f=[t[n],n,c];l.push(f)}if(l.sort(function(W,Q){var it=W[2]-Q[2];return it===0&&(it=Q[1]-W[1]),it}),l.length>2){var p=l[l.length-1];l.unshift(p)}for(var g={},h=[],x,w,b,P,T,C;l.length!==0;)if(x=l.pop(),w=x[0],!g.hasOwnProperty(x[0]+"@@"+x[1]))for(var L=!1;!L;)if(h.length<2)h.push(x),L=!0;else{b=h.pop(),P=b[0],T=h.pop(),C=T[0];var M=C.cross(P,w);if(M<0)h.push(T),h.push(b),h.push(x),L=!0;else if(M===0){var R=1e-10,G=P.angleBetween(C,w);e(G-180)<R||P.equals(w)||C.equals(P)?(g[b[0]+"@@"+b[1]]=P,h.push(T)):e((G+1)%360-1)<R&&(h.push(T),l.push(b))}else g[b[0]+"@@"+b[1]]=P,h.push(T)}h.length>2&&h.pop();var X,v=-1;for(r=h.length,n=0;n<r;n++){var S=h[n][1];(X===void 0||S<X)&&(X=S,v=n)}var E=[];if(v>0){var k=h.slice(v),O=h.slice(0,v);E=k.concat(O)}else E=h;var U=[];for(r=E.length,n=0;n<r;n++)U.push(E[n][0]);return U}const se=function(t){if(!(this instanceof se))return new se(t);if(typeof t=="string")return new se.parse(t);this.points=Array.isArray(t)?t.map(z):[]};se.parse=function(t){return new se(Yg(t))};se.fromRect=function(t){return new se([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft(),t.topLeft()])};se.prototype={type:zt.Polyline,bbox:function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,s=this.points,a=s.length;if(a===0)return null;for(var l=0;l<a;l++){var c=s[l],f=c.x,p=c.y;f<t&&(t=f),f>e&&(e=f),p<n&&(n=p),p>r&&(r=p)}return new ht(t,n,e-t,r-n)},clone:function(){return new se(Xg(this.points))},closestPoint:function(t){var e=this.closestPointLength(t);return this.pointAtLength(e)},closestPointLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return 0;for(var r,s=1/0,a=0,l=n-1,c=0;c<l;c++){var f=new yt(e[c],e[c+1]),p=f.length(),g=f.closestPointNormalizedLength(t),h=f.pointAt(g),x=h.squaredDistance(t);x<s&&(s=x,r=a+g*p),a+=p}return r},closestPointNormalizedLength:function(t){var e=this.closestPointLength(t);if(e===0)return 0;var n=this.length();return n===0?0:e/n},closestPointTangent:function(t){var e=this.closestPointLength(t);return this.tangentAtLength(e)},containsPoint:function(t){var e=this.points,n=e.length;if(n===0)return!1;for(var r=t.x,s=t.y,a=n-1,l=0,c=0,f=new yt,p=new yt,g=new z;l<n;l++){var h=e[a],x=e[l];if(t.equals(h)||(f.start=h,f.end=x,f.containsPoint(t)))return!0;if(s<=h.y&&s>x.y||s>h.y&&s<=x.y){var w=h.x-r>x.x-r?h.x-r:x.x-r;w>=0&&(g.x=r+w,g.y=s,p.start=t,p.end=g,f.intersect(p)&&c++)}a=l}return c%2===1},close:function(){const{start:t,end:e,points:n}=this;return t&&e&&!t.equals(e)&&n.push(t.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new se(Zg(this.points))},equals:function(t){if(!t)return!1;var e=this.points,n=t.points,r=e.length;if(n.length!==r)return!1;for(var s=0;s<r;s++){var a=e[s],l=t.points[s];if(!a.equals(l))return!1}return!0},intersectionWithLine:function(t){for(var e=new yt(t),n=[],r=this.lengthPoints(),s=new yt,a=0,l=r.length-1;a<l;a++){s.start=r[a],s.end=r[a+1];var c=e.intersectionWithLine(s);c&&n.push(c[0])}return n.length>0?n:null},isDifferentiable:function(){var t=this.points,e=t.length;if(e===0)return!1;for(var n=new yt,r=e-1,s=0;s<r;s++)if(n.start=t[s],n.end=t[s+1],n.isDifferentiable())return!0;return!1},length:function(){var t=this.lengthPoints(),e=t.length;if(e===0)return 0;for(var n=0,r=e-1,s=0;s<r;s++)n+=t[s].distance(t[s+1]);return n},pointAt:function(t){var e=this.lengthPoints(),n=e.length;if(n===0)return null;if(n===1||t<=0)return e[0].clone();if(t>=1)return e[n-1].clone();var r=this.length(),s=r*t;return this.pointAtLength(s)},pointAtLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0)return null;if(n===1)return e[0].clone();var r=!0;t<0&&(r=!1,t=-t);for(var s=0,a=n-1,l=0;l<a;l++){var c=r?l:a-1-l,f=e[c],p=e[c+1],g=new yt(f,p),h=f.distance(p);if(t<=s+h)return g.pointAtLength((r?1:-1)*(t-s));s+=h}var x=r?e[n-1]:e[0];return x.clone()},round:function(t){for(var e=this.points,n=e.length,r=0;r<n;r++)e[r].round(t);return this},scale:function(t,e,n){for(var r=this.points,s=r.length,a=0;a<s;a++)r[a].scale(t,e,n);return this},simplify:function(t={}){const e=this.points;if(e.length<3)return this;const n=t.threshold||1e-10;let r=0;for(;e[r+2];){const s=r,a=r+1,l=r+2,c=e[s],f=e[a],p=e[l];new yt(c,p).closestPoint(f).distance(f)<=n?e.splice(a,1):r+=1}return this},tangentAt:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return null;t<0&&(t=0),t>1&&(t=1);var r=this.length(),s=r*t;return this.tangentAtLength(s)},tangentAtLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return null;var r=!0;t<0&&(r=!1,t=-t);for(var s,a=0,l=n-1,c=0;c<l;c++){var f=r?c:l-1-c,p=e[f],g=e[f+1],h=new yt(p,g),x=p.distance(g);if(h.isDifferentiable()){if(t<=a+x)return h.tangentAtLength((r?1:-1)*(t-a));s=h}a+=x}if(s){var w=r?1:0;return s.tangentAt(w)}return null},toString:function(){return this.points+""},translate:function(t,e){for(var n=this.points,r=n.length,s=0;s<r;s++)n[s].translate(t,e);return this},serialize:function(){var t=this.points,e=t.length;if(e===0)return"";for(var n="",r=0;r<e;r++){var s=t[r];n+=s.x+","+s.y+" "}return n.trim()}};Object.defineProperty(se.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.points,e=t.length;return e===0?null:this.points[0]}});Object.defineProperty(se.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.points,e=t.length;return e===0?null:this.points[e-1]}});const{abs:rl,sqrt:i1,min:Bp,max:zp,pow:Fc}=Math,Kt=function(t,e,n,r){if(!(this instanceof Kt))return new Kt(t,e,n,r);if(t instanceof Kt)return new Kt(t.start,t.controlPoint1,t.controlPoint2,t.end);this.start=new z(t),this.controlPoint1=new z(e),this.controlPoint2=new z(n),this.end=new z(r)};Kt.throughPoints=function(){function t(n){var r=[],s=[],a=n.length-1,l;if(a==1)return r[0]=new z((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),s[0]=new z(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,s];var c=[];for(l=1;l<a-1;l++)c[l]=4*n[l].x+2*n[l+1].x;c[0]=n[0].x+2*n[1].x,c[a-1]=(8*n[a-1].x+n[a].x)/2;var f=e(c);for(l=1;l<a-1;++l)c[l]=4*n[l].y+2*n[l+1].y;c[0]=n[0].y+2*n[1].y,c[a-1]=(8*n[a-1].y+n[a].y)/2;var p=e(c);for(l=0;l<a;l++)r.push(new z(f[l],p[l])),l<a-1?s.push(new z(2*n[l+1].x-f[l+1],2*n[l+1].y-p[l+1])):s.push(new z((n[a].x+f[a-1])/2,(n[a].y+p[a-1])/2));return[r,s]}function e(n){var r=n.length,s=[],a=[],l=2;s[0]=n[0]/l;for(var c=1;c<r;c++)a[c]=1/l,l=(c<r-1?4:3.5)-a[c],s[c]=(n[c]-s[c-1])/l;for(c=1;c<r;c++)s[r-c-1]-=a[r-c]*s[r-c];return s}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=t(n),s=[],a=r[0].length,l=0;l<a;l++){var c=new z(r[0][l].x,r[0][l].y),f=new z(r[1][l].x,r[1][l].y);s.push(new Kt(n[l],c,f,n[l+1]))}return s}}();Kt.prototype={type:zt.Curve,bbox:function(){for(var t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end,s=t.x,a=t.y,l=e.x,c=e.y,f=n.x,p=n.y,g=r.x,h=r.y,x=new Array,w=new Array,b=[new Array,new Array],P,T,C,L,M,R,G,X,v=0;v<2;++v){if(v===0?(T=6*s-12*l+6*f,P=-3*s+9*l-9*f+3*g,C=3*l-3*s):(T=6*a-12*c+6*p,P=-3*a+9*c-9*p+3*h,C=3*c-3*a),rl(P)<1e-12){if(rl(T)<1e-12)continue;L=-C/T,0<L&&L<1&&w.push(L);continue}G=T*T-4*C*P,X=i1(G),!(G<0)&&(M=(-T+X)/(2*P),0<M&&M<1&&w.push(M),R=(-T-X)/(2*P),0<R&&R<1&&w.push(R))}for(var S=w.length,E=S,k,O,U;S--;)L=w[S],k=1-L,O=k*k*k*s+3*k*k*L*l+3*k*L*L*f+L*L*L*g,b[0][S]=O,U=k*k*k*a+3*k*k*L*c+3*k*L*L*p+L*L*L*h,b[1][S]=U,x[S]={X:O,Y:U};w[E]=0,w[E+1]=1,x[E]={X:s,Y:a},x[E+1]={X:g,Y:h},b[0][E]=s,b[1][E]=a,b[0][E+1]=g,b[1][E+1]=h,w.length=E+2,b[0].length=E+2,b[1].length=E+2,x.length=E+2;var W=Bp.apply(null,b[0]),Q=Bp.apply(null,b[1]),it=zp.apply(null,b[0]),I=zp.apply(null,b[1]);return new ht(W,Q,it-W,I-Q)},clone:function(){return new Kt(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(t,e){return this.pointAtT(this.closestPointT(t,e))},closestPointLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,s={precision:n,subdivisions:r};return this.lengthAtT(this.closestPointT(t,s),s)},closestPointNormalizedLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,s={precision:n,subdivisions:r},a=this.closestPointLength(t,s);if(!a)return 0;var l=this.length(s);return l===0?0:a/l},closestPointT:function(t,e){e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,s,a,l,c,f,p,g,h=r.length,x=h?1/h:0,w=0;w<h;w++){var b=r[w],P=b.start.distance(t),T=b.end.distance(t),C=P+T;(!g||C<g)&&(s=b,a=w*x,l=(w+1)*x,c=P,f=T,p=b.start.distance(b.end),g=C)}for(var L=Fc(10,-n);;){var M=c?rl(c-f)/c:0,R=f?rl(c-f)/f:0,G=M<L||R<L,X=c?c<p*L:!0,v=f?f<p*L:!0,S=X||v;if(G||S)return c<=f?a:l;var E=s.divide(.5);x/=2;var k=E[0].start.distance(t),O=E[0].end.distance(t),U=k+O,W=E[1].start.distance(t),Q=E[1].end.distance(t),it=W+Q;U<=it?(s=E[0],l-=x,c=k,f=O):(s=E[1],a+=x,c=W,f=Q)}},closestPointTangent:function(t,e){return this.tangentAtT(this.closestPointT(t,e))},containsPoint:function(t,e){var n=this.toPolyline(e);return n.containsPoint(t)},divideAt:function(t,e){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);var n=this.tAt(t,e);return this.divideAtT(n)},divideAtLength:function(t,e){var n=this.tAtLength(t,e);return this.divideAtT(n)},divideAtT:function(t){var e=this.start,n=this.controlPoint1,r=this.controlPoint2,s=this.end;if(t<=0)return[new Kt(e,e,e,e),new Kt(e,n,r,s)];if(t>=1)return[new Kt(e,n,r,s),new Kt(s,s,s,s)];var a=this.getSkeletonPoints(t),l=a.startControlPoint1,c=a.startControlPoint2,f=a.divider,p=a.dividerControlPoint1,g=a.dividerControlPoint2;return[new Kt(e,l,c,f),new Kt(f,p,g,s)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.controlPoint1.x===t.controlPoint1.x&&this.controlPoint1.y===t.controlPoint1.y&&this.controlPoint2.x===t.controlPoint2.x&&this.controlPoint2.y===t.controlPoint2.y&&this.end.x===t.end.x&&this.end.y===t.end.y},getSkeletonPoints:function(t){var e=this.start,n=this.controlPoint1,r=this.controlPoint2,s=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(t>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:s.clone(),dividerControlPoint1:s.clone(),dividerControlPoint2:s.clone()};var a=new yt(e,n).pointAt(t),l=new yt(n,r).pointAt(t),c=new yt(r,s).pointAt(t),f=new yt(a,l).pointAt(t),p=new yt(l,c).pointAt(t),g=new yt(f,p).pointAt(t),h={startControlPoint1:a,startControlPoint2:f,divider:g,dividerControlPoint1:p,dividerControlPoint2:c};return h},getSubdivisions:function(t){t=t||{};var e=t.precision===void 0?this.PRECISION:t.precision,n=this.start,r=this.controlPoint1,s=this.controlPoint2,a=this.end,l=[new Kt(n,r,s,a)];if(e===0)return l;var c=!this.isDifferentiable();if(c)return l;var f=this.endpointDistance(),p=Fc(10,-e),g=2,h=r.cross(n,a)===0&&s.cross(n,a)===0;h&&(g=2*e);for(var x=0;;){x+=1;for(var w=[],b=l.length,P=0;P<b;P++){var T=l[P],C=T.divide(.5);w.push(C[0],C[1])}for(var L=0,M=w.length,R=0;R<M;R++){var G=w[R];L+=G.endpointDistance()}if(x>=g){var X=L!==0?(L-f)/L:0;if(X<p)return w}l=w,f=L}},isDifferentiable:function(){var t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(r))},length:function(t){t=t||{};for(var e=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:e}):t.subdivisions,r=0,s=n.length,a=0;a<s;a++){var l=n[a];r+=l.endpointDistance()}return r},lengthAtT:function(t,e){if(t<=0)return 0;e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=this.divide(t)[0],s=r.length({precision:n});return s},pointAt:function(t,e){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();var n=this.tAt(t,e);return this.pointAtT(n)},pointAtLength:function(t,e){var n=this.tAtLength(t,e);return this.pointAtT(n)},pointAtT:function(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider},PRECISION:3,round:function(t){return this.start.round(t),this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,n){return this.start.scale(t,e,n),this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},tangentAt:function(t,e){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var n=this.tAt(t,e);return this.tangentAtT(n)},tangentAtLength:function(t,e){if(!this.isDifferentiable())return null;var n=this.tAtLength(t,e);return this.tangentAtT(n)},tangentAtT:function(t){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var e=this.getSkeletonPoints(t),n=e.startControlPoint2,r=e.dividerControlPoint1,s=e.divider,a=new yt(n,r);return a.translate(s.x-n.x,s.y-n.y),a},tAt:function(t,e){if(t<=0)return 0;if(t>=1)return 1;e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,s={precision:n,subdivisions:r},a=this.length(s),l=a*t;return this.tAtLength(l,s)},tAtLength:function(t,e){var n=!0;t<0&&(n=!1,t=-t),e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,s=e.subdivisions===void 0?this.getSubdivisions({precision:r}):e.subdivisions,a={precision:r,subdivisions:s},l,c,f,p,g,h=0,x=s.length,w=1/x,b=0;b<x;b++){var P=n?b:x-1-b,T=s[b],C=T.endpointDistance();if(t<=h+C){l=T,c=P*w,f=(P+1)*w,p=n?t-h:C+h-t,g=n?C+h-t:t-h;break}h+=C}if(!l)return n?1:0;for(var L=this.length(a),M=Fc(10,-r);;){var R;if(R=L!==0?p/L:0,R<M)return c;if(R=L!==0?g/L:0,R<M)return f;var G,X,v=l.divide(.5);w/=2;var S=v[0].endpointDistance(),E=v[1].endpointDistance();p<=S?(l=v[0],f-=w,G=p,X=S-G):(l=v[1],c+=w,G=p-S,X=E-G),p=G,g=X}},toPoints:function(t){t=t||{};for(var e=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:e}):t.subdivisions,r=[n[0].start.clone()],s=n.length,a=0;a<s;a++){var l=n[a];r.push(l.end.clone())}return r},toPolyline:function(t){return new se(this.toPoints(t))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};Kt.prototype.divide=Kt.prototype.divideAtT;function Do(t){var e,n,r=[];for(n=arguments.length,e=1;e<n;e++)r.push(arguments[e]);if(!t)throw new Error("Missing a parent object.");var s=Object.create(t);for(n=r.length,e=0;e<n;e++){var a=r[e],l,c;for(c in a)a.hasOwnProperty(c)&&(delete s[c],l=Object.getOwnPropertyDescriptor(a,c),Object.defineProperty(s,c,l))}return s}const Ct=function(t){if(!(this instanceof Ct))return new Ct(t);if(typeof t=="string")return new Ct.parse(t);this.segments=[];var e,n;if(t)if(Array.isArray(t)&&t.length!==0)if(t=t.reduce(function(c,f){return c.concat(f)},[]),n=t.length,t[0].isSegment)for(e=0;e<n;e++){var r=t[e];this.appendSegment(r)}else{var s=null;for(e=0;e<n;e++){var a=t[e];if(!(a instanceof yt||a instanceof Kt))throw new Error("Cannot construct a path segment from the provided object.");e===0&&this.appendSegment(Ct.createSegment("M",a.start)),s&&!s.end.equals(a.start)&&this.appendSegment(Ct.createSegment("M",a.start)),a instanceof yt?this.appendSegment(Ct.createSegment("L",a.end)):a instanceof Kt&&this.appendSegment(Ct.createSegment("C",a.controlPoint1,a.controlPoint2,a.end)),s=a}}else if(t.isSegment)this.appendSegment(t);else if(t instanceof yt)this.appendSegment(Ct.createSegment("M",t.start)),this.appendSegment(Ct.createSegment("L",t.end));else if(t instanceof Kt)this.appendSegment(Ct.createSegment("M",t.start)),this.appendSegment(Ct.createSegment("C",t.controlPoint1,t.controlPoint2,t.end));else if(t instanceof se){if(!(t.points&&t.points.length!==0))return;for(n=t.points.length,e=0;e<n;e++){var l=t.points[e];e===0?this.appendSegment(Ct.createSegment("M",l)):this.appendSegment(Ct.createSegment("L",l))}}else throw new Error("Cannot construct a path from the provided object.")};Ct.parse=function(t){if(!t)return new Ct;for(var e=new Ct,n=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,r=t.match(n),s=r.length,a=0;a<s;a++){var l=r[a],c=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,f=l.match(c),p=Ct.createSegment.apply(this,f);e.appendSegment(p)}return e};Ct.createSegment=function(t){if(!t)throw new Error("Type must be provided.");var e=Ct.segmentTypes[t];if(!e)throw new Error(t+" is not a recognized path segment type.");for(var n=[],r=arguments.length,s=1;s<r;s++)n.push(arguments[s]);return sr(e,n)};Ct.prototype={type:zt.Path,appendSegment:function(t){var e=this.segments,n=e.length,r,s=n!==0?e[n-1]:null,a=null;if(Array.isArray(t)){if(t=t.reduce(function(p,g){return p.concat(g)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var l=t.length,c=0;c<l;c++){var f=t[c];r=this.prepareSegment(f,s,a),e.push(r),s=r}}else{if(!t||!t.isSegment)throw new Error("Segment required.");r=this.prepareSegment(t,s,a),e.push(r)}},bbox:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n,r=0;r<e;r++){var s=t[r];if(s.isVisible){var a=s.bbox();n=n?n.union(a):a}}if(n)return n;var l=t[e-1];return new ht(l.end.x,l.end.y,0,0)},clone:function(){for(var t=this.segments,e=t.length,n=new Ct,r=0;r<e;r++){var s=t[r].clone();n.appendSegment(s)}return n},closestPoint:function(t,e){var n=this.closestPointT(t,e);return n?this.pointAtT(n):null},closestPointLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,s={precision:n,segmentSubdivisions:r},a=this.closestPointT(t,s);return a?this.lengthAtT(a,s):0},closestPointNormalizedLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,s={precision:n,segmentSubdivisions:r},a=this.closestPointLength(t,s);if(a===0)return 0;var l=this.length(s);return l===0?0:a/l},closestPointT:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;e=e||{};for(var s=e.precision===void 0?this.PRECISION:e.precision,a=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,l,c=1/0,f=0;f<r;f++){var p=n[f],g=a[f];if(p.isVisible){var h=p.closestPointT(t,{precision:s,subdivisions:g}),x=p.pointAtT(h),w=new yt(x,t).squaredLength();w<c&&(l={segmentIndex:f,value:h},c=w)}}return l||{segmentIndex:r-1,value:1}},closestPointTangent:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;e=e||{};for(var s=e.precision===void 0?this.PRECISION:e.precision,a=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,l,c=1/0,f=0;f<r;f++){var p=n[f],g=a[f];if(p.isDifferentiable()){var h=p.closestPointT(t,{precision:s,subdivisions:g}),x=p.pointAtT(h),w=new yt(x,t).squaredLength();w<c&&(l=p.tangentAtT(h),c=w)}}return l||null},containsPoint:function(t,e){var n=this.toPolylines(e);if(!n)return!1;for(var r=n.length,s=0,a=0;a<r;a++){var l=n[a];l.containsPoint(t)&&s++}return s%2===1},divideAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var s=e.precision===void 0?this.PRECISION:e.precision,a=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,l={precision:s,segmentSubdivisions:a},c=this.length(l),f=c*t;return this.divideAtLength(f,l)},divideAtLength:function(t,e){var n=this.segments.length;if(n===0)return null;var r=!0;t<0&&(r=!1,t=-t),e=e||{};var s=e.precision===void 0?this.PRECISION:e.precision,a=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,l,c,f=0,p,g,h,x,w;for(l=0;l<n;l++){var b=r?l:n-1-l;c=this.getSegment(b);var P=a[b],T=c.length({precision:s,subdivisions:P});if(c.isDifferentiable()&&(h=c,x=b,t<=f+T)){g=b,p=c.divideAtLength((r?1:-1)*(t-f),{precision:s,subdivisions:P});break}f+=T}if(!h)return null;p||(g=x,w=r?1:0,p=h.divideAtT(w));var C=this.clone();C.replaceSegment(g,p);var L=g,M=g+1,R=g+2;p[0].isDifferentiable()||(C.removeSegment(L),M-=1,R-=1);var G=C.getSegment(M).start;C.insertSegment(M,Ct.createSegment("M",G)),R+=1,p[1].isDifferentiable()||(C.removeSegment(R-1),R-=1);var X=R-L-1;for(l=R;l<C.segments.length;l++){var v=this.getSegment(l-X);if(c=C.getSegment(l),c.type==="Z"&&!v.subpathStartSegment.end.equals(c.subpathStartSegment.end)){var S=Ct.createSegment("L",v.end);C.replaceSegment(l,S)}}var E=new Ct(C.segments.slice(0,M)),k=new Ct(C.segments.slice(M));return[E,k]},equals:function(t){if(!t)return!1;var e=this.segments,n=t.segments,r=e.length;if(n.length!==r)return!1;for(var s=0;s<r;s++){var a=e[s],l=n[s];if(a.type!==l.type||!a.equals(l))return!1}return!0},getSegment:function(t){var e=this.segments,n=e.length;if(n===0)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");return e[t]},getSegmentSubdivisions:function(t){var e=this.segments,n=e.length;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,s=[],a=0;a<n;a++){var l=e[a],c=l.getSubdivisions({precision:r});s.push(c)}return s},getSubpaths:function(){const e=this.clone().validate().segments,n=e.length,r=[];for(let s=0;s<n;s++){const a=e[s];a.isSubpathStart?r.push(new Ct(a)):r[r.length-1].appendSegment(a)}return r},insertSegment:function(t,e){var n=this.segments,r=n.length;if(t<0&&(t=r+t+1),t>r||t<0)throw new Error("Index out of range.");var s,a=null,l=null;if(r!==0&&(t>=1?(a=n[t-1],l=a.nextSegment):l=n[0]),Array.isArray(e)){if(e=e.reduce(function(g,h){return g.concat(h)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var c=e.length,f=0;f<c;f++){var p=e[f];s=this.prepareSegment(p,a,l),n.splice(t+f,0,s),a=s}}else{if(!e||!e.isSegment)throw new Error("Segment required.");s=this.prepareSegment(e,a,l),n.splice(t,0,s)}},intersectionWithLine:function(t,e){var n=null,r=this.toPolylines(e);if(!r)return null;for(var s=0,a=r.length;s<a;s++){var l=r[s],c=t.intersect(l);c&&(n||(n=[]),Array.isArray(c)?Array.prototype.push.apply(n,c):n.push(c))}return n},isDifferentiable:function(){for(var t=this.segments,e=t.length,n=0;n<e;n++){var r=t[n];if(r.isDifferentiable())return!0}return!1},isValid:function(){var t=this.segments,e=t.length===0||t[0].type==="M";return e},length:function(t){var e=this.segments,n=e.length;if(n===0)return 0;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,a=0,l=0;l<n;l++){var c=e[l],f=s[l];a+=c.length({subdivisions:f})}return a},lengthAtT:function(t,e){var n=this.segments,r=n.length;if(r===0)return 0;var s=t.segmentIndex;if(s<0)return 0;var a=t.value;s>=r?(s=r-1,a=1):a<0?a=0:a>1&&(a=1),e=e||{};for(var l=e.precision===void 0?this.PRECISION:e.precision,c=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:l}):e.segmentSubdivisions,f,p=0,g=0;g<s;g++){var h=n[g];f=c[g],p+=h.length({precisison:l,subdivisions:f})}return h=n[s],f=c[s],p+=h.lengthAtT(a,{precisison:l,subdivisions:f}),p},pointAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();e=e||{};var s=e.precision===void 0?this.PRECISION:e.precision,a=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,l={precision:s,segmentSubdivisions:a},c=this.length(l),f=c*t;return this.pointAtLength(f,l)},pointAtLength:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;if(t===0)return this.start.clone();var s=!0;t<0&&(s=!1,t=-t),e=e||{};for(var a=e.precision===void 0?this.PRECISION:e.precision,l=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:a}):e.segmentSubdivisions,c,f=0,p=0;p<r;p++){var g=s?p:r-1-p,h=n[g],x=l[g],w=h.length({precision:a,subdivisions:x});if(h.isVisible){if(t<=f+w)return h.pointAtLength((s?1:-1)*(t-f),{precision:a,subdivisions:x});c=h}f+=w}if(c)return s?c.end:c.start;var b=n[r-1];return b.end.clone()},pointAtT:function(t){var e=this.segments,n=e.length;if(n===0)return null;var r=t.segmentIndex;if(r<0)return e[0].pointAtT(0);if(r>=n)return e[n-1].pointAtT(1);var s=t.value;return s<0?s=0:s>1&&(s=1),e[r].pointAtT(s)},PRECISION:3,prepareSegment:function(t,e,n){t.previousSegment=e,t.nextSegment=n,e&&(e.nextSegment=t),n&&(n.previousSegment=t);var r=t;return t.isSubpathStart&&(t.subpathStartSegment=t,r=n),r&&this.updateSubpathStartSegment(r),t},removeSegment:function(t){var e=this.segments,n=e.length;if(n===0)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");var r=e.splice(t,1)[0],s=r.previousSegment,a=r.nextSegment;s&&(s.nextSegment=a),a&&(a.previousSegment=s),r.isSubpathStart&&a&&this.updateSubpathStartSegment(a)},replaceSegment:function(t,e){var n=this.segments,r=n.length;if(r===0)throw new Error("Path has no segments.");if(t<0&&(t=r+t),t>=r||t<0)throw new Error("Index out of range.");var s,a=n[t],l=a.previousSegment,c=a.nextSegment,f=a.isSubpathStart;if(Array.isArray(e)){if(e=e.reduce(function(x,w){return x.concat(w)},[]),!e[0].isSegment)throw new Error("Segments required.");n.splice(t,1);for(var p=e.length,g=0;g<p;g++){var h=e[g];s=this.prepareSegment(h,l,c),n.splice(t+g,0,s),l=s,f&&s.isSubpathStart&&(f=!1)}}else{if(!e||!e.isSegment)throw new Error("Segment required.");s=this.prepareSegment(e,l,c),n.splice(t,1,s),f&&s.isSubpathStart&&(f=!1)}f&&c&&this.updateSubpathStartSegment(c)},round:function(t){for(var e=this.segments,n=e.length,r=0;r<n;r++){var s=e[r];s.round(t)}return this},scale:function(t,e,n){for(var r=this.segments,s=r.length,a=0;a<s;a++){var l=r[a];l.scale(t,e,n)}return this},segmentAt:function(t,e){var n=this.segmentIndexAt(t,e);return n?this.getSegment(n):null},segmentAtLength:function(t,e){var n=this.segmentIndexAtLength(t,e);return n?this.getSegment(n):null},segmentIndexAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var s=e.precision===void 0?this.PRECISION:e.precision,a=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,l={precision:s,segmentSubdivisions:a},c=this.length(l),f=c*t;return this.segmentIndexAtLength(f,l)},segmentIndexAtLength:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;var s=!0;t<0&&(s=!1,t=-t),e=e||{};for(var a=e.precision===void 0?this.PRECISION:e.precision,l=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:a}):e.segmentSubdivisions,c=null,f=0,p=0;p<r;p++){var g=s?p:r-1-p,h=n[g],x=l[g],w=h.length({precision:a,subdivisions:x});if(h.isVisible){if(t<=f+w)return g;c=g}f+=w}return c},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var s=e.precision===void 0?this.PRECISION:e.precision,a=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,l={precision:s,segmentSubdivisions:a},c=this.length(l),f=c*t;return this.tangentAtLength(f,l)},tangentAtLength:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;var s=!0;t<0&&(s=!1,t=-t),e=e||{};for(var a=e.precision===void 0?this.PRECISION:e.precision,l=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:a}):e.segmentSubdivisions,c,f=0,p=0;p<r;p++){var g=s?p:r-1-p,h=n[g],x=l[g],w=h.length({precision:a,subdivisions:x});if(h.isDifferentiable()){if(t<=f+w)return h.tangentAtLength((s?1:-1)*(t-f),{precision:a,subdivisions:x});c=h}f+=w}if(c){var b=s?1:0;return c.tangentAtT(b)}return null},tangentAtT:function(t){var e=this.segments,n=e.length;if(n===0)return null;var r=t.segmentIndex;if(r<0)return e[0].tangentAtT(0);if(r>=n)return e[n-1].tangentAtT(1);var s=t.value;return s<0?s=0:s>1&&(s=1),e[r].tangentAtT(s)},toPoints:function(t){var e=this.segments,n=e.length;if(n===0)return null;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,a=[],l=[],c=0;c<n;c++){var f=e[c];if(f.isVisible){var p=s[c];if(p.length>0){var g=p.map(function(h){return h.start});Array.prototype.push.apply(l,g)}else l.push(f.start)}else l.length>0&&(l.push(e[c-1].end),a.push(l),l=[])}return l.length>0&&(l.push(this.end),a.push(l)),a},toPolylines:function(t){var e=[],n=this.toPoints(t);if(!n)return null;for(var r=0,s=n.length;r<s;r++)e.push(new se(n[r]));return e},toString:function(){for(var t=this.segments,e=t.length,n="",r=0;r<e;r++){var s=t[r];n+=s.serialize()+" "}return n.trim()},translate:function(t,e){for(var n=this.segments,r=n.length,s=0;s<r;s++){var a=n[s];a.translate(t,e)}return this},updateSubpathStartSegment:function(t){for(var e=t.previousSegment;t&&!t.isSubpathStart;)e?t.subpathStartSegment=e.subpathStartSegment:t.subpathStartSegment=null,e=t,t=t.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,Ct.createSegment("M",0,0)),this}};Object.defineProperty(Ct.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n=0;n<e;n++){var r=t[n];if(r.isVisible)return r.start}return t[e-1].end}});Object.defineProperty(Ct.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n=e-1;n>=0;n--){var r=t[n];if(r.isVisible)return r.end}return t[e-1].end}});function sr(t,e){return e.unshift(null),new(Function.prototype.bind.apply(t,e))}var Ii={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(t){if(t<=0)return 0;var e=this.length();return t>=1?e:e*t},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Ii,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Ii,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(Ii,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var Me=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof Me))return sr(Me,t);if(e===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var r;if(t[0]instanceof yt){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" lines provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===2)return this.end=new z(+t[0],+t[1]),this;if(e<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" coordinates provided).");var s;for(r=[],n=0;n<e;n+=2)s=t.slice(n,n+2),r.push(sr(Me,s));return r}else{if(e===1)return this.end=new z(t[0]),this;var a;for(r=[],n=0;n<e;n+=1)a=t[n],r.push(new Me(a));return r}},Qg={clone:function(){return new Me(this.end)},divideAt:function(t){var e=new yt(this.start,this.end),n=e.divideAt(t);return[new Me(n[0]),new Me(n[1])]},divideAtLength:function(t){var e=new yt(this.start,this.end),n=e.divideAtLength(t);return[new Me(n[0]),new Me(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(t){return this.end.round(t),this},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(Qg,"type",{configurable:!0,enumerable:!0,value:"L"});Me.prototype=Do(Ii,yt.prototype,Qg);var cn=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof cn))return sr(cn,t);if(e===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var r;if(t[0]instanceof Kt){if(e===1)return this.controlPoint1=t[0].controlPoint1.clone(),this.controlPoint2=t[0].controlPoint2.clone(),this.end=t[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" curves provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===6)return this.controlPoint1=new z(+t[0],+t[1]),this.controlPoint2=new z(+t[2],+t[3]),this.end=new z(+t[4],+t[5]),this;if(e<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" coordinates provided).");var s;for(r=[],n=0;n<e;n+=6)s=t.slice(n,n+6),r.push(sr(cn,s));return r}else{if(e===3)return this.controlPoint1=new z(t[0]),this.controlPoint2=new z(t[1]),this.end=new z(t[2]),this;if(e<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" points provided).");var a;for(r=[],n=0;n<e;n+=3)a=t.slice(n,n+3),r.push(sr(cn,a));return r}},Kg={clone:function(){return new cn(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(t,e){var n=new Kt(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAt(t,e);return[new cn(r[0]),new cn(r[1])]},divideAtLength:function(t,e){var n=new Kt(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAtLength(t,e);return[new cn(r[0]),new cn(r[1])]},divideAtT:function(t){var e=new Kt(this.start,this.controlPoint1,this.controlPoint2,this.end),n=e.divideAtT(t);return[new cn(n[0]),new cn(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(r))},round:function(t){return this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,n){return this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},serialize:function(){var t=this.controlPoint1,e=this.controlPoint2,n=this.end;return this.type+" "+t.x+" "+t.y+" "+e.x+" "+e.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};Object.defineProperty(Kg,"type",{configurable:!0,enumerable:!0,value:"C"});cn.prototype=Do(Ii,Kt.prototype,Kg);var Pi=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof Pi))return sr(Pi,t);if(e===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var r;if(t[0]instanceof yt){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" lines provided).")}else if(t[0]instanceof Kt){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" curves provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===2)return this.end=new z(+t[0],+t[1]),this;if(e<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" coordinates provided).");var s;for(r=[],n=0;n<e;n+=2)s=t.slice(n,n+2),n===0?r.push(sr(Pi,s)):r.push(sr(Me,s));return r}else{if(e===1)return this.end=new z(t[0]),this;var a;for(r=[],n=0;n<e;n+=1)a=t[n],n===0?r.push(new Pi(a)):r.push(new Me(a));return r}},vf={bbox:function(){return null},clone:function(){return new Pi(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(t){return this.end.equals(t.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(t){return this.end.round(t),this},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(vf,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(vf,"type",{configurable:!0,enumerable:!0,value:"M"});Pi.prototype=Do(Ii,vf);var Cs=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof Cs))return sr(Cs,t);if(e>0)throw new Error("Closepath constructor expects no arguments.");return this},yf={clone:function(){return new Cs},divideAt:function(t){var e=new yt(this.start,this.end),n=e.divideAt(t);return[n[1].isDifferentiable()?new Me(n[0]):this.clone(),new Me(n[1])]},divideAtLength:function(t){var e=new yt(this.start,this.end),n=e.divideAtLength(t);return[n[1].isDifferentiable()?new Me(n[0]):this.clone(),new Me(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(yf,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(yf,"type",{configurable:!0,enumerable:!0,value:"Z"});Cs.prototype=Do(Ii,yt.prototype,yf);var s1=Ct.segmentTypes={L:Me,C:cn,M:Pi,Z:Cs,z:Cs};Ct.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(s1).join("")+",.]*$");Ct.isDataSupported=function(t){return typeof t!="string"?!1:this.regexSupportedData.test(t)};const o1={curveThroughPoints:function(t){return console.warn("deprecated"),new Ct(Kt.throughPoints(t)).serialize()},getCurveControlPoints:function(t){console.warn("deprecated");var e=[],n=[],r=t.length-1,s;if(r==1)return e[0]=new z((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),n[0]=new z(2*e[0].x-t[0].x,2*e[0].y-t[0].y),[e,n];var a=[];for(s=1;s<r-1;s++)a[s]=4*t[s].x+2*t[s+1].x;a[0]=t[0].x+2*t[1].x,a[r-1]=(8*t[r-1].x+t[r].x)/2;var l=this.getFirstControlPoints(a);for(s=1;s<r-1;++s)a[s]=4*t[s].y+2*t[s+1].y;a[0]=t[0].y+2*t[1].y,a[r-1]=(8*t[r-1].y+t[r].y)/2;var c=this.getFirstControlPoints(a);for(s=0;s<r;s++)e.push(new z(l[s],c[s])),s<r-1?n.push(new z(2*t[s+1].x-l[s+1],2*t[s+1].y-c[s+1])):n.push(new z((t[r].x+l[r-1])/2,(t[r].y+c[r-1])/2));return[e,n]},getCurveDivider:function(t,e,n,r){console.warn("deprecated");var s=new Kt(t,e,n,r);return function(l){var c=s.divide(l);return[{p0:c[0].start,p1:c[0].controlPoint1,p2:c[0].controlPoint2,p3:c[0].end},{p0:c[1].start,p1:c[1].controlPoint1,p2:c[1].controlPoint2,p3:c[1].end}]}},getFirstControlPoints:function(t){console.warn("deprecated");var e=t.length,n=[],r=[],s=2;n[0]=t[0]/s;for(var a=1;a<e;a++)r[a]=1/s,s=(a<e-1?4:3.5)-r[a],n[a]=(t[a]-n[a-1])/s;for(a=1;a<e;a++)n[e-a-1]-=r[e-a]*n[e-a];return n},getInversionSolver:function(t,e,n,r){console.warn("deprecated");var s=new Kt(t,e,n,r);return function(l){return s.closestPointT(l)}}},en=function(t){if(!(this instanceof en))return new en(t);if(typeof t=="string")return new en.parse(t);this.points=Array.isArray(t)?t.map(z):[]};en.parse=function(t){return new en(Yg(t))};en.fromRect=function(t){return new en([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft()])};en.prototype=Do(se.prototype,{type:zt.Polygon,clone:function(){return new en(Xg(this.points))},convexHull:function(){return new en(Zg(this.points))},lengthPoints:function(){const{start:t,end:e,points:n}=this;return n.length<=1||t.equals(e)?n:[...n,t.clone()]}});function Jg(t,e,n,r){switch(t.type){case zt.Line:{switch(e.type){case zt.Line:return Ti(t,e)}break}case zt.Ellipse:{switch(e.type){case zt.Line:return xf(t,e);case zt.Ellipse:return tm(t,e)}break}case zt.Rect:{switch(e.type){case zt.Line:return em(t,e);case zt.Ellipse:return nm(t,e);case zt.Rect:return wf(t,e)}break}case zt.Polyline:{switch(e.type){case zt.Line:return Ml(t,e);case zt.Ellipse:return Sf(t,e);case zt.Rect:return rm(t,e);case zt.Polyline:return im(t,e)}break}case zt.Polygon:{switch(e.type){case zt.Line:return bf(t,e);case zt.Ellipse:return Nl(t,e);case zt.Rect:return sm(t,e);case zt.Polyline:return om(t,e);case zt.Polygon:return am(t,e)}break}case zt.Path:{switch(e.type){case zt.Line:return lm(t,e,n);case zt.Ellipse:return um(t,e,n);case zt.Rect:return cm(t,e,n);case zt.Polyline:return Ef(t,e,n);case zt.Polygon:return Ol(t,e,n);case zt.Path:return fm(t,e,n,r)}break}}switch(e.type){case zt.Ellipse:case zt.Rect:case zt.Polyline:case zt.Polygon:case zt.Path:return Jg(e,t,r,n);default:throw Error(`The intersection for ${t} and ${e} could not be found.`)}}function Ti(t,e){const n=t.start.x,r=t.start.y,s=t.end.x,a=t.end.y,l=e.start.x,c=e.start.y,f=e.end.x,p=e.end.y,g=s-n,h=a-r,x=f-l,w=p-c,b=n-l,P=r-c,T=g*w-x*h,C=(g*P-h*b)/T,L=(x*P-w*b)/T;return C>=0&&C<=1&&L>=0&&L<=1}function xf(t,e){const n=t.a,r=t.b,s=t.x,a=t.y,l=e.start.x-s,c=e.end.x-s,f=e.start.y-a,p=e.end.y-a,g=n*n,h=r*r,x=c-l,w=p-f,b=x*x/g+w*w/h,P=2*l*x/g+2*f*w/h,T=l*l/g+f*f/h-1,C=P*P-4*b*T;if(C===0){const L=-P/2/b;return L>=0&&L<=1}else if(C>0){const L=Math.sqrt(C),M=(-P+L)/2/b,R=(-P-L)/2/b;return M>=0&&M<=1||R>=0&&R<=1}return!1}function tm(t,e){return a1(t,0,e,0)}function em(t,e){const{start:n,end:r}=e,{x:s,y:a,width:l,height:c}=t;return n.x>s+l&&r.x>s+l||n.x<s&&r.x<s||n.y>a+c&&r.y>a+c||n.y<a&&r.y<a?!1:t.containsPoint(e.start)||t.containsPoint(e.end)?!0:Ti(t.topLine(),e)||Ti(t.rightLine(),e)||Ti(t.bottomLine(),e)||Ti(t.leftLine(),e)}function nm(t,e){return wf(t,ht.fromEllipse(e))?Nl(en.fromRect(t),e):!1}function wf(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function Ml(t,e){return dm(t,e,{interior:!1})}function Sf(t,e){return hm(t,e,{interior:!1})}function rm(t,e){return pm(t,e,{interior:!1})}function im(t,e){return Fl(t,e,{interior:!1})}function bf(t,e){return dm(t,e,{interior:!0})}function Nl(t,e){return hm(t,e,{interior:!0})}function sm(t,e){return pm(t,e,{interior:!0})}function om(t,e){return Fl(t,e,{interior:!0})}function am(t,e){return Af(t,e,{interior:!0})}function lm(t,e,n){return t.getSubpaths().some(r=>{const[s]=r.toPolylines(n),{type:a}=r.getSegment(-1);return a==="Z"?bf(s,e):Ml(s,e)})}function um(t,e,n){return t.getSubpaths().some(r=>{const[s]=r.toPolylines(n),{type:a}=r.getSegment(-1);return a==="Z"?Nl(s,e):Sf(s,e)})}function cm(t,e,n){return Ol(t,en.fromRect(e),n)}function Ef(t,e,n){return gm(t,e,n,{interior:!1})}function Ol(t,e,n){return gm(t,e,n,{interior:!0})}function fm(t,e,n,r){return t.getSubpaths().some(s=>{const[a]=s.toPolylines(n),{type:l}=s.getSegment(-1);return l==="Z"?Ol(e,a,r):Ef(e,a,r)})}function dm(t,e,n={}){const{interior:r=!1}=n;let s;if(r){if(t.containsPoint(e.start))return!0;const{start:c,end:f,points:p}=t;s=f.equals(c)?p:[...p,c]}else s=t.points;const{length:a}=s,l=new yt;for(let c=0;c<a-1;c++)if(l.start=s[c],l.end=s[c+1],Ti(e,l))return!0;return!1}function hm(t,e,n={}){const{start:r,end:s,points:a}=t;if(e.containsPoint(r))return!0;let l;const{interior:c=!1}=n;if(c){if(t.containsPoint(e.center()))return!0;l=s.equals(r)?a:[...a,r]}else l=a;const{length:f}=l,p=new yt;for(let g=0;g<f-1;g++)if(p.start=l[g],p.end=l[g+1],xf(e,p))return!0;return!1}function pm(t,e,n){const r=en.fromRect(e);return Af(t,r,n)}function gm(t,e,n,r){return t.getSubpaths().some(s=>{const[a]=s.toPolylines(n),{type:l}=s.getSegment(-1);return l==="Z"?Af(e,a,r):Fl(e,a,r)})}function Fl(t,e,n={}){const{interior:r=!1}=n;let s;if(r){const{start:f}=e;if(t.containsPoint(f))return!0;s=t.clone().close()}else s=t;const a=e.points,{length:l}=a,c=new yt;for(let f=0;f<l-1;f++)if(c.start=a[f],c.end=a[f+1],Ml(s,c))return!0;return!1}function Af(t,e,n){return e.containsPoint(t.start)||Fl(t,e.clone().close(),n)}function a1(t,e,n,r){const{cos:s,sin:a}=Math,l=a(e),c=s(e),f=a(r),p=s(r),g=l*l,h=c*c,x=l*c,w=f*f,b=p*p,P=f*p,T=t.a*t.a,C=t.b*t.b,L=n.a*n.a,M=n.b*n.b,R=T*g+C*h,G=L*w+M*b,X=T*h+C*g,v=L*b+M*w;let S=2*(C-T)*x,E=2*(M-L)*P,k=-2*R*t.x-S*t.y,O=-2*G*n.x-E*n.y,U=-S*t.x-2*X*t.y,W=-E*n.x-2*v*n.y;const Q=R*t.x*t.x+X*t.y*t.y+S*t.x*t.y-T*C,it=G*n.x*n.x+v*n.y*n.y+E*n.x*n.y-L*M;S=S/2,E=E/2,k=k/2,O=O/2,U=U/2,W=W/2;const I=Qr([[R,S,k],[S,X,U],[k,U,Q]]),B=Qr([[G,E,O],[E,v,W],[O,W,it]]),N=.33333333*(Qr([[G,S,k],[E,X,U],[O,U,Q]])+Qr([[R,E,k],[S,v,U],[k,W,Q]])+Qr([[R,S,O],[S,X,W],[k,U,it]])),D=.33333333*(Qr([[R,E,O],[S,v,W],[k,W,it]])+Qr([[G,S,O],[E,X,W],[O,U,it]])+Qr([[G,E,k],[E,v,U],[O,W,Q]])),$=il([[I,N],[N,D]]),_=il([[I,D],[N,B]]),j=il([[N,D],[D,B]]);return!(il([[2*$,_],[_,2*j]])>0&&(D>0||N>0))}function il(t){return t[0][0]*t[1][1]-t[0][1]*t[1][0]}function Qr(t){return t[0][0]*t[1][1]*t[2][2]-t[0][0]*t[1][2]*t[2][1]-t[0][1]*t[1][0]*t[2][2]+t[0][1]*t[1][2]*t[2][0]+t[0][2]*t[1][0]*t[2][1]-t[0][2]*t[1][1]*t[2][0]}const l1=Object.freeze(Object.defineProperty({__proto__:null,ellipseWithEllipse:tm,ellipseWithLine:xf,exists:Jg,lineWithLine:Ti,pathWithEllipse:um,pathWithLine:lm,pathWithPath:fm,pathWithPolygon:Ol,pathWithPolyline:Ef,pathWithRect:cm,polygonWithEllipse:Nl,polygonWithLine:bf,polygonWithPolygon:am,polygonWithPolyline:om,polygonWithRect:sm,polylineWithEllipse:Sf,polylineWithLine:Ml,polylineWithPolyline:im,polylineWithRect:rm,rectWithEllipse:nm,rectWithLine:em,rectWithRect:wf},Symbol.toStringTag,{value:"Module"})),Ci=l1,u1=Object.freeze(Object.defineProperty({__proto__:null,Curve:Kt,Ellipse:He,Line:yt,Path:Ct,Point:z,Polygon:en,Polyline:se,Rect:ht,bezier:o1,ellipse:J0,intersection:Ci,line:_i,normalizeAngle:kn,point:bl,random:Xc,rect:r1,scale:Y0,snapToGrid:Mi,toDeg:Ll,toRad:tn,types:zt},Symbol.toStringTag,{value:"Module"})),rt=function(){var t=typeof window=="object"&&!!window.SVGAngle;if(!t)return function(){throw new Error("SVG is required to use Vectorizer.")};var e={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},n="1.1",r=Math,s=r.PI,a=r.atan2,l=r.sqrt,c=r.min,f=r.max,p=r.cos,g=r.sin,h=function(v,S,E){if(!(this instanceof h))return h.apply(Object.create(h.prototype),arguments);if(v){if(h.isV(v)&&(v=v.node),S=S||{},h.isString(v)){if(v=v.trim(),v.toLowerCase()==="svg")v=h.createSvgDocument();else if(v[0]==="<"){var k=h.createSvgDocument(v);if(k.childNodes.length>1){var O=[],U,W;for(U=0,W=k.childNodes.length;U<W;U++){var Q=k.childNodes[U];O.push(new h(document.importNode(Q,!0)))}return O}v=document.importNode(k.firstChild,!0)}else v=document.createElementNS(e.svg,v);h.ensureId(v)}return this.node=v,this.setAttributes(S),E&&this.append(E),this}},x=h.prototype;Object.defineProperty(x,"id",{enumerable:!0,get:function(){return this.node.id},set:function(v){this.node.id=v}}),x.getTransformToElement=function(v){var S=this.node;if(h.isSVGGraphicsElement(v)&&h.isSVGGraphicsElement(S)){var E=h.toNode(v).getScreenCTM(),k=S.getScreenCTM();if(E&&k)return E.inverse().multiply(k)}return h.createSVGMatrix()},x.transform=function(v,S){var E=this.node;if(h.isUndefined(v))return h.transformStringToMatrix(this.attr("transform"));if(S&&S.absolute)return this.attr("transform",h.matrixToTransformString(v));var k=h.createSVGTransform(v);return E.transform.baseVal.appendItem(k),this},x.translate=function(v,S,E){E=E||{},S=S||0;var k=this.attr("transform")||"",O=h.parseTransformString(k);if(k=O.value,h.isUndefined(v))return O.translate;k=k.replace(/translate\([^)]*\)/g,"").trim();var U=E.absolute?v:O.translate.tx+v,W=E.absolute?S:O.translate.ty+S,Q="translate("+U+","+W+")";return this.attr("transform",(Q+" "+k).trim()),this},x.rotate=function(v,S,E,k){k=k||{};var O=this.attr("transform")||"",U=h.parseTransformString(O);if(O=U.value,h.isUndefined(v))return U.rotate;O=O.replace(/rotate\([^)]*\)/g,"").trim(),v%=360;var W=k.absolute?v:U.rotate.angle+v,Q=S!==void 0&&E!==void 0?","+S+","+E:"",it="rotate("+W+Q+")";return this.attr("transform",(O+" "+it).trim()),this},x.scale=function(v,S){S=h.isUndefined(S)?v:S;var E=this.attr("transform")||"",k=h.parseTransformString(E);if(E=k.value,h.isUndefined(v))return k.scale;E=E.replace(/scale\([^)]*\)/g,"").trim();var O="scale("+v+","+S+")";return this.attr("transform",(E+" "+O).trim()),this},x.bbox=function(v,S){var E,k=this.node,O=k.ownerSVGElement;if(!O)return new ht(0,0,0,0);try{E=k.getBBox()}catch{E={x:k.clientLeft,y:k.clientTop,width:k.clientWidth,height:k.clientHeight}}if(v)return new ht(E);var U=this.getTransformToElement(S||O);return h.transformRect(E,U)},x.getBBox=function(v){var S={},E,k=this.node,O=k.ownerSVGElement;if(!O||!h.isSVGGraphicsElement(k))return new ht(0,0,0,0);if(v&&(v.target&&(S.target=h.toNode(v.target)),v.recursive&&(S.recursive=v.recursive)),S.recursive){var W=this.children(),Q=W.length;if(Q===0)return this.getBBox({target:S.target,recursive:!1});S.target||(S.target=this);for(var it=0;it<Q;it++){var I=W[it],B;I.children().length===0?B=I.getBBox({target:S.target,recursive:!1}):B=I.getBBox({target:S.target,recursive:!0}),E?E=E.union(B):E=B}return E}else{try{E=k.getBBox()}catch{E={x:k.clientLeft,y:k.clientTop,width:k.clientWidth,height:k.clientHeight}}if(S.target){var U=this.getTransformToElement(S.target);return h.transformRect(E,U)}else return new ht(E)}};function w(v,S){v||(v={});var E=h("textPath"),k=v.d;if(k&&v["xlink:href"]===void 0){var O=h("path").attr("d",k).appendTo(S.defs());E.attr("xlink:href","#"+O.id)}return h.isObject(v)&&E.attr(v),E.node}function b(v,S,E){for(var k=E.includeAnnotationIndices,O=E.eol,U=E.lineHeight,W=E.baseSize,Q=0,it={},I=S.length-1,B=0;B<=I;B++){var N=S[B],D=null;if(h.isObject(N)){var $=N.attrs,_=h("tspan",$),j=_.node,mt=N.t;O&&B===I&&(mt+=O),j.textContent=mt;var st=$.class;st&&_.addClass(st),k&&_.attr("annotations",N.annotations),D=parseFloat($["font-size"]),isFinite(D)||(D=W),D&&D>Q&&(Q=D)}else O&&B===I&&(N+=O),j=document.createTextNode(N||" "),W&&W>Q&&(Q=W);v.appendChild(j)}return Q&&(it.maxFontSize=Q),U?it.lineHeight=U:Q&&(it.lineHeight=Q*1.2),it}var P=/em$/;function T(v,S){var E=parseFloat(v);return P.test(v)?E*S:E}function C(v,S,E,k){if(!Array.isArray(S))return 0;var O=S.length;if(!O)return 0;for(var U=S[0],W=T(U.maxFontSize,E)||E,Q=0,it=T(k,E),I=1;I<O;I++){U=S[I];var B=T(U.lineHeight,E)||it;Q+=B}var N=T(U.maxFontSize,E)||E,D;switch(v){case"middle":D=W/2-.15*N-Q/2;break;case"bottom":D=-(.25*N)-Q;break;default:case"top":D=.8*W;break}return D}x.text=function(v,S){if(v&&typeof v!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");v=h.sanitizeText(v),S||(S={});var E=S.displayEmpty,k=S.eol,O=S.textPath,U=S.textVerticalAnchor,W=U==="middle"||U==="bottom"||U==="top",Q=S.x;Q===void 0&&(Q=this.attr("x")||0);var it=S.includeAnnotationIndices,I=S.annotations;I&&!h.isArray(I)&&(I=[I]);var B=S.lineHeight,N=B==="auto",D=N?"1.5em":B||"1em";this.empty(),this.attr({"xml:space":"preserve",display:v||E?null:"none"});var $=parseFloat(this.attr("font-size"));$||($=16,(W||I)&&this.attr("font-size",$));var _=document,j;O?(typeof O=="string"&&(O={d:O}),j=w(O,this)):j=_.createDocumentFragment();for(var mt=0,st=v.split(`
`),ut=[],ft,et=0,ot=st.length-1;et<=ot;et++){var vt=D,Ot="v-line",kt=_.createElementNS(e.svg,"tspan"),Dt=st[et],Lt;if(Dt)if(I){var Et=h.annotateString(Dt,I,{offset:-mt,includeAnnotationIndices:it});Lt=b(kt,Et,{includeAnnotationIndices:it,eol:et!==ot&&k,lineHeight:N?null:D,baseSize:$});var Ft=Lt.lineHeight;Ft&&N&&et!==0&&(vt=Ft),et===0&&(ft=Lt.maxFontSize*.8)}else k&&et!==ot&&(Dt+=k),kt.textContent=Dt;else{kt.textContent="-",Ot+=" v-empty-line";var gt=kt.style;if(gt.fillOpacity=0,gt.strokeOpacity=0,I){Lt={},Et=h.findAnnotationsAtIndex(I,mt);let tt=$;for(let J=Et.length;J>0;J--){const bt=Et[J-1].attrs;if(!bt||!("font-size"in bt))continue;const Ht=parseFloat(bt["font-size"]);if(isFinite(Ht)){tt=Ht;break}}N&&(et>0?vt=tt*1.2:ft=tt*.8),kt.setAttribute("font-size",tt),Lt.maxFontSize=tt}}Lt&&ut.push(Lt),et>0&&kt.setAttribute("dy",vt),(et>0||O)&&kt.setAttribute("x",Q),kt.className.baseVal=Ot,j.appendChild(kt),mt+=Dt.length+1}if(W)if(I)vt=C(U,ut,$,D);else if(U==="top")vt="0.8em";else{var q;switch(ot>0?(q=parseFloat(D)||1,q*=ot,P.test(D)||(q/=$)):q=0,U){case"middle":vt=.3-q/2+"em";break;case"bottom":vt=-q-.3+"em";break}}else U===0?vt="0em":U?vt=U:(vt=0,this.attr("y")===null&&this.attr("y",ft||"0.8em"));return j.firstChild.setAttribute("dy",vt),this.append(j),this},x.removeAttr=function(v){const S=G[v],{ns:E,local:k}=h.qualifyAttr(S),O=this.node;return E?O.hasAttributeNS(E,k)&&O.removeAttributeNS(E,k):O.hasAttribute(S)&&O.removeAttribute(S),this},x.attr=function(v,S){if(h.isUndefined(v)){for(var E=this.node.attributes,k={},O=0;O<E.length;O++)k[E[O].name]=E[O].value;return k}if(h.isString(v)&&h.isUndefined(S))return this.node.getAttribute(G[v]);if(typeof v=="object")for(var U in v)v.hasOwnProperty(U)&&this.setAttribute(U,v[U]);else this.setAttribute(v,S);return this},x.normalizePath=function(){var v=this.tagName();return v==="PATH"&&this.attr("d",h.normalizePathData(this.attr("d"))),this},x.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},x.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},x.setAttributes=function(v){for(var S in v)v.hasOwnProperty(S)&&this.setAttribute(S,v[S]);return this},x.append=function(v){h.isArray(v)||(v=[v]);for(var S=0,E=v.length;S<E;S++)this.node.appendChild(h.toNode(v[S]));return this},x.prepend=function(v){var S=this.node.firstChild;return S?h(S).before(v):this.append(v)},x.before=function(v){var S=this.node,E=S.parentNode;if(E){h.isArray(v)||(v=[v]);for(var k=0,O=v.length;k<O;k++)E.insertBefore(h.toNode(v[k]),S)}return this},x.appendTo=function(v){return h.toNode(v).appendChild(this.node),this},x.svg=function(){return this.node instanceof window.SVGSVGElement?this:h(this.node.ownerSVGElement)},x.tagName=function(){return this.node.tagName.toUpperCase()},x.defs=function(){var v=this.svg()||this,S=v.node.getElementsByTagName("defs")[0];return S?h(S):h("defs").appendTo(v)},x.clone=function(){var v=h(this.node.cloneNode(!0));return v.node.id=h.uniqueId(),v},x.findOne=function(v){var S=this.node.querySelector(v);return S?h(S):void 0},x.find=function(v){var S=[],E=this.node.querySelectorAll(v);if(E)for(var k=0;k<E.length;k++)S.push(h(E[k]));return S},x.children=function(){for(var v=this.node.childNodes,S=[],E=0;E<v.length;E++){var k=v[E];k.nodeType===1&&S.push(h(v[E]))}return S},x.parent=function(){return h(this.node.parentNode)||null},x.index=function(){for(var v=0,S=this.node.previousSibling;S;)S.nodeType===1&&v++,S=S.previousSibling;return v},x.findParentByClass=function(v,S){for(var E=this.node.ownerSVGElement,k=this.node.parentNode;k&&k!==S&&k!==E;){var O=h(k);if(O.hasClass(v))return O;k=k.parentNode}return null},x.contains=function(v){var S=this.node,E=h.toNode(v),k=E&&E.parentNode;return S===k||!!(k&&k.nodeType===1&&S.compareDocumentPosition(k)&16)},x.toLocalPoint=function(v,S){var E=this.svg().node,k=E.createSVGPoint();k.x=v,k.y=S;try{var O=k.matrixTransform(E.getScreenCTM().inverse()),U=this.getTransformToElement(E).inverse()}catch{return k}return O.matrixTransform(U)},x.translateCenterToPoint=function(v){var S=this.getBBox({target:this.svg()}),E=S.center();return this.translate(v.x-E.x,v.y-E.y),this},x.translateAndAutoOrient=function(v,S,E){v=new z(v),S=new z(S),E||(E=this.svg());var k=this.scale();this.attr("transform","");var O=this.getBBox({target:E}).scale(k.sx,k.sy),U=h.createSVGTransform();U.setTranslate(-O.x-O.width/2,-O.y-O.height/2);var W=h.createSVGTransform(),Q=v.angleBetween(S,v.clone().offset(1,0));Q&&W.setRotate(Q,0,0);var it=h.createSVGTransform(),I=v.clone().move(S,O.width/2);it.setTranslate(2*v.x-I.x,2*v.y-I.y);var B=this.getTransformToElement(E),N=h.createSVGTransform();return N.setMatrix(it.matrix.multiply(W.matrix.multiply(U.matrix.multiply(B.scale(k.sx,k.sy))))),this.attr("transform",h.matrixToTransformString(N.matrix)),this},x.animateAlongPath=function(v,S){S=h.toNode(S);var E=h.ensureId(S),k=h("animateMotion",v),O=h("mpath",{"xlink:href":"#"+E});k.append(O),this.append(k);try{k.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var U=k.node;U.animators=[];var W=U.getAttribute("id");W&&(id2anim[W]=U);for(var Q=getTargets(U),it=0,I=Q.length;it<I;it++){var B=Q[it],N=new Animator(U,B,it);animators.push(N),U.animators[it]=N,N.register()}}}return this};const L=/[^\x20\t\r\n\f]+/g;function M(v){return h.isString(v)?v.trim().match(L)||[]:[]}x.hasClass=function(v){return h.isString(v)?this.node.classList.contains(v.trim()):!1},x.addClass=function(v){return this.node.classList.add(...M(v)),this},x.removeClass=function(v){return this.node.classList.remove(...M(v)),this},x.toggleClass=function(v,S){const E=M(v);for(let k=0;k<E.length;k++)this.node.classList.toggle(E[k],S);return this},x.sample=function(v){v=v||1;for(var S=this.node,E=S.getTotalLength(),k=[],O=0,U;O<E;)U=S.getPointAtLength(O),k.push({x:U.x,y:U.y,distance:O}),O+=v;return k},x.convertToPath=function(){var v=h("path");v.attr(this.attr());var S=this.convertToPathData();return S&&v.attr("d",S),v},x.convertToPathData=function(){var v=this.tagName();switch(v){case"PATH":return this.attr("d");case"LINE":return h.convertLineToPathData(this.node);case"POLYGON":return h.convertPolygonToPathData(this.node);case"POLYLINE":return h.convertPolylineToPathData(this.node);case"ELLIPSE":return h.convertEllipseToPathData(this.node);case"CIRCLE":return h.convertCircleToPathData(this.node);case"RECT":return h.convertRectToPathData(this.node)}throw new Error(v+" cannot be converted to PATH.")},h.prototype.toGeometryShape=function(){var v,S,E,k,O,U,W,Q,it,I,B,N,D,$,_;switch(this.tagName()){case"RECT":return v=parseFloat(this.attr("x"))||0,S=parseFloat(this.attr("y"))||0,E=parseFloat(this.attr("width"))||0,k=parseFloat(this.attr("height"))||0,new ht(v,S,E,k);case"CIRCLE":return O=parseFloat(this.attr("cx"))||0,U=parseFloat(this.attr("cy"))||0,W=parseFloat(this.attr("r"))||0,new He({x:O,y:U},W,W);case"ELLIPSE":return O=parseFloat(this.attr("cx"))||0,U=parseFloat(this.attr("cy"))||0,Q=parseFloat(this.attr("rx"))||0,it=parseFloat(this.attr("ry"))||0,new He({x:O,y:U},Q,it);case"POLYLINE":return I=h.getPointsFromSvgNode(this),new se(I);case"POLYGON":return I=h.getPointsFromSvgNode(this),I.length>1&&I.push(I[0]),new se(I);case"PATH":return B=this.attr("d"),Ct.isDataSupported(B)||(B=h.normalizePathData(B)),new Ct(B);case"LINE":return N=parseFloat(this.attr("x1"))||0,$=parseFloat(this.attr("y1"))||0,D=parseFloat(this.attr("x2"))||0,_=parseFloat(this.attr("y2"))||0,new yt({x:N,y:$},{x:D,y:_})}return this.getBBox()},x.findIntersection=function(v,S){var E=this.svg().node;S=S||E;var k=this.getBBox({target:S}),O=k.center();if(k.intersectionWithLineFromCenterToPoint(v)){var U,W=this.tagName();if(W==="RECT"){var Q=new ht(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),it=this.getTransformToElement(S),I=h.decomposeMatrix(it),B=E.createSVGTransform();B.setRotate(-I.rotation,O.x,O.y);var N=h.transformRect(Q,B.matrix.multiply(it));U=new ht(N).intersectionWithLineFromCenterToPoint(v,I.rotation)}else if(W==="PATH"||W==="POLYGON"||W==="POLYLINE"||W==="CIRCLE"||W==="ELLIPSE"){var D=W==="PATH"?this:this.convertToPath(),$=D.sample(),_=1/0,j=[],mt,st,ut,ft,et,ot;for(mt=0;mt<$.length;mt++)st=$[mt],ut=h.createSVGPoint(st.x,st.y),ut=ut.matrixTransform(this.getTransformToElement(S)),st=new z(ut),ft=st.distance(O),et=st.distance(v)*1.1,ot=ft+et,ot<_?(_=ot,j=[{sample:st,refDistance:et}]):ot<_+1&&j.push({sample:st,refDistance:et});j.sort(function(vt,Ot){return vt.refDistance-Ot.refDistance}),j[0]&&(U=j[0].sample)}return U}},x.setAttribute=function(v,S){const E=this.node;if(S===null)return this.removeAttr(v),this;const k=G[v],{ns:O}=h.qualifyAttr(k);return O?E.setAttributeNS(O,k,S):k==="id"?E.id=S:E.setAttribute(k,S),this},h.createSvgDocument=function(v){if(v){const E=`<svg xmlns="${e.svg}" xmlns:xlink="${e.xlink}" version="${n}">${v}</svg>`,{documentElement:k}=h.parseXML(E,{async:!1});return k}const S=document.createElementNS(e.svg,"svg");return S.setAttributeNS(e.xmlns,"xmlns:xlink",e.xlink),S.setAttribute("version",n),S},h.createSVGStyle=function(v){const{node:S}=h("style",{type:"text/css"},[h.createCDATASection(v)]);return S},h.createCDATASection=function(v=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(v)},h.idCounter=0,h.uniqueId=function(){return"v-"+ ++h.idCounter},h.toNode=function(v){return h.isV(v)?v.node:v.nodeName&&v||v[0]},h.ensureId=function(v){return v=h.toNode(v),v.id||(v.id=h.uniqueId())},h.sanitizeText=function(v){return(v||"").replace(/ /g," ")},h.isUndefined=function(v){return typeof v>"u"},h.isString=function(v){return typeof v=="string"},h.isObject=function(v){return v&&typeof v=="object"},h.isArray=Array.isArray,h.parseXML=function(v,S){S=S||{};var E;try{var k=new DOMParser;h.isUndefined(S.async)||(k.async=S.async),E=k.parseFromString(v,"text/xml")}catch{E=void 0}if(!E||E.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+v);return E};const R=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(v=>R[v]=v),R.xlinkShow="xlink:show",R.xlinkRole="xlink:role",R.xlinkActuate="xlink:actuate",R.xlinkHref="xlink:href",R.xlinkType="xlink:type",R.xlinkTitle="xlink:title",R.xmlBase="xml:base",R.xmlLang="xml:lang",R.xmlSpace="xml:space";const G=new Proxy(R,{get(v,S){return h.supportCamelCaseAttributes?S in v?v[S]:v[S]=S.replace(/[A-Z]/g,"-$&").toLowerCase():S}});Object.defineProperty(h,"attributeNames",{enumerable:!0,value:G,writable:!1}),Object.defineProperty(h,"supportCamelCaseAttributes",{enumerable:!0,value:!0,writable:!0}),h.qualifyAttr=function(v){if(v.indexOf(":")!==-1){var S=v.split(":");return{ns:e[S[0]],local:S[1]}}return{ns:null,local:v}},h.transformSeparatorRegex=/[ ,]+/,h.transformRegex=/\b\w+\([^()]+\)/g,h.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,h.transformTranslateRegex=/\btranslate\(([^()]+)\)/,h.transformRotateRegex=/\brotate\(([^()]+)\)/,h.transformScaleRegex=/\bscale\(([^()]+)\)/,h.transformStringToMatrix=function(v){let S=h.createSVGMatrix();const E=v&&v.match(h.transformRegex);if(!E)return S;const k=E.length;for(let O=0;O<k;O++){const W=E[O].match(h.transformFunctionRegex);if(W){let Q,it,I,B,N,D=h.createSVGMatrix();const $=W[1].toLowerCase(),_=W[2].split(h.transformSeparatorRegex);switch($){case"scale":Q=parseFloat(_[0]),it=_[1]===void 0?Q:parseFloat(_[1]),D=D.scaleNonUniform(Q,it);break;case"translate":I=parseFloat(_[0]),B=parseFloat(_[1]),D=D.translate(I,B);break;case"rotate":N=parseFloat(_[0]),I=parseFloat(_[1])||0,B=parseFloat(_[2])||0,I!==0||B!==0?D=D.translate(I,B).rotate(N).translate(-I,-B):D=D.rotate(N);break;case"skewx":N=parseFloat(_[0]),D=D.skewX(N);break;case"skewy":N=parseFloat(_[0]),D=D.skewY(N);break;case"matrix":D.a=parseFloat(_[0]),D.b=parseFloat(_[1]),D.c=parseFloat(_[2]),D.d=parseFloat(_[3]),D.e=parseFloat(_[4]),D.f=parseFloat(_[5]);break;default:continue}S=S.multiply(D)}}return S},h.matrixToTransformString=function(v){return v||(v=!0),"matrix("+(v.a!==void 0?v.a:1)+","+(v.b!==void 0?v.b:0)+","+(v.c!==void 0?v.c:0)+","+(v.d!==void 0?v.d:1)+","+(v.e!==void 0?v.e:0)+","+(v.f!==void 0?v.f:0)+")"},h.parseTransformString=function(v){var S,E,k;if(v){var O=h.transformSeparatorRegex;if(v.trim().indexOf("matrix")>=0){var U=h.transformStringToMatrix(v),W=h.decomposeMatrix(U);S=[W.translateX,W.translateY],k=[W.scaleX,W.scaleY],E=[W.rotation];var Q=[];(S[0]!==0||S[1]!==0)&&Q.push("translate("+S+")"),(k[0]!==1||k[1]!==1)&&Q.push("scale("+k+")"),E[0]!==0&&Q.push("rotate("+E+")"),v=Q.join(" ")}else{const I=v.match(h.transformTranslateRegex);I&&(S=I[1].split(O));const B=v.match(h.transformRotateRegex);B&&(E=B[1].split(O));const N=v.match(h.transformScaleRegex);N&&(k=N[1].split(O))}}var it=k&&k[0]?parseFloat(k[0]):1;return{value:v,translate:{tx:S&&S[0]?parseInt(S[0],10):0,ty:S&&S[1]?parseInt(S[1],10):0},rotate:{angle:E&&E[0]?parseInt(E[0],10):0,cx:E&&E[1]?parseInt(E[1],10):void 0,cy:E&&E[2]?parseInt(E[2],10):void 0},scale:{sx:it,sy:k&&k[1]?parseFloat(k[1]):it}}},h.deltaTransformPoint=function(v,S){var E=S.x*v.a+S.y*v.c+0,k=S.x*v.b+S.y*v.d+0;return{x:E,y:k}},h.decomposeMatrix=function(v){var S=h.deltaTransformPoint(v,{x:0,y:1}),E=h.deltaTransformPoint(v,{x:1,y:0}),k=180/s*a(S.y,S.x)-90,O=180/s*a(E.y,E.x);return{translateX:v.e,translateY:v.f,scaleX:l(v.a*v.a+v.b*v.b),scaleY:l(v.c*v.c+v.d*v.d),skewX:k,skewY:O,rotation:k}},h.matrixToScale=function(v){var S,E,k,O;return v?(S=h.isUndefined(v.a)?1:v.a,O=h.isUndefined(v.d)?1:v.d,E=v.b,k=v.c):S=O=1,{sx:E?l(S*S+E*E):S,sy:k?l(k*k+O*O):O}},h.matrixToRotate=function(v){var S={x:0,y:1};return v&&(S=h.deltaTransformPoint(v,S)),{angle:kn(Ll(a(S.y,S.x))-90)}},h.matrixToTranslate=function(v){return{tx:v&&v.e||0,ty:v&&v.f||0}},h.isV=function(v){return v instanceof h},h.isVElement=h.isV,h.isSVGGraphicsElement=function(v){return v?(v=h.toNode(v),v instanceof SVGElement&&typeof v.getScreenCTM=="function"):!1};var X=h("svg").node;return h.createSVGMatrix=function(v){var S=X.createSVGMatrix();for(var E in v)S[E]=v[E];return S},h.createSVGTransform=function(v){return h.isUndefined(v)?X.createSVGTransform():(v instanceof SVGMatrix||(v=h.createSVGMatrix(v)),X.createSVGTransformFromMatrix(v))},h.createSVGPoint=function(v,S){var E=X.createSVGPoint();return E.x=v,E.y=S,E},h.transformRect=function(v,S){var E=X.createSVGPoint();E.x=v.x,E.y=v.y;var k=E.matrixTransform(S);E.x=v.x+v.width,E.y=v.y;var O=E.matrixTransform(S);E.x=v.x+v.width,E.y=v.y+v.height;var U=E.matrixTransform(S);E.x=v.x,E.y=v.y+v.height;var W=E.matrixTransform(S),Q=c(k.x,O.x,U.x,W.x),it=f(k.x,O.x,U.x,W.x),I=c(k.y,O.y,U.y,W.y),B=f(k.y,O.y,U.y,W.y);return new ht(Q,I,it-Q,B-I)},h.transformPoint=function(v,S){return new z(h.createSVGPoint(v.x,v.y).matrixTransform(S))},h.transformLine=function(v,S){return new yt(h.transformPoint(v.start,S),h.transformPoint(v.end,S))},h.transformPolyline=function(v,S){var E=v instanceof se?v.points:v;h.isArray(E)||(E=[]);for(var k=[],O=0,U=E.length;O<U;O++)k[O]=h.transformPoint(E[O],S);return new se(k)},h.styleToObject=function(v){for(var S={},E=v.split(";"),k=0;k<E.length;k++){var O=E[k],U=O.split("=");S[U[0].trim()]=U[1].trim()}return S},h.createSlicePathData=function(v,S,E,k){var O=2*s-1e-6,U=v,W=S,Q=E,it=k,I=(it<Q&&(I=Q,Q=it,it=I),it-Q),B=I<s?"0":"1",N=p(Q),D=g(Q),$=p(it),_=g(it);return I>=O?U?"M0,"+W+"A"+W+","+W+" 0 1,1 0,"+-W+"A"+W+","+W+" 0 1,1 0,"+W+"M0,"+U+"A"+U+","+U+" 0 1,0 0,"+-U+"A"+U+","+U+" 0 1,0 0,"+U+"Z":"M0,"+W+"A"+W+","+W+" 0 1,1 0,"+-W+"A"+W+","+W+" 0 1,1 0,"+W+"Z":U?"M"+W*N+","+W*D+"A"+W+","+W+" 0 "+B+",1 "+W*$+","+W*_+"L"+U*$+","+U*_+"A"+U+","+U+" 0 "+B+",0 "+U*N+","+U*D+"Z":"M"+W*N+","+W*D+"A"+W+","+W+" 0 "+B+",1 "+W*$+","+W*_+"L0,0Z"},h.mergeAttrs=function(v,S){for(var E in S)E==="class"?v[E]=v[E]?v[E]+" "+S[E]:S[E]:E==="style"?h.isObject(v[E])&&h.isObject(S[E])?v[E]=h.mergeAttrs(v[E],S[E]):h.isObject(v[E])?v[E]=h.mergeAttrs(v[E],h.styleToObject(S[E])):h.isObject(S[E])?v[E]=h.mergeAttrs(h.styleToObject(v[E]),S[E]):v[E]=h.mergeAttrs(h.styleToObject(v[E]),h.styleToObject(S[E])):v[E]=S[E];return v},h.annotateString=function(v,S,E){S=S||[],E=E||{};for(var k=E.offset||0,O=[],U,W=[],Q,it,I=0;I<v.length;I++){Q=W[I]=v[I];for(var B=0;B<S.length;B++){var N=S[B],D=N.start+k,$=N.end+k;I>=D&&I<$&&(h.isObject(Q)?Q.attrs=h.mergeAttrs(h.mergeAttrs({},Q.attrs),N.attrs):Q=W[I]={t:v[I],attrs:N.attrs},E.includeAnnotationIndices&&(Q.annotations||(Q.annotations=[])).push(B))}it=W[I-1],it?h.isObject(Q)&&h.isObject(it)?JSON.stringify(Q.attrs)===JSON.stringify(it.attrs)?U.t+=Q.t:(O.push(U),U=Q):h.isObject(Q)||h.isObject(it)?(O.push(U),U=Q):U=(U||"")+Q:U=Q}return U&&O.push(U),O},h.findAnnotationsAtIndex=function(v,S){var E=[];return v&&v.forEach(function(k){k.start<S&&S<=k.end&&E.push(k)}),E},h.findAnnotationsBetweenIndexes=function(v,S,E){var k=[];return v&&v.forEach(function(O){(S>=O.start&&S<O.end||E>O.start&&E<=O.end||O.start>=S&&O.end<E)&&k.push(O)}),k},h.shiftAnnotations=function(v,S,E){return v&&v.forEach(function(k){k.start<S&&k.end>=S?k.end+=E:k.start>=S&&(k.start+=E,k.end+=E)}),v},h.convertLineToPathData=function(v){v=h(v);var S=["M",v.attr("x1"),v.attr("y1"),"L",v.attr("x2"),v.attr("y2")].join(" ");return S},h.convertPolygonToPathData=function(v){var S=h.getPointsFromSvgNode(v);return S.length===0?null:h.svgPointsToPath(S)+" Z"},h.convertPolylineToPathData=function(v){var S=h.getPointsFromSvgNode(v);return S.length===0?null:h.svgPointsToPath(S)},h.svgPointsToPath=function(v){for(var S=0,E=v.length;S<E;S++)v[S]=v[S].x+" "+v[S].y;return"M "+v.join(" L")},h.getPointsFromSvgNode=function(v){v=h.toNode(v);var S=[],E=v.points;if(E)for(var k=0,O=E.numberOfItems;k<O;k++)S.push(E.getItem(k));return S},h.KAPPA=.551784,h.convertCircleToPathData=function(v){v=h(v);var S=parseFloat(v.attr("cx"))||0,E=parseFloat(v.attr("cy"))||0,k=parseFloat(v.attr("r")),O=k*h.KAPPA,U=["M",S,E-k,"C",S+O,E-k,S+k,E-O,S+k,E,"C",S+k,E+O,S+O,E+k,S,E+k,"C",S-O,E+k,S-k,E+O,S-k,E,"C",S-k,E-O,S-O,E-k,S,E-k,"Z"].join(" ");return U},h.convertEllipseToPathData=function(v){v=h(v);var S=parseFloat(v.attr("cx"))||0,E=parseFloat(v.attr("cy"))||0,k=parseFloat(v.attr("rx")),O=parseFloat(v.attr("ry"))||k,U=k*h.KAPPA,W=O*h.KAPPA,Q=["M",S,E-O,"C",S+U,E-O,S+k,E-W,S+k,E,"C",S+k,E+W,S+U,E+O,S,E+O,"C",S-U,E+O,S-k,E+W,S-k,E,"C",S-k,E-W,S-U,E-O,S,E-O,"Z"].join(" ");return Q},h.convertRectToPathData=function(v){return v=h(v),h.rectToPath({x:parseFloat(v.attr("x"))||0,y:parseFloat(v.attr("y"))||0,width:parseFloat(v.attr("width"))||0,height:parseFloat(v.attr("height"))||0,rx:parseFloat(v.attr("rx"))||0,ry:parseFloat(v.attr("ry"))||0})},h.rectToPath=function(v){var S,E=v.x,k=v.y,O=v.width,U=v.height,W=c(v.rx||v["top-rx"]||0,O/2),Q=c(v.rx||v["bottom-rx"]||0,O/2),it=c(v.ry||v["top-ry"]||0,U/2),I=c(v.ry||v["bottom-ry"]||0,U/2);return W||Q||it||I?S=["M",E,k+it,"v",U-it-I,"a",Q,I,0,0,0,Q,I,"h",O-2*Q,"a",Q,I,0,0,0,Q,-I,"v",-(U-I-it),"a",W,it,0,0,0,-W,-it,"h",-(O-2*W),"a",W,it,0,0,0,-W,it,"Z"]:S=["M",E,k,"H",E+O,"V",k+U,"H",E,"V",k,"Z"],S.join(" ")},h.normalizePathData=function(){var v=`	
\v\f\r   ᠎             　\u2028\u2029`,S=new RegExp("([a-z])["+v+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+v+"]*,?["+v+"]*)+)","ig"),E=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+v+"]*,?["+v+"]*","ig"),k=Math,O=k.PI,U=k.sin,W=k.cos,Q=k.tan,it=k.asin,I=k.sqrt,B=k.abs;function N(st,ut,ft,et,ot,vt){var Ot=.3333333333333333,kt=2/3;return[Ot*st+kt*ft,Ot*ut+kt*et,Ot*ot+kt*ft,Ot*vt+kt*et,ot,vt]}function D(st,ut,ft){var et=st*W(ft)-ut*U(ft),ot=st*U(ft)+ut*W(ft);return{x:et,y:ot}}function $(st,ut,ft,et,ot,vt,Ot,kt,Dt,Lt){var Et=O*120/180,Ft=O/180*(+ot||0),gt=[],q;if(Lt)de=Lt[0],ee=Lt[1],Mn=Lt[2],Hn=Lt[3];else{q=D(st,ut,-Ft),st=q.x,ut=q.y,q=D(kt,Dt,-Ft),kt=q.x,Dt=q.y;var tt=(st-kt)/2,J=(ut-Dt)/2,bt=tt*tt/(ft*ft)+J*J/(et*et);bt>1&&(bt=I(bt),ft=bt*ft,et=bt*et);var Ht=ft*ft,Vt=et*et,ar=(vt==Ot?-1:1)*I(B((Ht*Vt-Ht*J*J-Vt*tt*tt)/(Ht*J*J+Vt*tt*tt)));if(!Number.isFinite(ar))return[st,ut,kt,Dt,kt,Dt];var Mn=ar*ft*J/et+(st+kt)/2,Hn=ar*-et*tt/ft+(ut+Dt)/2,de=it(((ut-Hn)/et).toFixed(9)),ee=it(((Dt-Hn)/et).toFixed(9));de=st<Mn?O-de:de,ee=kt<Mn?O-ee:ee,de<0&&(de=O*2+de),ee<0&&(ee=O*2+ee),Ot&&de>ee&&(de=de-O*2),!Ot&&ee>de&&(ee=ee-O*2)}var gn=ee-de;if(B(gn)>Et){var ai=ee,Wn=kt,jn=Dt;ee=de+Et*(Ot&&ee>de?1:-1),kt=Mn+ft*W(ee),Dt=Hn+et*U(ee),gt=$(kt,Dt,ft,et,ot,0,Ot,Wn,jn,[ee,ai,Mn,Hn])}gn=ee-de;var zi=W(de),li=U(de),ui=W(ee),Is=U(ee),Nn=Q(gn/4),qn=4/3*(ft*Nn),lr=4/3*(et*Nn),ur=[st,ut],rn=[st+qn*li,ut-lr*zi],mn=[kt+qn*Is,Dt-lr*ui],vn=[kt,Dt];if(rn[0]=2*ur[0]-rn[0],rn[1]=2*ur[1]-rn[1],Lt)return[rn,mn,vn].concat(gt);gt=[rn,mn,vn].concat(gt).join().split(",");for(var Er=[],Ar=gt.length,Be=0;Be<Ar;Be++)Er[Be]=Be%2?D(gt[Be-1],gt[Be],Ft).y:D(gt[Be],gt[Be+1],Ft).x;return Er}function _(st){if(!st)return null;var ut={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},ft=[];return String(st).replace(S,function(et,ot,vt){var Ot=[],kt=ot.toLowerCase();for(vt.replace(E,function(Dt,Lt){Lt&&Ot.push(+Lt)}),kt==="m"&&Ot.length>2&&(ft.push([ot].concat(Ot.splice(0,2))),kt="l",ot=ot==="m"?"l":"L");Ot.length>=ut[kt]&&(ft.push([ot].concat(Ot.splice(0,ut[kt]))),!!ut[kt]););}),ft}function j(st){if((!Array.isArray(st)||!Array.isArray(st&&st[0]))&&(st=_(st)),!st||!st.length)return[["M",0,0]];for(var ut=[],ft=0,et=0,ot=0,vt=0,Ot=0,kt,Dt=st.length,Lt=Ot;Lt<Dt;Lt++){var Et=[];ut.push(Et);var Ft=st[Lt];if(kt=Ft[0],kt!=kt.toUpperCase()){Et[0]=kt.toUpperCase();var gt,q;switch(Et[0]){case"A":Et[1]=Ft[1],Et[2]=Ft[2],Et[3]=Ft[3],Et[4]=Ft[4],Et[5]=Ft[5],Et[6]=+Ft[6]+ft,Et[7]=+Ft[7]+et;break;case"V":Et[1]=+Ft[1]+et;break;case"H":Et[1]=+Ft[1]+ft;break;case"M":for(ot=+Ft[1]+ft,vt=+Ft[2]+et,gt=Ft.length,q=1;q<gt;q++)Et[q]=+Ft[q]+(q%2?ft:et);break;default:for(gt=Ft.length,q=1;q<gt;q++)Et[q]=+Ft[q]+(q%2?ft:et);break}}else for(var tt=Ft.length,J=0;J<tt;J++)Et[J]=Ft[J];switch(Et[0]){case"Z":ft=+ot,et=+vt;break;case"H":ft=Et[1];break;case"V":et=Et[1];break;case"M":ot=Et[Et.length-2],vt=Et[Et.length-1],ft=Et[Et.length-2],et=Et[Et.length-1];break;default:ft=Et[Et.length-2],et=Et[Et.length-1];break}}return ut}function mt(st){var ut=j(st),ft={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function et(gt,q,tt){var J,bt;if(!gt)return["C",q.x,q.y,q.x,q.y,q.x,q.y];switch(gt[0]in{T:1,Q:1}||(q.qx=null,q.qy=null),gt[0]){case"M":q.X=gt[1],q.Y=gt[2];break;case"A":parseFloat(gt[1])===0||parseFloat(gt[2])===0?gt=["L",gt[6],gt[7]]:gt=["C"].concat($.apply(0,[q.x,q.y].concat(gt.slice(1))));break;case"S":tt==="C"||tt==="S"?(J=q.x*2-q.bx,bt=q.y*2-q.by):(J=q.x,bt=q.y),gt=["C",J,bt].concat(gt.slice(1));break;case"T":tt==="Q"||tt==="T"?(q.qx=q.x*2-q.qx,q.qy=q.y*2-q.qy):(q.qx=q.x,q.qy=q.y),gt=["C"].concat(N(q.x,q.y,q.qx,q.qy,gt[1],gt[2]));break;case"Q":q.qx=gt[1],q.qy=gt[2],gt=["C"].concat(N(q.x,q.y,gt[1],gt[2],gt[3],gt[4]));break;case"H":gt=["L"].concat(gt[1],q.y);break;case"V":gt=["L"].concat(q.x,gt[1]);break}return gt}function ot(gt,q){if(gt[q].length>7){gt[q].shift();for(var tt=gt[q];tt.length;)vt[q]="A",gt.splice(q++,0,["C"].concat(tt.splice(0,6)));gt.splice(q,1),Dt=ut.length}}for(var vt=[],Ot="",kt="",Dt=ut.length,Lt=0;Lt<Dt;Lt++){ut[Lt]&&(Ot=ut[Lt][0]),Ot!=="C"&&(vt[Lt]=Ot,Lt>0&&(kt=vt[Lt-1])),ut[Lt]=et(ut[Lt],ft,kt),vt[Lt]!=="A"&&Ot==="C"&&(vt[Lt]="C"),ot(ut,Lt);var Et=ut[Lt],Ft=Et.length;ft.x=Et[Ft-2],ft.y=Et[Ft-1],ft.bx=parseFloat(Et[Ft-4])||ft.x,ft.by=parseFloat(Et[Ft-3])||ft.y}return(!ut[0][0]||ut[0][0]!=="M")&&ut.unshift(["M",0,0]),ut}return function(st){return mt(st).join(",").split(",").join(" ")}}(),h.namespace=e,h.g=u1,h}(),Mo="[object Arguments]",Kc="[object Array]",Il="[object Boolean]",Pf="[object Date]",mm="[object Error]",c1="[object Function]",Bo="[object Map]",Rl="[object Number]",f1="[object Null]",Ss="[object Object]",Tf="[object RegExp]",zo="[object Set]",Dl="[object String]",Bl="[object Symbol]",d1="[object Undefined]",h1="[object WeakMap]",Cf="[object ArrayBuffer]",kf="[object DataView]",vm="[object Float32Array]",ym="[object Float64Array]",xm="[object Int8Array]",wm="[object Int16Array]",Sm="[object Int32Array]",bm="[object Uint8Array]",Em="[object Uint8ClampedArray]",Am="[object Uint16Array]",Pm="[object Uint32Array]",p1={[Mo]:!0,[Kc]:!0,[Cf]:!0,[kf]:!0,[Il]:!0,[Pf]:!0,[vm]:!0,[ym]:!0,[xm]:!0,[wm]:!0,[Sm]:!0,[Bo]:!0,[Rl]:!0,[Ss]:!0,[Tf]:!0,[zo]:!0,[Dl]:!0,[Bl]:!0,[bm]:!0,[Em]:!0,[Am]:!0,[Pm]:!0,[mm]:!1,[c1]:!1,[h1]:!1},_f="\\ud800-\\udfff",g1="\\u0300-\\u036f",m1="\\ufe20-\\ufe2f",v1="\\u20d0-\\u20ff",y1="\\u1ab0-\\u1aff",x1="\\u1dc0-\\u1dff",w1=g1+m1+v1+y1+x1,Tm="\\u2700-\\u27bf",Cm="a-z\\xdf-\\xf6\\xf8-\\xff",S1="\\xac\\xb1\\xd7\\xf7",b1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",E1="\\u2000-\\u206f",A1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",km="A-Z\\xc0-\\xd6\\xd8-\\xde",P1="\\ufe0e\\ufe0f",_m=S1+b1+E1+A1,Lm="['’]",Vp=`[${_m}]`,Lf=`[${w1}]`,Mm="\\d",T1=`[${Tm}]`,Nm=`[${Cm}]`,Om=`[^${_f}${_m+Mm+Tm+Cm+km}]`,Jc="\\ud83c[\\udffb-\\udfff]",C1=`(?:${Lf}|${Jc})`,Fm=`[^${_f}]`,Mf="(?:\\ud83c[\\udde6-\\uddff]){2}",Nf="[\\ud800-\\udbff][\\udc00-\\udfff]",ys=`[${km}]`,k1="\\u200d",Up=`(?:${Nm}|${Om})`,_1=`(?:${ys}|${Om})`,Gp=`(?:${Lm}(?:d|ll|m|re|s|t|ve))?`,$p=`(?:${Lm}(?:D|LL|M|RE|S|T|VE))?`,Im=`${C1}?`,Rm=`[${P1}]?`,L1=`(?:${k1}(?:${[Fm,Mf,Nf].join("|")})${Rm+Im})*`,M1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",N1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Dm=Rm+Im+L1,O1=`(?:${[T1,Mf,Nf].join("|")})${Dm}`,F1=RegExp([`${ys}?${Nm}+${Gp}(?=${[Vp,ys,"$"].join("|")})`,`${_1}+${$p}(?=${[Vp,ys+Up,"$"].join("|")})`,`${ys}?${Up}+${Gp}`,`${ys}+${$p}`,N1,M1,`${Mm}+`,O1].join("|"),"g"),Of=200,tf="__hash_undefined__",I1=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,R1=`[${_f}]`,D1=`${Fm}${Lf}?`,B1=`(?:${[D1,Lf,Mf,Nf,R1].join("|")})`,Bm=RegExp(`${Jc}(?=${Jc})|${B1+Dm}`,"g"),z1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V1=/^\w*$/,U1=46,G1=/\\(\\)?/g,$1=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),H1=/^(?:0|[1-9]\d*)$/,W1=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),j1=4294967294,q1=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zm=t=>Bm.test(t),Y1=t=>t.match(Bm)||[],X1=t=>t.split(""),Vm=t=>zm(t)?Y1(t):X1(t),Z1=t=>t==null?[]:Vo(t).map(e=>t[e]),Vo=t=>Ln(t)?Um(t):Object.keys(Object(t)),Q1=t=>{if(!zl(t))return Object.keys(t);var e=[];for(var n in Object(t))hasOwnProperty.call(t,n)&&n!="constructor"&&e.push(n);return e},Um=(t,e)=>{const n=Array.isArray(t),r=!n&&$n(t)&&_n(t)===Mo,s=!n&&!r&&Go(t),a=n||r||s,l=t.length,c=new Array(a?l:0);let f=a?-1:l;for(;++f<l;)c[f]=`${f}`;for(const p in t)(e||hasOwnProperty.call(t,p))&&!(a&&(p==="length"||Bf(p,l)))&&c.push(p);return c},sl=(t,e)=>{let{length:n}=t;for(;n--;)if(Os(t[n][0],e))return n;return-1},Os=(t,e)=>t===e||t!==t&&e!==e,$n=t=>t!=null&&typeof t=="object",El=(t,e,n)=>{if(!qt(n))return!1;const r=typeof e;return(r=="number"?Ln(n)&&e>-1&&e<n.length:r=="string"&&e in n)?Os(n[e],t):!1},K1=t=>$n(t)&&_n(t)==zo,J1=t=>$n(t)&&_n(t)==Bo,zl=t=>{const e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Object.prototype;return t===n},Fs=(t,e,n)=>{const r=t[e];(!(hasOwnProperty.call(t,e)&&Os(r,n))||n===void 0&&!(e in t))&&(t[e]=n)},Uo=(t,e,n)=>{let r=-1;const s=e.length;for(;++r<s;){const a=e[r];Fs(n,a,t[a])}return n},Ln=t=>t!=null&&typeof t!="function"&&typeof t.length=="number"&&t.length>-1&&t.length%1===0,ks=t=>typeof t=="symbol"||$n(t)&&_n(t)===Bl,tx=t=>{const e=t.length;let n=new t.constructor(e);return e&&typeof t[0]=="string"&&hasOwnProperty.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Ff=(t,e)=>{let n=-1;const r=t.length;for(e||(e=new Array(r));++n<r;)e[n]=t[n];return e},_n=t=>t==null?t===void 0?d1:f1:Object.prototype.toString.call(t),If=t=>{const e=new t.constructor(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e},Gm=(t,e)=>{const n=e?If(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},ex=t=>{const e=new t.constructor(t.source,/\w*$/.exec(t));return e.lastIndex=t.lastIndex,e},$m=t=>typeof t.constructor=="function"&&!zl(t)?Object.create(Object.getPrototypeOf(t)):{},Rf=t=>t==null?[]:(t=Object(t),Object.getOwnPropertySymbols(t).filter(n=>propertyIsEnumerable.call(t,n))),nx=(t,e)=>Uo(t,Rf(t),e);function rx(t,e){const n=e?If(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}const ix=(t,e,n)=>{const r=t.constructor;switch(e){case Cf:return If(t);case Il:case Pf:return new r(+t);case kf:return rx(t,n);case vm:case ym:case xm:case wm:case Sm:case bm:case Em:case Am:case Pm:return Gm(t,n);case Bo:return new r(t);case Rl:case Dl:return new r(t);case Tf:return ex(t);case zo:return new r;case Bl:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(t)):{}}},Go=t=>$n(t)&&I1.test(_n(t)),ef=t=>{const e=Object.keys(t);return!Array.isArray(t)&&t!=null&&e.push(...Rf(Object(t))),e},Hm=t=>{const e=[];for(;t;)e.push(...Rf(t)),t=Object.getPrototypeOf(Object(t));return e},Wm=t=>{const e=[];for(const n in t)e.push(n);return Array.isArray(t)||e.push(...Hm(t)),e},ol=({__data__:t},e)=>{const n=t;return mx(e)?n[typeof e=="string"?"string":"hash"]:n.map},sx=(t,e,n,r)=>{const s=ef(t),a=s.length,c=ef(e).length;if(a!=c)return!1;let f,p=a;for(;p--;)if(f=s[p],!hasOwnProperty.call(e,f))return!1;const g=r.get(t),h=r.get(e);if(g&&h)return g==e&&h==t;let x=!0;r.set(t,e),r.set(e,t);let w;for(;++p<a;){f=s[p];const b=t[f],P=e[f];if(!(b===P||n(b,P,r))){x=!1;break}w||(w=f=="constructor")}if(x&&!w){const b=t.constructor,P=e.constructor;b!=P&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof P=="function"&&P instanceof P)&&(x=!1)}return r.delete(t),r.delete(e),x},Vl=(t,e,n)=>t===e?!0:t==null||e==null||!$n(t)&&!$n(e)?t!==t&&e!==e:ox(t,e,Vl,n),ox=(t,e,n,r)=>{let s=Array.isArray(t);const a=Array.isArray(e);let l=s?Kc:_n(t),c=a?Kc:_n(e);l=l==Mo?Ss:l,c=c==Mo?Ss:c;let f=l==Ss;const p=c==Ss,g=l==c;if(g&&!f)return r||(r=new Es),s||Go(t)?jm(t,e,!1,n,r):ux(t,e,l,n,r);const h=f&&hasOwnProperty.call(t,"__wrapped__"),x=p&&hasOwnProperty.call(e,"__wrapped__");if(h||x){const w=h?t.value():t,b=x?e.value():e;return r||(r=new Es),n(w,b,r)}return g?(r||(r=new Es),sx(t,e,n,r)):!1},jm=(t,e,n,r,s)=>{const a=t.length,l=e.length;if(a!=l)return!1;const c=s.get(t),f=s.get(e);if(c&&f)return c==e&&f==t;let p=-1,g=!0;const h=n?new Oo:void 0;for(s.set(t,e),s.set(e,t);++p<a;){const x=t[p],w=e[p];if(h){if(!ax(e,(b,P)=>{if(!lx(h,P)&&(x===b||r(x,b,s)))return h.push(P)})){g=!1;break}}else if(!(x===w||r(x,w,s))){g=!1;break}}return s.delete(t),s.delete(e),g},ax=(t,e)=>{let n=-1;const r=t==null?0:t.length;for(;++n<r;)if(e(t[n],n,t))return!0;return!1},lx=(t,e)=>t.has(e),Hp=(t,e,n,r)=>!(t.byteLength!=e.byteLength||!n(new Uint8Array(t),new Uint8Array(e),r)),ux=(t,e,n,r,s)=>{switch(n){case kf:return t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset?!1:(t=t.buffer,e=e.buffer,Hp(t,e,r,s));case Cf:return Hp(t,e,r,s);case Il:case Pf:case Rl:return Os(+t,+e);case mm:return t.name==e.name&&t.message==e.message;case Tf:case Dl:return t==`${e}`;case Bo:var a=qm;case zo:if(a||(a=Ul),t.size!=e.size)return!1;const l=s.get(t);if(l)return l==e;s.set(t,e);const c=jm(a(t),a(e),!0,r,s);return s.delete(t),c;case Bl:return Symbol.prototype.valueOf.call(t)==Symbol.prototype.valueOf.call(e)}return!1},qm=t=>{let e=-1,n=Array(t.size);return t.forEach((r,s)=>{n[++e]=[s,r]}),n},Ul=t=>{let e=-1;const n=new Array(t.size);return t.forEach(r=>{n[++e]=r}),n},Df=(t,e)=>{if(Array.isArray(t))return!1;const n=typeof t;return n==="number"||n==="boolean"||t==null||ks(t)?!0:V1.test(t)||!z1.test(t)||e!=null&&t in Object(e)},cx=t=>{const e=[];return t.charCodeAt(0)===U1&&e.push(""),t.replace($1,(n,r,s,a)=>{let l=n;s?l=a.replace(G1,"$1"):r&&(l=r.trim()),e.push(l)}),e},ii=(t,e)=>Array.isArray(t)?t:Df(t,e)?[t]:cx(`${t}`),$o=(t,e)=>{e=ii(e,t);let n=0;const r=e.length;for(;t!=null&&n<r;)t=t[si(e[n])],n++;return n&&n==r?t:void 0};function fx(t,e){if(t!==e){const n=t!==void 0,r=t===null,s=t===t,a=ks(t),l=e!==void 0,c=e===null,f=e===e,p=ks(e);if(!c&&!p&&!a&&t>e||a&&l&&f&&!c&&!p||r&&l&&f||!n&&f||!s)return 1;if(!r&&!a&&!p&&t<e||p&&n&&s&&!r&&!a||c&&n&&s||!l&&s||!f)return-1}return 0}function dx(t,e,n){let r=-1;const s=t.criteria,a=e.criteria,l=s.length,c=n.length;for(;++r<l;){const f=r<c?n[r]:null,g=(f&&typeof f=="function"?f:fx)(s[r],a[r]);if(g)return f&&typeof f!="function"?g*(f=="desc"?-1:1):g}return t.index-e.index}const Ym=(t,e)=>{let n=(l,c)=>!!(l==null?0:l.length)&&l.indexOf(c)>-1,r=!0;const s=[],a=e.length;if(!t.length)return s;e.length>=Of&&(n=(l,c)=>l.has(c),r=!1,e=new Oo(e));t:for(let l in t){let c=t[l];const f=c;if(c=c!==0?c:0,r&&f===f){let p=a;for(;p--;)if(e[p]===f)continue t;s.push(c)}else n(e,f)||s.push(c)}return s},si=t=>{if(typeof t=="string"||ks(t))return t;const e=`${t}`;return e=="0"&&1/t==-1/0?"-0":e},Li=(t,e=!1,n=!1,r=!0,s,a,l,c)=>{let f;if(s&&(f=l?s(t,a,l,c):s(t)),f!==void 0)return f;if(!qt(t))return t;const p=Array.isArray(t),g=_n(t);if(p){if(f=tx(t),!e)return Ff(t,f)}else{const b=typeof t=="function";if(g===Ss||g===Mo||b&&!l){if(f=n||b?{}:$m(t),!e)return n?hx(t,Uo(t,Object.keys(t),f)):nx(t,Object.assign(f,t))}else{if(b||!p1[g])return l?t:{};f=ix(t,g,e)}}c||(c=new Es);const h=c.get(t);if(h)return h;if(c.set(t,f),J1(t))return t.forEach((b,P)=>{f.set(P,Li(b,e,n,r,s,P,t,c))}),f;if(K1(t))return t.forEach(b=>{f.add(Li(b,e,n,r,s,b,t,c))}),f;if(Go(t))return f;const w=p?void 0:(r?n?Wm:ef:n?Zm:Vo)(t);return(w||t).forEach((b,P)=>{w&&(P=b,b=t[P]),Fs(f,P,Li(b,e,n,r,s,P,t,c))}),f},hx=(t,e)=>Uo(t,Hm(t),e),Xm=(t,e)=>e.length<2?t:$o(t,e.slice(0,-1)),px=(t,e,n)=>{if(!qt(t))return t;e=ii(e,t);const r=e.length,s=r-1;let a=-1,l=t;for(;l!=null&&++a<r;){const c=si(e[a]);let f=n;if(a!=s){const p=l[c];f=void 0,f===void 0&&(f=qt(p)?p:Bf(e[a+1])?[]:{})}Fs(l,c,f),l=l[c]}return t},Bf=(t,e)=>{const n=typeof t;return e=e??Number.MAX_SAFE_INTEGER,!!e&&(n==="number"||n!=="symbol"&&H1.test(t))&&t>-1&&t%1==0&&t<e},gx=(t,e)=>{e=ii(e,t),t=Xm(t,e);const n=e[e.length-1];return t==null||delete t[si(n)]},mx=t=>{const e=typeof t;return e==="string"||e==="number"||e==="symbol"||e==="boolean"?t!=="__proto__":t===null},Zm=t=>{const e=[];for(const n in t)e.push(n);return e},vx=t=>{t=Object(t);const e={};for(const n in t)e[n]=t[n];return e},Wp=(t,e)=>{if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]};function Qm(t,e=!1){return(n,...r)=>{let s=-1,a=r.length,l=a>1?r[a-1]:void 0;const c=a>2?r[2]:void 0;for(l=t.length>3&&typeof l=="function"?(a--,l):e?(f,p)=>{if(Array.isArray(f)&&!Array.isArray(p))return p}:void 0,c&&El(r[0],r[1],c)&&(l=a<3?void 0:l,a=1),n=Object(n);++s<a;){const f=r[s];f&&t(n,f,s,l)}return n}}const zf=(t,e,n,r,s)=>{t!==e&&nr(e,(a,l)=>{if(qt(a))s||(s=new Es),yx(t,e,l,n,zf,r,s);else{let c=r?r(t[l],a,`${l}`,t,e,s):void 0;c===void 0&&(c=a),nf(t,l,c)}})},yx=(t,e,n,r,s,a,l)=>{const c=Wp(t,n),f=Wp(e,n),p=l.get(f);if(p){nf(t,n,p);return}let g=a?a(c,f,`${n}`,t,e,l):void 0,h=g===void 0;if(h){const x=Array.isArray(f),w=!x&&Go(f);g=f,x||w?Array.isArray(c)?g=c:$n(c)&&Ln(c)?g=Ff(c):w?(h=!1,g=Gm(f,!0)):g=[]:ye(f)||No(f)?(g=c,No(c)?g=vx(c):(typeof c=="function"||!qt(c))&&(g=$m(f))):h=!1}h&&(l.set(f,g),s(g,f,r,a,l),l.delete(f)),nf(t,n,g)},nf=(t,e,n)=>{(n!==void 0&&!Os(t[e],n)||n===void 0&&!(e in t))&&Fs(t,e,n)};function xx(t,e,n){const r=Object(t),s=n(t);let{length:a}=s,l=-1;for(;a--;){const c=s[++l];if(e(r[c],c,r)===!1)break}return t}const wx=(t,e)=>t&&xx(t,e,Vo),Vf=(t,e)=>{if(t==null)return t;if(!Ln(t))return wx(t,e);const n=t.length,r=Object(t);let s=-1;for(;++s<n&&e(r[s],s,r)!==!1;);return t};function Sx(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}const bx=Set&&1/Ul(new Set([void 0,-0]))[1]==1/0?t=>new Set(t):()=>{};function Km(t,e,n,r,s,a){return qt(t)&&qt(e)&&(a.set(e,t),zf(t,e,void 0,Km,a),a.delete(e)),t}function Ex(t,e,n){e.length?e=e.map(l=>Array.isArray(l)?c=>$o(c,l.length===1?l[0]:l):l):e=[l=>l];let r=-1,s=-1;const a=Ln(t)?new Array(t.length):[];return Vf(t,l=>{const c=e.map(f=>f(l));a[++s]={criteria:c,index:++r,value:l}}),Ax(a,(l,c)=>dx(l,c,n))}function Ax(t,e){let{length:n}=t;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Jm(t){return t===t&&!qt(t)}function tv(t,e){return n=>n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}function ev(t,e){return t!=null&&Vx(t,e,zx)}function Px(t,e){return Df(t)&&Jm(e)?tv(si(t),e):n=>{const r=$o(n,t);return r===void 0&&r===e?ev(n,t):Vl(e,r)}}function nv(t){const e=Tx(t);return e.length===1&&e[0][2]?tv(e[0][0],e[0][1]):n=>n===t||Cx(n,t,e)}function Tx(t){const e=Vo(t);let n=e.length;for(;n--;){const r=e[n],s=t[r];e[n]=[r,s,Jm(s)]}return e}function Cx(t,e,n,r){let s=n.length;const a=s;if(t==null)return!a;let l;for(t=Object(t);s--;)if(l=n[s],l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1;for(;++s<a;){l=n[s];const c=l[0],f=t[c],p=l[1];if(l[2]){if(f===void 0&&!(c in t))return!1}else{const g=new Es;if(!Vl(p,f,g))return!1}}return!0}function kx(t){return Df(t)?_x(si(t)):Lx(t)}function _x(t){return e=>e==null?void 0:e[t]}function Lx(t){return e=>$o(e,t)}function Mx(t){return typeof t=="function"?t:t==null?e=>e:typeof t=="object"?Array.isArray(t)?Px(t[0],t[1]):nv(t):kx(t)}function Gl(){const t=Mx;return arguments.length?t(arguments[0]):t}const Nx=(t,e,n,r)=>{let s=-1;const a=t==null?0:t.length;for(r&&a&&(n=t[++s]);++s<a;)n=e(n,t[s],s,t);return n},Ox=(t,e,n,r,s)=>(s(t,(a,l,c)=>{n=r?(r=!1,a):e(n,a,l,c)}),n);function Fx(t,e,n){const r=Array.isArray(t)?Nx:Ox,s=arguments.length<3;return r(t,e,n,s,Vf)}const Ix=t=>Array.isArray(t)||No(t)||!!(t&&t[Symbol.isConcatSpreadable]);function rv(t,e,n,r,s){let a=-1;const l=t.length;for(n||(n=Ix),s||(s=[]);++a<l;){var c=t[a];e>0&&n(c)?e>1?rv(c,e-1,n,r,s):s.push(...c):s[s.length]=c}return s}const No=t=>$n(t)&&_n(t)=="[object Arguments]",Rx=(t,e)=>Dx(t,e,(n,r)=>ev(t,r)),Dx=(t,e,n)=>{let r=-1;const s=e.length,a={};for(;++r<s;){const l=e[r],c=$o(t,l);n(c,l)&&px(a,ii(l,t),c)}return a},Bx=t=>typeof t=="number"&&t>-1&&t%1==0&&t<=Number.MAX_SAFE_INTEGER,zx=(t,e)=>t!=null&&e in Object(t),Vx=(t,e,n)=>{e=ii(e,t);for(var r=-1,s=e.length,a=!1;++r<s;){var l=si(e[r]);if(!(a=t!=null&&n(t,l)))break;t=t[l]}return a||++r!=s?a:(s=t==null?0:t.length,!!s&&Bx(s)&&Bf(l,s)&&(Array.isArray(t)||No(t)))},Ux=t=>t.match(q1),Gx=t=>t.match(F1),$x=(t,e)=>(W1(t)?Gx(t):Ux(t))||[],Hx=(t,e,n)=>{const{length:r}=t;return n=n===void 0?r:n,!e&&n>=r?t:t.slice(e,n)},Wx=jx("toUpperCase");function jx(t){return e=>{if(!e)return"";const n=zm(e)?Vm(e):void 0,r=n?n[0]:e[0],s=n?Hx(n,1).join(""):e.slice(1);return r[t]()+s}}function qx(t){return nv(Li(t,!0))}class Es{constructor(e){const n=this.__data__=new Ic(e);this.size=n.size}clear(){this.__data__=new Ic,this.size=0}delete(e){const n=this.__data__,r=n.delete(e);return this.size=n.size,r}get(e){return this.__data__.get(e)}has(e){return this.__data__.has(e)}set(e,n){let r=this.__data__;if(r instanceof Ic){const s=r.__data__;if(s.length<Of-1)return s.push([e,n]),this.size=++r.size,this;r=this.__data__=new iv(s)}return r.set(e,n),this.size=r.size,this}}class Ic{constructor(e){let n=-1;const r=e==null?0:e.length;for(this.clear();++n<r;){const s=e[n];this.set(s[0],s[1])}}clear(){this.__data__=[],this.size=0}delete(e){const n=this.__data__,r=sl(n,e);if(r<0)return!1;const s=n.length-1;return r==s?n.pop():n.splice(r,1),--this.size,!0}get(e){const n=this.__data__,r=sl(n,e);return r<0?void 0:n[r][1]}has(e){return sl(this.__data__,e)>-1}set(e,n){const r=this.__data__,s=sl(r,e);return s<0?(++this.size,r.push([e,n])):r[s][1]=n,this}}class iv{constructor(e){let n=-1;const r=e==null?0:e.length;for(this.clear();++n<r;){const s=e[n];this.set(s[0],s[1])}}clear(){this.size=0,this.__data__={hash:new jp,map:new Map,string:new jp}}delete(e){const n=ol(this,e).delete(e);return this.size-=n?1:0,n}get(e){return ol(this,e).get(e)}has(e){return ol(this,e).has(e)}set(e,n){const r=ol(this,e),s=r.size;return r.set(e,n),this.size+=r.size==s?0:1,this}}class jp{constructor(e){let n=-1;const r=e==null?0:e.length;for(this.clear();++n<r;){const s=e[n];this.set(s[0],s[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(e){const n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}get(e){const r=this.__data__[e];return r===tf?void 0:r}has(e){return this.__data__[e]!==void 0}set(e,n){const r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n===void 0?tf:n,this}}class Oo{constructor(e){let n=-1;const r=e==null?0:e.length;for(this.__data__=new iv;++n<r;)this.add(e[n])}add(e){return this.__data__.set(e,tf),this}has(e){return this.__data__.has(e)}}Oo.prototype.push=Oo.prototype.add;const Yx=function(t){var e=Object.prototype.toString;return t===!0||t===!1||!!t&&typeof t=="object"&&e.call(t)===Il},qt=function(t){return!!t&&(typeof t=="object"||typeof t=="function")},Ge=function(t){var e=Object.prototype.toString;return typeof t=="number"||!!t&&typeof t=="object"&&e.call(t)===Rl},xe=function(t){var e=Object.prototype.toString;return typeof t=="string"||!!t&&typeof t=="object"&&e.call(t)===Dl},wt=Qm((t,e)=>{if(zl(e)||Ln(e)){Uo(e,Vo(e),t);return}for(var n in e)hasOwnProperty.call(e,n)&&Fs(t,n,e[n])}),Xx=(t,...e)=>{let n=-1,r=e.length;const s=r>2?e[2]:void 0;for(s&&El(e[0],e[1],s)&&(r=1);++n<r;){const a=e[n];if(a==null)continue;const l=Object.keys(a),c=l.length;let f=-1;for(;++f<c;){const p=l[f],g=t[p];(g===void 0||Os(g,Object.prototype[p])&&!hasOwnProperty.call(t,p))&&(t[p]=a[p])}}return t},dn=Xx,Zx=function(...e){return e.push(void 0,Km),Ee.apply(void 0,e)},Uf=Zx,rr=(t,e,...n)=>{let r=-1;const s=typeof e=="function",a=Ln(t)?new Array(t.length):[];return Vf(t,l=>{a[++r]=s?e.apply(l,n):Qx(l,e,...n)}),a},Qx=(t,e,...n)=>{e=ii(e,t),t=Xm(t,e);const r=t==null?t:t[si(Sx(e))];return r==null?void 0:r.apply(t,n)},sv=(t,e,n)=>{let r=0,s=t==null?0:t.length;if(s==0)return 0;n=Gl(n,2),e=n(e);const a=e!==e,l=e===null,c=ks(e),f=e===void 0;for(;r<s;){let p;const g=Math.floor((r+s)/2),h=n(t[g]),x=h!==void 0,w=h===null,b=h===h,P=ks(h);a?p=b:f?p=b&&x:l?p=b&&x&&!w:c?p=b&&x&&!w&&!P:w||P?p=!1:p=h<e,p?r=g+1:s=g}return Math.min(s,j1)},Ni=(t,e)=>{let n=-1,r=(f,p)=>!!(f==null?0:f.length)&&f.indexOf(p)>-1;e=Gl(e,2);let s=!0;const{length:a}=t,l=[];let c=l;if(a>=Of){const f=e?null:bx(t);if(f)return Ul(f);s=!1,r=(p,g)=>p.has(g),c=new Oo}else c=e?[]:l;t:for(;++n<a;){let f=t[n];const p=e?e(f):f;if(f=f!==0?f:0,s&&p===p){let g=c.length;for(;g--;)if(c[g]===p)continue t;e&&c.push(p),l.push(f)}else r(c,p)||(c!==l&&c.push(p),l.push(f))}return l},De=t=>Li(t),fn=t=>Li(t,!0),pn=t=>{if(t==null)return!0;if(Ln(t)&&(Array.isArray(t)||typeof t=="string"||typeof t.splice=="function"||Go(t)||No(t)))return!t.length;const e=_n(t);if(e=="[object Map]"||e=="[object Set]")return!t.size;if(zl(t))return!Q1(t).length;for(const n in t)if(hasOwnProperty.call(t,n))return!1;return!0},ni=(t,e)=>Vl(t,e),Jt=t=>typeof t=="function",ye=t=>{if(!$n(t)||_n(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},Yt=t=>{if(!t)return[];if(Ln(t))return xe(t)?Vm(t):Ff(t);if(Symbol.iterator&&Symbol.iterator in Object(t)){const r=t[Symbol.iterator]();let s;const a=[];for(;!(s=r.next()).done;)a.push(s.value);return a}const e=_n(t);return(e==Bo?qm:e==zo?Ul:Z1)(t)};function Kx(t,e,n){if(typeof t!="function")throw new TypeError("Expected a function");let r,s,a,l,c,f,p=0,g=!1,h=!1,x=!0;const w=!e&&e!==0&&window&&typeof window.requestAnimationFrame=="function";e=+e||0,qt(n)&&(g=!!n.leading,h="maxWait"in n,a=h?Math.max(+n.maxWait||0,e):a,x="trailing"in n?!!n.trailing:x);function b(v){const S=r,E=s;return r=s=void 0,p=v,l=t.apply(E,S),l}function P(v,S){return w?(window.cancelAnimationFrame(c),window.requestAnimationFrame(v)):setTimeout(v,S)}function T(v){if(w)return window.cancelAnimationFrame(v);clearTimeout(v)}function C(v){return p=v,c=P(R,e),g?b(v):l}function L(v){const S=v-f,E=v-p,k=e-S;return h?Math.min(k,a-E):k}function M(v){const S=v-f,E=v-p;return f===void 0||S>=e||S<0||h&&E>=a}function R(){const v=Date.now();if(M(v))return G(v);c=P(R,L(v))}function G(v){return c=void 0,x&&r?b(v):(r=s=void 0,l)}function X(...v){const S=Date.now(),E=M(S);if(r=v,s=this,f=S,E){if(c===void 0)return C(f);if(h)return c=P(R,e),b(f)}return c===void 0&&(c=P(R,e)),l}return X.cancel=()=>{c!==void 0&&T(c),p=0,r=f=s=c=void 0},X.flush=()=>c===void 0?l:G(Date.now()),X.pending=()=>c!==void 0,X}const Jx=(t,e)=>(e=Gl(e,2),Fx(t,(n,r,s)=>(s=e(r),hasOwnProperty.call(n,s)?n[s].push(r):Fs(n,s,[r]),n),{})),pl=(t,e=[])=>{if(t==null)return[];const n=e.length;return n>1&&El(t,e[0],e[1])?e=[]:n>2&&El(e[0],e[1],e[2])&&(e=[e[0]]),Array.isArray(e)||(e=[Gl(e,2)]),Ex(t,e.flat(1),[])},tw=t=>(t==null?0:t.length)?rv(t,1/0):[],qp=(t,...e)=>Ln(t)?Ym(t,e):[],ew=(t,...e)=>$n(t)&&Ln(t)?Ym(t,e.flat(1)):[],rf=(...t)=>{const e=t.flat(1);return Ni(e)},ir=(t,e)=>{if(t==null)return!1;typeof e=="string"&&(e=e.split("."));let n=-1,r=t;for(;++n<e.length;){if(!r||!hasOwnProperty.call(r,e[n]))return!1;r=r[e[n]]}return!0},ie=(t,e,n)=>{e=ii(e,t);let r=-1,s=e.length;for(s||(s=1,t=void 0);++r<s;){let a=t==null?void 0:t[si(e[r])];a===void 0&&(r=s,a=n),t=typeof a=="function"?a.call(t):a}return t},Ho=(t,...e)=>{let n={};if(t==null)return n;let r=!1;e=e.flat(1).map(a=>(a=ii(a,t),r||(r=a.length>1),a)),Uo(t,Wm(t),n),r&&(n=Li(n,!0,!0,!0,a=>ye(a)?void 0:a));let s=e.length;for(;s--;)gx(n,e[s]);return n},nw=(t,...e)=>t==null?{}:Rx(t,e.flat(1/0)),nr=(t,e=n=>n)=>{let n=-1;const r=Object(t),s=Ln(t)?Um(t,!0):Zm(t);let a=s.length;for(;a--;){const l=s[++n];if(e(r[l],l,r)===!1)break}},ov=(t="")=>$x(`${t}`.replace(/['\u2019]/g,"")).reduce((e,n,r)=>(n=n.toLowerCase(),e+(r?Wx(n):n)),"");let rw=0;const Fo=(t="")=>{const e=++rw;return`${t}`+e},Ee=Qm((t,e,n,r)=>{zf(t,e,n,r)},!0);class av{constructor(){this.map=new WeakMap}has(e,n){return n===void 0?this.map.has(e):n in this.map.get(e)}create(e){return this.has(e)||this.map.set(e,Object.create(null)),this.get(e)}get(e,n){if(!this.has(e))return;const r=this.map.get(e);return n===void 0?r:r[n]}set(e,n,r){if(n===void 0)return;const s=this.create(e);typeof n=="string"?s[n]=r:Object.assign(s,n)}remove(e,n){if(this.has(e))if(n===void 0)this.map.delete(e);else{const r=this.map.get(e);delete r[n]}}}const Cn=new av,lv=new av,Oi=function(t,e){if(!(this instanceof Oi))return new Oi(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?gl:ml,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&Object.assign(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this.envelope=!0};Oi.prototype={constructor:Oi,isDefaultPrevented:ml,isPropagationStopped:ml,isImmediatePropagationStopped:ml,preventDefault:function(){const t=this.originalEvent;this.isDefaultPrevented=gl,t&&t.preventDefault()},stopPropagation:function(){const t=this.originalEvent;this.isPropagationStopped=gl,t&&t.stopPropagation()},stopImmediatePropagation:function(){const t=this.originalEvent;this.isImmediatePropagationStopped=gl,t&&t.stopImmediatePropagation(),this.stopPropagation()}};["altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","pageX","pageY","shiftKey","view","char","code","charCode","key","keyCode","button","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","screenX","screenY","targetTouches","toElement","touches","which"].forEach(t=>iw(t));function iw(t){Object.defineProperty(Oi.prototype,t,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent?this.originalEvent[t]:void 0},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})}function gl(){return!0}function ml(){return!1}const _s=typeof window<"u"?window.document:null,sw=_s&&_s.documentElement,uv=/^([^.]*)(?:\.(.+)|)/,cv=/[^\x20\t\r\n\f]+/g,dt=function(t){return new dt.Dom(t)};dt.fn=dt.prototype={constructor:dt,length:0};dt.guid=1;dt.data=lv;dt.merge=function(t,e){let n=+e.length,r=t.length;for(let s=0;s<n;s++)t[r++]=e[s];return t.length=r,t};dt.parseHTML=function(t){const e=_s.implementation.createHTMLDocument(),n=e.createElement("base");n.href=_s.location.href,e.head.appendChild(n),e.body.innerHTML=t;const r=e.getElementsByTagName("script");for(let s=0;s<r.length;s++)r[s].remove();return Array.from(e.body.childNodes)};typeof Symbol=="function"&&(dt.fn[Symbol.iterator]=Array.prototype[Symbol.iterator]);dt.fn.toArray=function(){return Array.from(this)};dt.fn.pushStack=function(t){const e=dt.merge(this.constructor(),t);return e.prevObject=this,e};dt.fn.find=function(t){const[e]=this,n=this.pushStack([]);if(!e)return n;const{nodeType:r}=e;return r!==1&&r!==9&&r!==11||(typeof t!="string"?e!==t&&e.contains(t)&&dt.merge(n,[t]):dt.merge(n,e.querySelectorAll(t))),n};dt.fn.add=function(t,e){const n=dt(t).toArray(),r=this.toArray(),s=this.pushStack([]);return dt.merge(s,Ni(r.concat(n))),s};dt.fn.addBack=function(){return this.add(this.prevObject)};dt.fn.filter=function(t){const e=[];for(let n=0;n<this.length;n++){const r=this[n];r.matches(t)&&e.push(r)}return this.pushStack(e)};const ow=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;function aw(t){return t[0]==="<"&&t[t.length-1]===">"&&t.length>=3}const fv=function(t){if(!t)return this;if(typeof t=="function")throw new Error("function not supported");if(arguments.length>1)throw new Error("selector with context not supported");if(t.nodeType)return this[0]=t,this.length=1,this;let e;if(aw(t+""))e=[null,t,null];else if(typeof t=="string")e=ow.exec(t);else return dt.merge(this,t);if(!e||!e[1])return lw.find(t);if(e[1])return dt.merge(this,dt.parseHTML(e[1])),this;const n=_s.getElementById(e[2]);return n&&(this[0]=n,this.length=1),this};dt.Dom=fv;fv.prototype=dt.fn;dt.Event=Oi;dt.event={special:Object.create(null)};dt.event.has=function(t,e){const n=Cn.get(t,"events");return n?e?Array.isArray(n[e])&&n[e].length>0:!0:!1};dt.event.on=function(t,e,n,r,s,a){if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=void 0);for(let l in e)dt.event.on(t,l,n,r,e[l],a);return t}if(r==null&&s==null?(s=n,r=n=void 0):s==null&&(typeof n=="string"?(s=r,r=void 0):(s=r,r=n,n=void 0)),!s)return t;if(a===1){const l=s;s=function(c){return dt().off(c),l.apply(this,arguments)},s.guid=l.guid||(l.guid=dt.guid++)}for(let l=0;l<t.length;l++)dt.event.add(t[l],e,s,r,n)};dt.event.add=function(t,e,n,r,s){if(typeof t!="object")return;const a=Cn.create(t);let l;n.handler&&(l=n,n=l.handler,s=l.selector),s&&sw.matches(s),n.guid||(n.guid=dt.guid++);let c;(c=a.events)||(c=a.events=Object.create(null));let f;(f=a.handle)||(f=a.handle=function(h){return typeof dt<"u"?dt.event.dispatch.apply(t,arguments):void 0});const p=(e||"").match(cv)||[""];let g=p.length;for(;g--;){const[,h,x=""]=uv.exec(p[g]);if(!h)continue;const w=x.split(".").sort();let b=dt.event.special[h];const P=b&&(s?b.delegateType:b.bindType)||h;b=dt.event.special[P];const T=Object.assign({type:P,origType:h,data:r,handler:n,guid:n.guid,selector:s,namespace:w.join(".")},l);let C;(C=c[P])||(C=c[P]=[],C.delegateCount=0,(!b||!b.setup||b.setup.call(t,r,w,f)===!1)&&t.addEventListener&&t.addEventListener(P,f)),b&&b.add&&(b.add.call(t,T),T.handler.guid||(T.handler.guid=n.guid)),s?C.splice(C.delegateCount++,0,T):C.push(T)}};dt.event.remove=function(t,e,n,r,s){const a=Cn.get(t);if(!a||!a.events)return;const l=a.events,c=(e||"").match(cv)||[""];let f=c.length;for(;f--;){const[,p,g=""]=uv.exec(c[f]);if(!p){for(const L in l)dt.event.remove(t,L+c[f],n,r,!0);continue}const h=dt.event.special[p],x=h&&(r?h.delegateType:h.bindType)||p,w=l[x];if(!w||w.length===0)continue;const b=g.split(".").sort(),P=g?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,T=w.length;let C=T;for(;C--;){const L=w[C];(s||p===L.origType)&&(!n||n.guid===L.guid)&&(!P||P.test(L.namespace))&&(!r||r===L.selector||r==="**"&&L.selector)&&(w.splice(C,1),L.selector&&w.delegateCount--,h&&h.remove&&h.remove.call(t,L))}T&&w.length===0&&((!h||!h.teardown||h.teardown.call(t,b,a.handle)===!1)&&t.removeEventListener&&t.removeEventListener(x,a.handle),delete l[x])}pn(l)&&(Cn.remove(t,"handle"),Cn.remove(t,"events"))};dt.event.dispatch=function(t){const e=this,n=dt.event.fix(t);n.delegateTarget=e;const r=Array.from(arguments);r[0]=n;const s=Cn.get(e,"events"),a=s&&s[n.type]||[],l=dt.event.special[n.type];if(l&&l.preDispatch&&l.preDispatch.call(e,n)===!1)return;const c=dt.event.handlers.call(e,n,a);let f=0,p;for(;(p=c[f++])&&!n.isPropagationStopped();){n.currentTarget=p.elem;let g=0,h;for(;(h=p.handlers[g++])&&!n.isImmediatePropagationStopped();){n.handleObj=h,n.data=h.data;const x=dt.event.special[h.origType];let w;x&&x.handle?w=x.handle:w=h.handler;const b=w.apply(p.elem,r);b!==void 0&&(n.result=b)===!1&&(n.preventDefault(),n.stopPropagation())}}return l&&l.postDispatch&&l.postDispatch.call(e,n),n.result};dt.event.handlers=function(t,e){const n=e.delegateCount,r=[];if(n&&!(t.type==="click"&&t.button>=1)){for(let s=t.target;s!==this;s=s.parentNode||this)if(s.nodeType===1&&!(t.type==="click"&&s.disabled===!0)){const a=[],l={};for(let c=0;c<n;c++){const f=e[c],p=f.selector+" ";l[p]===void 0&&(l[p]=s.matches(p)),l[p]&&a.push(f)}a.length&&r.push({elem:s,handlers:a})}}return n<e.length&&r.push({elem:this,handlers:e.slice(n)}),r};dt.event.fix=function(t){return t.envelope?t:new Oi(t)};const lw=dt(_s);function Gf(t){let e=t.length;for(;e--;)dv(t[e])}function dv(t){dt.event.remove(t),Cn.remove(t),lv.remove(t)}function hv(t){for(let e=0;e<t.length;e++){const n=t[e];n.parentNode&&n.parentNode.removeChild(n)}}function uw(){for(let t=0;t<this.length;t++){const e=this[t];dv(e),Gf(e.getElementsByTagName("*"))}return hv(this),this}function cw(){return hv(this),this}function fw(){for(let t=0;t<this.length;t++){const e=this[t];e.nodeType===1&&(Gf(e.getElementsByTagName("*")),e.textContent="")}return this}function dw(){const t=[];for(let e=0;e<this.length;e++)t.push(this[e].cloneNode(!0));return this.pushStack(t)}function hw(t){const[e]=this;if(!e)return null;if(arguments.length===0)return e.innerHTML;if(t===void 0)return this;if(Gf(Cn,e.getElementsByTagName("*")),typeof t=="string"||typeof t=="number")e.innerHTML=t;else return e.innerHTML="",this.append(t);return this}function pw(...t){const[e]=this;return e?(t.forEach(n=>{n&&(typeof n=="string"?e.append(...dt.parseHTML(n)):n.toString()==="[object Object]"?this.append(...Array.from(n)):Array.isArray(n)?this.append(...n):e.appendChild(n))}),this):this}function gw(...t){const[e]=this;return e?(t.forEach(n=>{n&&(typeof n=="string"?e.prepend(...dt.parseHTML(n)):n.toString()==="[object Object]"?this.prepend(...Array.from(n)):Array.isArray(n)?this.prepend(...n):e.insertBefore(n,e.firstChild))}),this):this}function mw(t){return dt(t).append(this),this}function vw(t){return dt(t).prepend(this),this}const pv={};["width","height","top","bottom","left","right","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","margin","marginTop","marginBottom","marginLeft","marginRight"].forEach(t=>{pv[t]=!0});function yw(t,e,n){typeof n=="number"&&pv[ov(e)]&&(n+="px"),t.style[e]=n}function xw(t,e){let n;if(typeof t=="string")if(e===void 0){const[r]=this;return r?r.style[t]:null}else n={[t]:e};else if(t)n=t;else throw new Error("no styles provided");for(let r in n)if(n.hasOwnProperty(r))for(let s=0;s<this.length;s++)yw(this[s],r,n[r]);return this}function ww(t,e){if(arguments.length<2){const[n]=this;return n?t===void 0?n.dataset:n.dataset[t]:null}for(let n=0;n<this.length;n++)this[n].dataset[t]=e;return this}function $f(t,e,n){for(let r=0;r<e.length;r++){const s=e[r];rt.prototype[t].apply({node:s},n)}}function Sw(){return $f("removeClass",this,arguments),this}function bw(){return $f("addClass",this,arguments),this}function Ew(){return $f("toggleClass",this,arguments),this}function Aw(){const[t]=this;return t?rt.prototype.hasClass.apply({node:t},arguments):!1}function Pw(t){const e=[];for(let n=0;n<this.length;n++){const r=this[n];let s=Array.from(r.children);typeof t=="string"&&(s=s.filter(a=>a.matches(t))),e.push(...s)}return this.pushStack(e)}function Tw(t){const e=[];for(let n=0;n<this.length;n++){const r=this[n];if(typeof t=="string"){const s=r.closest(t);s&&e.push(s)}else{const[s]=dt(t);s&&s.contains(r)&&e.push(s)}}return this.pushStack(e)}function Cw(t,e,n,r){return dt.event.on(this,t,e,n,r),this}function kw(t,e,n,r){return dt.event.on(this,t,e,n,r,1),this}function _w(t,e,n){if(t&&t.preventDefault&&t.handleObj){const r=t.handleObj;return dt(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this}if(typeof t=="object"){for(let r in t)this.off(r,e,t[r]);return this}(e===!1||typeof e=="function")&&(n=e,e=void 0);for(let r=0;r<this.length;r++)dt.event.remove(this[r],t,n,e);return this}function Lw(){const[t]=this;if(t===window)return t.document.documentElement.clientWidth;if(!t)return;const e=window.getComputedStyle(t),n=t.offsetWidth,r=parseFloat(e.borderTopWidth),s=parseFloat(e.borderBottomWidth),a=parseFloat(e.paddingTop),l=parseFloat(e.paddingBottom);return n-s-r-a-l}function Mw(){const[t]=this;if(t===window)return t.document.documentElement.clientHeight;if(!t)return;const e=window.getComputedStyle(t),n=t.offsetHeight,r=parseFloat(e.borderLeftWidth),s=parseFloat(e.borderRightWidth),a=parseFloat(e.paddingLeft),l=parseFloat(e.paddingRight);return n-r-s-a-l}function Nw(){const[t]=this;if(!t)return;let e=dt(t),n,r,s,a={top:0,left:0};if(e.css("position")==="fixed")r=t.getBoundingClientRect();else{r=e.offset(),s=t.ownerDocument,n=t.offsetParent||s.documentElement;const f=dt(n),p=f.css("position")||"static";for(;n&&(n===s.body||n===s.documentElement)&&p==="static";)n=n.parentNode;if(n&&n!==t&&n.nodeType===1){const g=window.getComputedStyle(n),h=parseFloat(g.borderTopWidth)||0,x=parseFloat(g.borderLeftWidth)||0;a=f.offset(),a.top+=h,a.left+=x}}const l=parseFloat(window.getComputedStyle(t).marginTop)||0,c=parseFloat(window.getComputedStyle(t).marginLeft)||0;return{top:r.top-a.top-l,left:r.left-a.left-c}}function Ow(t){const[e]=this;if(t===void 0){if(!e)return null;if(!e.getClientRects().length)return{top:0,left:0};const l=e.getBoundingClientRect();return{top:l.top+window.scrollY,left:l.left+window.scrollX}}if(!e)return this;const n=window.getComputedStyle(e);n.position==="static"&&this.css("position","relative");const r=this.offset(),s=t.top-r.top,a=t.left-r.left;return this.css({top:(parseFloat(n.top)||0)+s+"px",left:(parseFloat(n.left)||0)+a+"px"}),this}const Fw=Object.freeze(Object.defineProperty({__proto__:null,addClass:bw,append:pw,appendTo:mw,children:Pw,clone:dw,closest:Tw,css:xw,data:ww,detach:cw,empty:fw,hasClass:Aw,height:Mw,html:hw,off:_w,offset:Ow,on:Cw,one:kw,position:Nw,prepend:gw,prependTo:vw,remove:uw,removeClass:Sw,toggleClass:Ew,width:Lw},Symbol.toStringTag,{value:"Module"})),Al="animationFrameId",tr={};tr["transition-property"]=tr["transition-duration"]=tr["transition-delay"]=tr["transition-timing-function"]=tr["animation-name"]=tr["animation-duration"]=tr["animation-delay"]=tr["animation-timing-function"]="";function Iw(t,e={}){this.stop();for(let n=0;n<this.length;n++)Rw(this[n],t,e);return this}function Rw(t,e,n={}){let{duration:r=400,easing:s="ease-in-out",delay:a=0,complete:l}=n;const c=setTimeout(function(){const f=dt(t);let p=!1,g="transitionend";r=r/1e3,a=a/1e3;const h={};if(typeof e=="string")h["animation-name"]=e,h["animation-duration"]=r+"s",h["animation-delay"]=a+"s",h["animation-timing-function"]=s,g="animationend";else{const b=[];for(var x in e)e.hasOwnProperty(x)&&(h[x]=e[x],b.push(x));r>0&&(h["transition-property"]=b.join(", "),h["transition-duration"]=r+"s",h["transition-delay"]=a+"s",h["transition-timing-function"]=s)}const w=function(b){if(b){if(b.target!==b.currentTarget)return;b.target.removeEventListener(g,w)}else t.removeEventListener(g,w);p=!0,f.css(tr),l&&l.call(t)};if(r>0){t.addEventListener(g,w);const b=setTimeout(function(){p||w(null)},(r+a)*1e3+25);Cn.set(t,Al,{id:b,stop:()=>{clearTimeout(b),t.removeEventListener(g,w)}})}f.css(h),r<=0&&w(null)});Cn.set(t,Al,{stop:()=>clearTimeout(c)})}function Dw(){for(let t=0;t<this.length;t++){const e=this[t],n=Cn.get(e,Al);n&&(n.stop(),Cn.remove(e,Al))}return this.css(tr),this}const Bw=Object.freeze(Object.defineProperty({__proto__:null,animate:Iw,stop:Dw},Symbol.toStringTag,{value:"Module"})),Yp={outerWidth:"offsetWidth",outerHeight:"offsetHeight",innerWidth:"clientWidth",innerHeight:"clientHeight",scrollLeft:"scrollLeft",scrollTop:"scrollTop",val:"value",text:"textContent"},Xp={disabled:"disabled",value:"value",text:"textContent"};function zw(t,e){if(!t)throw new Error("no property provided");if(arguments.length===1){const[n]=this;return n?n[t]:null}if(e===void 0)return this;for(let n=0;n<this.length;n++)this[n][t]=e;return this}function Vw(t,e){let n;if(typeof t=="string")if(e===void 0){const[r]=this;return r?r.getAttribute(t):null}else n={[t]:e};else if(t)n=t;else throw new Error("no attributes provided");for(let r in n)if(n.hasOwnProperty(r)){const s=n[r];if(Xp[r]){this.prop(Xp[r],s);continue}for(let a=0;a<this.length;a++)s===null?this[a].removeAttribute(r):this[a].setAttribute(r,s)}return this}const gv={prop:zw,attr:Vw};Object.keys(Yp).forEach(t=>{gv[t]=function(...e){return this.prop(Yp[t],...e)}});const As={useCSSSelectors:!1,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},$l=Object.create(null);$l.load={noBubble:!0};[["mouseenter","mouseover"],["mouseleave","mouseout"],["pointerenter","pointerover"],["pointerleave","pointerout"]].forEach(([t,e])=>{$l[t]={delegateType:e,bindType:e,handle:function(n){const r=this,s=n.relatedTarget,a=n.handleObj;let l;return(!s||!r.contains(s))&&(n.type=a.origType,l=a.handler.apply(r,arguments),n.type=e),l}}});const Uw=As.doubleTapInterval,Gw=30;$l.dbltap={bindType:"touchend",delegateType:"touchend",handle:function(t,...e){const{handleObj:n,target:r}=t,s=dt.data.create(r),a=new Date().getTime(),l="lastTouch"in s?a-s.lastTouch:0;l<Uw&&l>Gw?(s.lastTouch=null,t.type=n.origType,n.handler.call(this,t,...e)):s.lastTouch=a}};Object.assign(dt.fn,Fw);Object.assign(dt.fn,Bw);Object.assign(dt.fn,gv);Object.assign(dt.event.special,$l);const wr=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,As.classNamePrefix.length)!==As.classNamePrefix&&(e=As.classNamePrefix+e),e}).join(" ")},Pl=function(t,e){const n={},r={},s=rt.namespace.svg,a=e||s,l=document.createDocumentFragment(),c=function(f,p,g){for(let h=0;h<f.length;h++){const x=f[h];if(typeof x=="string"){const R=document.createTextNode(x);p.appendChild(R);continue}if(!x.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const w=x.tagName;let b;x.hasOwnProperty("namespaceURI")&&(g=x.namespaceURI),b=document.createElementNS(g,w);const P=g===s,T=P?rt(b):dt(b),C=x.attributes;C&&T.attr(C);const L=x.style;if(L&&dt(b).css(L),x.hasOwnProperty("className")){const R=x.className;P?b.className.baseVal=R:b.className=R}if(x.hasOwnProperty("textContent")&&(b.textContent=x.textContent),x.hasOwnProperty("selector")){const R=x.selector;if(n[R])throw new Error("json-dom-parser: selector must be unique");n[R]=b,T.attr("joint-selector",R)}if(x.hasOwnProperty("groupSelector")){let R=x.groupSelector;Array.isArray(R)||(R=[R]);for(let G=0;G<R.length;G++){const X=R[G];let v=r[X];v||(v=r[X]=[]),v.push(b)}}p.appendChild(b);const M=x.children;Array.isArray(M)&&c(M,b,g)}};return c(t,l,a),{fragment:l,selectors:n,groupSelectors:r}},al=function(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return e},Ls=function(t,e,n){for(var r=Array.isArray(e)?e:e.split(n||"/"),s,a=0,l=r.length;a<l;)if(s=r[a++],Object(t)===t&&s in t)t=t[s];else return;return t},mv=function(t,e){return typeof e!="string"&&typeof e!="number"&&(e=String(e)),!(e==="constructor"&&typeof t[e]=="function"||e==="__proto__")},Zp=function(t,e,n,r){const s=Array.isArray(e)?e:e.split(r||"/"),a=s.length-1;let l=t,c=0;for(;c<a;c++){const f=s[c];if(!mv(l,f))return t;l=l[f]||(l[f]={})}return l[s[a]]=n,t},Qp=function(t,e,n){const r=Array.isArray(e)?e:e.split(n),s=r.length-1;let a=t,l=0;for(;l<s;l++){const c=r[l];if(!mv(a,c))return t;const f=a[c];if(!f)return t;a=f}return delete a[r[s]],t},$w=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})},bs=function(t){return bs.id=bs.id||1,t===void 0?"j_"+bs.id++:(t.id=t.id===void 0?"j_"+bs.id++:t.id,t.id)},Le=function(t){if(t.normalized)return t;const{originalEvent:e,target:n}=t,r=e&&e.changedTouches&&e.changedTouches[0];if(r)for(let s in r)t[s]===void 0&&(t[s]=r[s]);if(n){const s=n.correspondingUseElement;s&&(t.target=s)}return t.normalized=!0,t},Hw=function(t){let s=0,a=0,l=0,c=0;return"detail"in t&&(a=t.detail),"wheelDelta"in t&&(a=-t.wheelDelta/120),"wheelDeltaY"in t&&(a=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(s=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(s=a,a=0),l="deltaX"in t?t.deltaX:s*10,c="deltaY"in t?t.deltaY:a*10,(l||c)&&t.deltaMode&&(t.deltaMode==1?(l*=40,c*=40):(l*=800,c*=800)),t.deltaX===0&&t.deltaY!==0&&t.shiftKey&&(l=c,c=0,s=a,a=0),l&&!s&&(s=l<1?-1:1),c&&!a&&(a=c<1?-1:1),{spinX:s,spinY:a,deltaX:l,deltaY:c}},Ww=function(t,e){return t>e?e:t<-50?-50:t},sf=function(){var t;if(typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!t){var e=0;t=function(n){var r=new Date().getTime(),s=Math.max(0,16-(r-e)),a=setTimeout(function(){n(r+s)},s);return e=r+s,a}}return function(n,r,...s){return t(r!==void 0?n.bind(r,...s):n)}}(),vl=function(){var t,e=typeof window<"u";return e&&(t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),t=t||clearTimeout,e?t.bind(window):t}(),nn=function(t){return xe(t)&&t.slice(-1)==="%"},jw=function(t,e){function n(c){var f=new RegExp("(?:\\d+(?:\\.\\d+)*)("+c+")$").exec(t);return f?f[1]:null}var r=parseFloat(t);if(Number.isNaN(r))return null;var s={};s.value=r;var a;if(e==null)a="[A-Za-z]*";else if(Array.isArray(e)){if(e.length===0)return null;a=e.join("|")}else xe(e)&&(a=e);var l=n(a);return l===null?null:(s.unit=l,s)},Po=0;function qw(t,e){const n=t.split(e);let r=1;for(let s=0,a=n.length-1;s<a;s++){const l=[];(s>0||n[0]!=="")&&l.push(Po),l.push(e),(s<a-1||n[a]!=="")&&l.push(Po),n.splice(r,0,...l),r+=l.length+1}return n.filter(s=>s!=="")}function Kp(t,e){if(t===null)return e.getBBox().height;switch(t.unit){case"em":return e.getBBox().height*t.value;case"px":case"":return t.value}}const Yw=function(t,e,n={},r={}){var s=e.width,a=e.height,l=r.svgDocument||rt("svg").node,c=rt("tspan").node,f=rt("text").attr(n).append(c).node,p=document.createTextNode("");f.style.opacity=0,f.style.display="block",c.style.display="block",c.appendChild(p),l.appendChild(f),r.svgDocument||document.body.appendChild(l);const g=r.preserveSpaces,h=" ",x=r.separator||r.separator===""?r.separator:h,w=typeof x=="string"?x:h;var b=r.eol||`
`,P=r.hyphen?new RegExp(r.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,T=r.maxLineCount;Ge(T)||(T=1/0);var C=t.split(x),L=[],M=[],R,G,X;g&&rt(c).attr("xml:space","preserve");for(var v=0,S=0,E=C.length;v<E;v++){var k=C[v];if(!(!k&&!g)&&typeof k=="string"){var O=!1;if(b&&k.indexOf(b)>=0)if(k.length>1){const $=qw(C[v],b);C.splice(v,1,...$),v--,E=C.length;continue}else{if(g&&typeof C[v-1]=="string"){C.splice(v,Po,"",Po),E+=2,v--;continue}M[++S]=!g||typeof C[v+1]=="string"?"":void 0,O=!0}if(!O){let $;if(g?$=M[S]!==void 0?M[S]+w+k:k:$=M[S]?M[S]+w+k:k,p.data=$,c.getComputedTextLength()<=s)M[S]=$,(R||G)&&(L[S++]=!0,R=0,G=0);else{if(!M[S]||R){var U=!!R;if(R=k.length-1,U||!R){if(!R){if(!M[S]){M=[];break}C.splice(v,2,k+C[v+1]),E--,L[S++]=!0,v--;continue}C[v]=k.substring(0,R);const _=C[v+1];C[v+1]=k.substring(R)+(_===void 0||_===Po?"":_)}else{if(G)C.splice(v,2,C[v]+C[v+1]),G=0;else{var W=k.search(P);W>-1&&W!==k.length-1&&W!==0&&(G=W+1,R=0),C.splice(v,1,k.substring(0,G||R),k.substring(G||R)),E++}S&&!L[S-1]&&S--}(!g||M[S]!=="")&&v--;continue}S++,v--}}var Q=null;if(M.length>T)Q=T-1;else if(a!==void 0){if(X===void 0&&p.data!=="")if(n.lineHeight==="auto")X=Kp({value:1.5,unit:"em"},f);else{const $=jw(n.lineHeight,["em","px",""]);X=Kp($,f)}X*M.length>a&&(Q=Math.floor(a/X)-1)}if(Q!==null){M.splice(Q+1);var it=r.ellipsis;if(!it||Q<0)break;typeof it!="string"&&(it="…");var I=M[Q];if(!I&&!O)break;var B=I.length,N,D;do{if(D=I[B],N=I.substring(0,B),D?D.match(x)&&(N+=D):N+=w,N+=it,p.data=N,c.getComputedTextLength()<=s){M[Q]=N;break}B--}while(B>=0);break}}}return r.svgDocument?l.removeChild(f):document.body.removeChild(l),M.join(b)},Xw=function(t,e){t=dt(t).toArray();var n=t.map(function(s){var a=s.parentNode,l=a.insertBefore(document.createTextNode(""),s.nextSibling);return function(){if(a===this)throw new Error("You can't sort elements if any one is a descendant of another.");a.insertBefore(this,l),a.removeChild(l)}});t.sort(e);for(var r=0;r<n.length;r++)n[r].call(t[r]);return t},Fi=function(t){if(Object(t)!==t){var e=0;return isFinite(t)&&(e=+t),{top:e,right:e,bottom:e,left:e}}var n,r,s,a;return n=r=s=a=0,isFinite(t.vertical)&&(n=s=+t.vertical),isFinite(t.horizontal)&&(r=a=+t.horizontal),isFinite(t.top)&&(n=+t.top),isFinite(t.right)&&(r=+t.right),isFinite(t.bottom)&&(s=+t.bottom),isFinite(t.left)&&(a=+t.left),{top:n,right:r,bottom:s,left:a}},Zw={linear:function(t){return t},quad:function(t){return t*t},cubic:function(t){return t*t*t},inout:function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},exponential:function(t){return Math.pow(2,10*(t-1))},bounce:function(t){for(var e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11){var r=(11-6*e-11*t)/4;return-r*r+n*n}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return .5*(e<.5?t(2*e):2-t(2-2*e))}},clamp:function(t,e,n){return e=e||0,n=n||1,function(r){var s=t(r);return s<e?e:s>n?n:s}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},elastic:function(t){return t||(t=1.5),function(e){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}},vv={number:function(t,e){var n=e-t;return function(r){return t+n*r}},object:function(t,e){var n=Object.keys(t);return function(r){var s,a,l={};for(s=n.length-1;s!=-1;s--)a=n[s],l[a]=t[a]+(e[a]-t[a])*r;return l}},hexColor:function(t,e){var n=parseInt(t.slice(1),16),r=parseInt(e.slice(1),16),s=n&255,a=(r&255)-s,l=n&65280,c=(r&65280)-l,f=n&16711680,p=(r&16711680)-f;return function(g){var h=s+a*g&255,x=l+c*g&65280,w=f+p*g&16711680;return"#"+(1<<24|h|x|w).toString(16).slice(1)}},unit:function(t,e){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(t),s=n.exec(e),a=s[1].indexOf("."),l=a>0?s[1].length-a-1:0;t=+r[1];var c=+s[1]-t,f=r[2];return function(p){return(t+c*p).toFixed(l)+f}}},Qw={outline:function(t){var e='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',n=Number.isFinite(t.margin)?t.margin:2,r=Number.isFinite(t.width)?t.width:1;return Vn(e)({color:t.color||"blue",opacity:Number.isFinite(t.opacity)?t.opacity:1,outerRadius:n+r,innerRadius:n})},highlight:function(t){var e='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return Vn(e)({color:t.color||"red",width:Number.isFinite(t.width)?t.width:1,blur:Number.isFinite(t.blur)?t.blur:0,opacity:Number.isFinite(t.opacity)?t.opacity:1})},blur:function(t){var e=Number.isFinite(t.x)?t.x:2;return Vn('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(t.y)?[e,t.y]:e})},dropShadow:function(t){var e="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return Vn(e)({dx:t.dx||0,dy:t.dy||0,opacity:Number.isFinite(t.opacity)?t.opacity:1,color:t.color||"black",blur:Number.isFinite(t.blur)?t.blur:4})},grayscale:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Vn('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},sepia:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Vn('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},saturate:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Vn('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-e})},hueRotate:function(t){return Vn('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:t.angle||0})},invert:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Vn('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:1-e})},brightness:function(t){return Vn('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(t.amount)?t.amount:1})},contrast:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Vn('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:.5-e/2})}},Vn=function(t){var e=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},t.replace(e,function(r){for(var s=Array.from(arguments),a=s.slice(1,4).find(function(f){return!!f}),l=a.split("."),c=n[l.shift()];c!==void 0&&l.length;)c=c[l.shift()];return c!==void 0?c:""})}};function yv(t,e,n,r){if(n===r)return{};const s={};return Object.keys(t).forEach(a=>{const l=t[a],c=e[a];if(!Array.isArray(l)&&!Array.isArray(c)&&qt(l)&&qt(c)){const f=n+1,p=yv(l,c,f,r);Object.keys(p).length>0?s[a]=p:(n===0||f===r)&&(s[a]={})}else ni(l,c)||(s[a]=l)}),s}function Kw(t,e,n){const{maxDepth:r=Number.POSITIVE_INFINITY}=n;return yv(t,e,0,r)}var je={},Jp=/\s+/,ei,Ri=function(t,e,n,r,s){var a=0,l;if(n&&typeof n=="object")for(r!==void 0&&("context"in s)&&s.context===void 0&&(s.context=r),l=Object.keys(n);a<l.length;a++)e=Ri(t,e,l[a],n[l[a]],s);else if(n&&Jp.test(n))for(l=n.split(Jp);a<l.length;a++)e=t(e,l[a],r,s);else e=t(e,n,r,s);return e};je.on=function(t,e,n){if(this._events=Ri(Jw,this._events||{},t,e,{context:n,ctx:this,listening:ei}),ei){var r=this._listeners||(this._listeners={});r[ei.id]=ei,ei.interop=!1}return this};je.listenTo=function(t,e,n){if(!t)return this;var r=t._listenId||(t._listenId=Fo("l")),s=this._listeningTo||(this._listeningTo={}),a=ei=s[r];a||(this._listenId||(this._listenId=Fo("l")),a=ei=s[r]=new Hl(this,t));var l=tS(t,e,n,this);if(ei=void 0,l)throw l;return a.interop&&a.on(e,n),this};var Jw=function(t,e,n,r){if(n){var s=t[e]||(t[e]=[]),a=r.context,l=r.ctx,c=r.listening;c&&c.count++,s.push({callback:n,context:a,ctx:a||l,listening:c})}return t},tS=function(t,e,n,r){try{t.on(e,n,r)}catch(s){return s}};je.off=function(t,e,n){return this._events?(this._events=Ri(xv,this._events,t,e,{context:n,listeners:this._listeners}),this):this};je.stopListening=function(t,e,n){var r=this._listeningTo;if(!r)return this;for(var s=t?[t._listenId]:Object.keys(r),a=0;a<s.length;a++){var l=r[s[a]];if(!l)break;l.obj.off(e,n,this),l.interop&&l.off(e,n)}return pn(r)&&(this._listeningTo=void 0),this};var xv=function(t,e,n,r){if(t){var s=r.context,a=r.listeners,l=0,c;if(!e&&!s&&!n){if(a!=null)for(c=Object.keys(a);l<c.length;l++)a[c[l]].cleanup();return}for(c=e?[e]:Object.keys(t);l<c.length;l++){e=c[l];var f=t[e];if(!f)break;for(var p=[],g=0;g<f.length;g++){var h=f[g];if(n&&n!==h.callback&&n!==h.callback._callback||s&&s!==h.context)p.push(h);else{var x=h.listening;x&&x.off(e,n)}}p.length?t[e]=p:delete t[e]}return t}};je.once=function(t,e,n){var r=Ri(wv,{},t,e,this.off.bind(this));return typeof t=="string"&&n==null&&(e=void 0),this.on(r,e,n)};je.listenToOnce=function(t,e,n){var r=Ri(wv,{},e,n,this.stopListening.bind(this,t));return this.listenTo(t,r)};var wv=function(t,e,n,r){if(n){var s=t[e]=eS(function(){r(e,s),n.apply(this,arguments)});s._callback=n}return t},eS=function(t){var e;if(typeof t!="function")throw new TypeError("Expected a function");var n=2;return function(){return--n>0&&(e=t.apply(this,arguments)),n<=1&&(t=void 0),e}};je.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return Ri(nS,this._events,t,void 0,n),this};var nS=function(t,e,n,r){if(t){var s=t[e],a=t.all;s&&a&&(a=a.slice()),s&&tg(s,r),a&&tg(a,[e].concat(r))}return t},tg=function(t,e){var n,r=-1,s=t.length,a=e[0],l=e[1],c=e[2];switch(e.length){case 0:for(;++r<s;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<s;)(n=t[r]).callback.call(n.ctx,a);return;case 2:for(;++r<s;)(n=t[r]).callback.call(n.ctx,a,l);return;case 3:for(;++r<s;)(n=t[r]).callback.call(n.ctx,a,l,c);return;default:for(;++r<s;)(n=t[r]).callback.apply(n.ctx,e);return}},Hl=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};Hl.prototype.on=je.on;Hl.prototype.off=function(t,e){var n;this.interop?(this._events=Ri(xv,this._events,t,e,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=this.count===0),n&&this.cleanup()};Hl.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]};je.bind=je.on;je.unbind=je.off;var Hf=function(t,e){var n=this,r;return t&&ir(t,"constructor")?r=t.constructor:r=function(){return n.apply(this,arguments)},wt(r,n,e),r.prototype=Object.assign(Object.create(n.prototype),t),r.prototype.constructor=r,r.__super__=n.prototype,r},rS=function(t,e,n,r){switch(e){case 1:return function(){return t[n](this[r])};case 2:return function(s){return t[n](this[r],s)};case 3:return function(s,a){return t[n](this[r],eg(s,this),a)};case 4:return function(s,a,l){return t[n](this[r],eg(s,this),a,l)};default:return function(){var s=Array.prototype.slice.call(arguments);return s.unshift(this[r]),t[n].apply(t,s)}}},iS=function(t,e,n,r){nr(n,function(s,a){e[a]&&(t.prototype[a]=rS(e,s,a,r))})},eg=function(t,e){return Jt(t)?t:qt(t)&&!e._isModel(t)?sS(t):xe(t)?function(n){return n.get(t)}:t},sS=function(t){var e=qx(t);return function(n){return e(n.attributes)}},Pn=function(t,e){var n=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=Fo(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection);var r=ie(this,"defaults");n=dn(wt({},r,n),r),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};wt(Pn.prototype,je,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return De(this.attributes)},get:function(t){return this.attributes[t]},has:function(t){return this.get(t)!=null},set:function(t,e,n){if(t==null)return this;var r;if(typeof t=="object"?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;var s=n.unset,a=n.silent,l=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=De(this.attributes),this.changed={});var f=this.attributes,p=this.changed,g=this._previousAttributes;for(var h in r)e=r[h],ni(f[h],e)||l.push(h),ni(g[h],e)?delete p[h]:p[h]=e,s?delete f[h]:f[h]=e;if(this.idAttribute in r){var x=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,x,n)}if(!a){l.length&&(this._pending=n);for(var w=0;w<l.length;w++)this.trigger("change:"+l[w],this,f[l[w]],n)}if(c)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,wt({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,wt({},t,{unset:!0}))},hasChanged:function(t){return t==null?!pn(this.changed):ir(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?De(this.changed):!1;var e=this._changing?this._previousAttributes:this.attributes,n={},r;for(var s in t){var a=t[s];ni(e[s],a)||(n[s]=a,r=!0)}return r?n:!1},previous:function(t){return t==null||!this._previousAttributes?null:this._previousAttributes[t]},previousAttributes:function(){return De(this._previousAttributes)},clone:function(){return new this.constructor(this.attributes)},isValid:function(t){return this._validate({},wt({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=wt({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,wt(e,{validationError:n})),!1):!0}});Pn.extend=Hf;function Sv(t){t=Ni(t);const e=Yt(t).reduce(function(n,r){return n[r.id]=r.clone(),n},{});return Yt(t).forEach(function(n){const r=e[n.id];if(r.isLink()){const l=r.source(),c=r.target();l.id&&e[l.id]&&r.prop("source/id",e[l.id].id),c.id&&e[c.id]&&r.prop("target/id",e[c.id].id)}const s=n.get("parent");s&&e[s]&&r.set("parent",e[s].id);const a=Yt(n.get("embeds")).reduce(function(l,c){return e[c]&&l.push(e[c].id),l},[]);pn(a)||r.set("embeds",a)}),e}const oS=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],aS=oS.reduce((t,e)=>(t[e]=!0,t),{}),lS={qualify:function(t){return ye(t)},set:function(t,e,n){Object.keys(t).forEach(function(r){if(aS[r]&&r in n){const s=t[r];n.tagName==="SELECT"&&Array.isArray(s)?Array.from(n.options).forEach(function(a,l){a.selected=s.includes(a.value)}):n[r]=s}})}};function ll(t,e,n){return function(r,s){var a=nn(r);r=parseFloat(r),a&&(r/=100);var l;if(isFinite(r)){var c=s[n]();a||r>0&&r<1?l=c[t]+s[e]*r:l=c[t]+r}var f=z();return f[t]=l||0,f}}function Kr(t,e){return function(n,r){var s=nn(n);n=parseFloat(n),s&&(n/=100);var a={};if(isFinite(n)){var l=s||n>=0&&n<=1?n*r[e]:Math.max(n+r[e],0);a[t]=l}return a}}const qe={"ref-x":{position:ll("x","width","origin")},"ref-y":{position:ll("y","height","origin")},"ref-dx":{position:ll("x","width","corner")},"ref-dy":{position:ll("y","height","corner")},"ref-width":{set:Kr("width","width")},"ref-height":{set:Kr("height","height")},"ref-rx":{set:Kr("rx","width")},"ref-ry":{set:Kr("ry","height")},"ref-cx":{set:Kr("cx","width")},"ref-cy":{set:Kr("cy","height")},"ref-r-inscribed":{set:function(t){var e=Kr(t,"width"),n=Kr(t,"height");return function(r,s){var a=s.height>s.width?e:n;return a(r,s)}}("r")},"ref-r-circumscribed":{set:function(t,e){var n=nn(t);t=parseFloat(t),n&&(t/=100);var r=Math.sqrt(e.height*e.height+e.width*e.width),s;return isFinite(t)&&(n||t>=0&&t<=1?s=t*r:s=Math.max(t+r,0)),{r:s}}}};qe.refX=qe["ref-x"];qe.refY=qe["ref-y"];qe["ref-x2"]=qe["ref-x"];qe["ref-y2"]=qe["ref-y"];qe["ref-width2"]=qe["ref-width"];qe["ref-height2"]=qe["ref-height"];qe["ref-r"]=qe["ref-r-inscribed"];const yr={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},uS=Object.keys(yr).map(t=>yr[t]).join(""),Rc="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",cS=/\s/g,ng=new RegExp(`^(${Rc}\\*)?([${uS}])(/${Rc})?([-+]{1,2}${Rc})?$`,"g");function bv(t){throw new Error(`Invalid calc() expression: ${t}`)}function fS(t,e){const n=ng.exec(t.replace(cS,""));n||bv(t),ng.lastIndex=0;const[,r,s,a,l]=n,{x:c,y:f,width:p,height:g}=e;let h=0;switch(s){case yr.width:{h=p;break}case yr.height:{h=g;break}case yr.x:{h=c;break}case yr.y:{h=f;break}case yr.minimum:{h=Math.min(g,p);break}case yr.maximum:{h=Math.max(g,p);break}case yr.diagonal:{h=Math.sqrt(g*g+p*p);break}}return r&&(h*=parseFloat(r)),a&&(h/=parseFloat(a.slice(1))),l&&(h+=dS(l)),h}function dS(t){if(!t)return 0;const[e]=t;switch(e){case"+":return parseFloat(t.substr(1));case"-":return-parseFloat(t.substr(1))}return parseFloat(t)}function Ms(t){return typeof t=="string"&&t.includes("calc")}const Ev="calc(",rg=Ev.length;function Ns(t,e){let n=t,r=0;do{let s=n.indexOf(Ev,r);if(s===-1)return n;let a=s+rg,l=1;t:do{switch(n[a]){case"(":{l++;break}case")":{if(l--,l===0)break t;break}case void 0:bv(n)}a++}while(!0);let c=n.slice(s+rg,a);Ms(c)&&(c=Ns(c,e));const f=String(fS(c,e));n=n.slice(0,s)+f+n.slice(a+1),r=s+f.length}while(!0)}function ds(t,e,n){return n.text!==void 0}const Dc=["font-weight","font-family","font-size","letter-spacing","text-transform"],Av={"line-height":{qualify:ds},"text-vertical-anchor":{qualify:ds},"text-path":{qualify:ds},annotations:{qualify:ds},eol:{qualify:ds},"display-empty":{qualify:ds},text:{qualify:function(t,e,n){const r=n["text-wrap"];return!r||!ye(r)},unset:function(t){t.textContent=""},set:function(t,e,n,r){const s="joint-text",a=dt.data.get(n,s),l=r["line-height"],c=r["text-vertical-anchor"],f=r["display-empty"],p=r["font-size"],g=r.annotations,h=r.eol,x=r.x;let w=r["text-path"];const b=JSON.stringify([t,l,g,c,h,f,w,x,p]);if(a===void 0||a!==b){if(p&&n.setAttribute("font-size",p),qt(w)){const P=w.selector;if(typeof P=="string"){const T=this.findNode(P);T instanceof SVGPathElement&&(w=wt({"xlink:href":"#"+T.id},w))}}rt(n).text(""+t,{lineHeight:l,annotations:g,textPath:w,x,textVerticalAnchor:c,eol:h,displayEmpty:f}),dt.data.set(n,s,b)}}},"text-wrap":{qualify:ye,set:function(t,e,n,r){var s={},a=t.width||0;nn(a)?s.width=e.width*parseFloat(a)/100:Ms(a)?s.width=Number(Ns(a,e)):t.width===null?s.width=1/0:a<=0?s.width=e.width+a:s.width=a;var l=t.height||0;nn(l)?s.height=e.height*parseFloat(l)/100:Ms(l)?s.height=Number(Ns(l,e)):t.height===null||(l<=0?s.height=e.height+l:s.height=l);var c,f=t.text;if(f===void 0&&(f=r.text),f!==void 0){const p=t.breakText||Yw,g=getComputedStyle(n),h={};for(let x=0;x<Dc.length;x++){const w=Dc[x];w in r&&n.setAttribute(w,r[w]),h[w]=g[w]}h.lineHeight=r["line-height"],c=p(""+f,s,h,{svgDocument:this.paper.svg,ellipsis:t.ellipsis,hyphen:t.hyphen,separator:t.separator,maxLineCount:t.maxLineCount,preserveSpaces:t.preserveSpaces})}else c="";Av.text.set.call(this,c,e,n,r)},FONT_ATTRIBUTES:Dc},title:{qualify:function(t,e){return e instanceof SVGElement},unset:function(t){dt.data.remove(t,"joint-title");const e=t.firstElementChild;e&&e.remove()},set:function(t,e,n){var r="joint-title",s=dt.data.get(n,r);if(s===void 0||s!==t){if(dt.data.set(n,r,t),n.tagName==="title"){n.textContent=t;return}var a=n.firstElementChild;if(a&&a.tagName==="title")a.textContent=t;else{var l=document.createElementNS(n.namespaceURI,"title");l.textContent=t,n.insertBefore(l,a)}}}}};function ul(t,e){var n=new z(1,0);return function(r){var s,a,l=this[t](r);return l?(a=e.rotate?l.vector().vectorAngle(n):0,s=l.start):(s=this.path.start,a=0),a===0?{transform:"translate("+s.x+","+s.y+")"}:{transform:"translate("+s.x+","+s.y+") rotate("+a+")"}}}function So(){return this.model.isLink()}const Io={connection:{qualify:So,unset:"d",set:function({stubs:t=0}){let e;if(isFinite(t)&&t!==0){let n;t<0?n=(this.getConnectionLength()+t)/2:n=t;const r=this.getConnection(),s=this.getConnectionSubdivisions(),a=r.divideAtLength(n,{segmentSubdivisions:s}),l=r.divideAtLength(-n,{segmentSubdivisions:s});a&&l&&(e=`${a[0].serialize()} ${l[1].serialize()}`)}return{d:e||this.getSerializedConnection()}}},"at-connection-length-keep-gradient":{qualify:So,unset:"transform",set:ul("getTangentAtLength",{rotate:!0})},"at-connection-length-ignore-gradient":{qualify:So,unset:"transform",set:ul("getTangentAtLength",{rotate:!1})},"at-connection-ratio-keep-gradient":{qualify:So,unset:"transform",set:ul("getTangentAtRatio",{rotate:!0})},"at-connection-ratio-ignore-gradient":{qualify:So,unset:"transform",set:ul("getTangentAtRatio",{rotate:!1})}};Io["at-connection-length"]=Io["at-connection-length-keep-gradient"];Io["at-connection-ratio"]=Io["at-connection-ratio-keep-gradient"];function Pv(t,e){var n="joint-shape",r=e&&e.resetOffset;return function(s,a,l){var c=dt.data.get(l,n);if(!c||c.value!==s){var f=t(s);c={value:s,shape:f,shapeBBox:f.bbox()},dt.data.set(l,n,c)}var p=c.shape.clone(),g=c.shapeBBox.clone(),h=g.origin(),x=a.origin();g.x=x.x,g.y=x.y;var w=a.maxRectScaleToFit(g,x),b=g.width===0||a.width===0?1:w.sx,P=g.height===0||a.height===0?1:w.sy;return p.scale(b,P,h),r&&p.translate(-h.x,-h.y),p}}function ig(t){function e(r){return new Ct(rt.normalizePathData(r))}var n=Pv(e,t);return function(r,s,a){var l=n(r,s,a);return{d:l.serialize()}}}function sg(t){var e=Pv(se,t);return function(n,r,s){var a=e(n,r,s);return{points:a.serialize()}}}const Ro={"ref-d-reset-offset":{unset:"d",set:ig({resetOffset:!0})},"ref-d-keep-offset":{unset:"d",set:ig({resetOffset:!1})},"ref-points-reset-offset":{unset:"points",set:sg({resetOffset:!0})},"ref-points-keep-offset":{unset:"points",set:sg({resetOffset:!1})}};Ro["ref-d"]=Ro["ref-d-reset-offset"];Ro["ref-points"]=Ro["ref-points-reset-offset"];function Bc(t){var e={},n=t.stroke;typeof n=="string"&&(e.stroke=n,e.fill=n);var r=t["stroke-opacity"];return r===void 0&&(r=t.opacity),r!==void 0&&(e["stroke-opacity"]=r,e["fill-opacity"]=r),e}function og(t){const{paper:e}=this;return`url(#${t.type==="pattern"?e.definePattern(t):e.defineGradient(t)})`}const hS={"source-marker":{qualify:ye,unset:"marker-start",set:function(t,e,n,r){return t=wt(Bc(r),t),{"marker-start":"url(#"+this.paper.defineMarker(t)+")"}}},"target-marker":{qualify:ye,unset:"marker-end",set:function(t,e,n,r){return t=wt(Bc(r),{transform:"rotate(180)"},t),{"marker-end":"url(#"+this.paper.defineMarker(t)+")"}}},"vertex-marker":{qualify:ye,unset:"marker-mid",set:function(t,e,n,r){return t=wt(Bc(r),t),{"marker-mid":"url(#"+this.paper.defineMarker(t)+")"}}},fill:{qualify:ye,set:og},stroke:{qualify:ye,set:og},filter:{qualify:ye,set:function(t){return"url(#"+this.paper.defineFilter(t)+")"}}};function ag(t,e,n){return function(r,s){var a;r==="middle"?a=s[e]/2:r===n?a=s[e]:isFinite(r)?a=r>-1&&r<1?-s[e]*r:-r:nn(r)?a=s[e]*parseFloat(r)/100:a=0;var l=new z;return l[t]=-(s[t]+a),l}}const pS={"x-alignment":{offset:ag("x","width","right")},"y-alignment":{offset:ag("y","height","bottom")},"reset-offset":{offset:function(t,e){return t?{x:-e.x,y:-e.y}:{x:0,y:0}}}};function lg(t){return function(n,r,s){const a=rt(s);a.attr(t)!==n&&a.attr(t,n)}}const Di={ref:{},href:{set:lg("href")},"xlink:href":{set:lg("xlink:href")},port:{set:function(t){return t===null||t.id===void 0?t:t.id}},style:{qualify:ye,set:function(t,e,n){dt(n).css(t)}},html:{unset:function(t){dt(t).empty()},set:function(t,e,n){dt(n).html(t+"")}},props:lS};wt(Di,qe);wt(Di,Av);wt(Di,Io);wt(Di,Ro);wt(Di,hS);wt(Di,pS);const Tv=Di,gS=function(t,e){if(Array.isArray(t))return e};function ug(t){for(const e in t){const n=t[e];qt(n)&&!Array.isArray(n)&&pn(n)&&delete t[e]}}const or=Pn.extend({constructor:function(t,e){var n,r=t||{};if(typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=Fo("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(r=this.parse(r,e)||{}),n=ie(this,"defaults")){const s=e&&e.mergeArrays===!0?!1:gS;r=Ee({},n,r,s)}this.set(r,e),this.changed={},this.initialize.apply(this,arguments)},translate:function(t,e,n){throw new Error("Must define a translate() method.")},toJSON:function(t){const{ignoreDefaults:e,ignoreEmptyAttributes:n=!1}=t||{},r=ie(this.constructor.prototype,"defaults");if(e===!1){const c=fn(this.attributes);return n&&ug(c),c}let s={},a=fn(this.attributes);e===!0?s=r:(Array.isArray(e)?e:["attrs"]).forEach(f=>{s[f]=r[f]||{}});const l=Kw(a,Ho(s,"id","type"),{maxDepth:4});return n&&ug(l),l},initialize:function(t){const e=this.getIdAttribute();(!t||t[e]===void 0)&&this.set(e,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return $w()},processPorts:function(){var t=this.ports,e={};nr(this.get("attrs"),function(a,l){a&&a.port&&(a.port.id!==void 0?e[a.port.id]=a.port:e[a.port]={id:a.port})});var n={};if(nr(t,function(a,l){e[l]||(n[l]=!0)}),this.graph&&!pn(n)){var r=this.graph.getConnectedLinks(this,{inbound:!0});r.forEach(function(a){n[a.get("target").port]&&a.remove()});var s=this.graph.getConnectedLinks(this,{outbound:!0});s.forEach(function(a){n[a.get("source").port]&&a.remove()})}this.ports=e},remove:function(t={}){const{graph:e,collection:n}=this;if(!e)return n&&n.remove(this,t),this;e.startBatch("remove");const r=this.getParentCell();r&&r.unembed(this,t);const s=this.getEmbeddedCells();for(let a=0,l=s.length;a<l;a++){const c=s[a];c&&c.remove(t)}return this.trigger("remove",this,e.attributes.cells,t),e.stopBatch("remove"),this},toFront:function(t){var e=this.graph;if(e){t=dn(t||{},{foregroundEmbeds:!0});let n;t.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:t.breadthFirst!==!1,sortSiblings:t.foregroundEmbeds}),n.unshift(this)):n=[this];const r=t.foregroundEmbeds?n:pl(n,f=>f.z());let a=e.maxZIndex()-n.length+1;const l=e.get("cells");let c=l.toArray().indexOf(r[0])!==l.length-n.length;c||(c=r.some(function(f,p){return f.z()!==a+p})),c&&(this.startBatch("to-front"),a=a+n.length,r.forEach(function(f,p){f.set("z",a+p,t)}),this.stopBatch("to-front"))}return this},toBack:function(t){var e=this.graph;if(e){t=dn(t||{},{foregroundEmbeds:!0});let r;t.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:t.breadthFirst!==!1,sortSiblings:t.foregroundEmbeds}),r.unshift(this)):r=[this];const s=t.foregroundEmbeds?r:pl(r,c=>c.z());let a=e.minZIndex();var n=e.get("cells");let l=n.toArray().indexOf(s[0])!==0;l||(l=s.some(function(c,f){return c.z()!==a+f})),l&&(this.startBatch("to-back"),a-=r.length,s.forEach(function(c,f){c.set("z",a+f,t)}),this.stopBatch("to-back"))}return this},parent:function(t,e){return t===void 0?this.get("parent"):this.set("parent",t,e)},embed:function(t,e={}){const n=Array.isArray(t)?t:[t];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");if(e.reparent)Ni(n.map(s=>s.getParentCell())).forEach(s=>{s&&s._unembedCells(n,e)});else if(n.some(r=>r.isEmbedded()&&this.id!==r.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(n,e),this},unembed:function(t,e){const n=Array.isArray(t)?t:[t];return this._unembedCells(n,e),this},canEmbed:function(t){return(Array.isArray(t)?t:[t]).every(n=>this!==n&&!this.isEmbeddedIn(n))},_embedCells:function(t,e){const n="embed";this.startBatch(n);const r=wt([],this.get("embeds"));t.forEach(s=>{r[s.isLink()?"unshift":"push"](s.id),s.parent(this.id,e)}),this.set("embeds",Ni(r),e),this.stopBatch(n)},_unembedCells:function(t,e){const n="unembed";this.startBatch(n),t.forEach(r=>r.unset("parent",e)),this.set("embeds",qp(this.get("embeds"),...t.map(r=>r.id)),e),this.stopBatch(n)},getParentCell:function(){var t=this.parent(),e=this.graph;return t&&e&&e.getCell(t)||null},getAncestors:function(){var t=[];if(!this.graph)return t;for(var e=this.getParentCell();e;)t.push(e),e=e.getParentCell();return t},getEmbeddedCells:function(t){if(t=t||{},!this.graph)return[];if(t.deep)return t.breadthFirst?this._getEmbeddedCellsBfs(t.sortSiblings):this._getEmbeddedCellsDfs(t.sortSiblings);const e=this.get("embeds");if(pn(e))return[];let n=e.map(this.graph.getCell,this.graph);return t.sortSiblings&&(n=pl(n,r=>r.z())),n},_getEmbeddedCellsBfs:function(t){const e=[],n=[];for(n.push(this);n.length>0;){const r=n.shift();e.push(r);const s=r.getEmbeddedCells({sortSiblings:t});n.push(...s)}return e.shift(),e},_getEmbeddedCellsDfs:function(t){const e=[],n=[];for(n.push(this);n.length>0;){const r=n.pop();e.push(r);const s=r.getEmbeddedCells({sortSiblings:t});for(let a=s.length-1;a>=0;--a)n.push(s[a])}return e.shift(),e},isEmbeddedIn:function(t,e){var n=xe(t)?t:t.id,r=this.parent();if(e=wt({deep:!0},e),this.graph&&e.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}else return r===n},isEmbedded:function(){return!!this.parent()},clone:function(t){if(t=t||{},t.deep)return Yt(Sv([this].concat(this.getEmbeddedCells({deep:!0}))));var e=Pn.prototype.clone.apply(this,arguments);return e.set(this.getIdAttribute(),this.generateId()),e.unset("embeds"),e.unset("parent"),e},prop:function(t,e,n){var r="/",s=xe(t);if(s||Array.isArray(t))if(arguments.length>1){var a,l;s?(a=t,l=a.split("/")):(a=t.join(r),l=t.slice());var c=l[0],f=l.length;const M=n||{};M.propertyPath=a,M.propertyValue=e,M.propertyPathArray=l,"rewrite"in M||(M.rewrite=!1);for(var p={},g=p,h=c,x=1;x<f;x++){var w=l[x],b=Number.isFinite(s?Number(w):w);g=g[h]=b?[]:{},h=w}p=Zp(p,l,e,"/");var P=Ee({},this.attributes);M.rewrite&&Qp(P,a,"/");var T=Ee(P,p);return this.set(c,T[c],M)}else return Ls(this.attributes,t,r);const C=e||{};C.propertyPath=null,C.propertyValue=t,C.propertyPathArray=[],"rewrite"in C||(C.rewrite=!1);const L={};for(const M in t){const{changedValue:R}=Ee({},{changedValue:this.attributes[M]},{changedValue:t[M]});L[M]=R}return this.set(L,C)},removeProp:function(t,e){e=e||{};var n=Array.isArray(t)?t:t.split("/"),r=n[0];if(r==="attrs"&&(e.dirty=!0),n.length===1)return this.unset(t,e);var s=n.slice(1),a=this.get(r);return a==null?this:(a=fn(a),Qp(a,s,"/"),this.set(r,a,e))},attr:function(t,e,n){var r=Array.from(arguments);return r.length===0?this.get("attrs"):(Array.isArray(t)?r[0]=["attrs"].concat(t):xe(t)?r[0]="attrs/"+t:r[0]={attrs:t},this.prop.apply(this,r))},removeAttr:function(t,e){return Array.isArray(t)?this.removeProp(["attrs"].concat(t)):this.removeProp("attrs/"+t,e)},transition:function(t,e,n,r){r=r||"/";var s={duration:100,delay:10,timingFunction:Zw.linear,valueFunction:vv.number};n=wt(s,n);var a=0,l,c=(function(h){var x,w,b;a=a||h,h-=a,w=h/n.duration,w<1?this._transitionIds[t]=x=sf(c):(w=1,delete this._transitionIds[t]),b=l(n.timingFunction(w)),n.transitionId=x,this.prop(t,b,n),x||this.trigger("transition:end",this,t)}).bind(this);const{_scheduledTransitionIds:f}=this;let p;var g=h=>{f[t]&&(f[t]=qp(f[t],p),f[t].length===0&&delete f[t]),this.stopPendingTransitions(t,r),l=n.valueFunction(Ls(this.attributes,t,r),e),this._transitionIds[t]=sf(h),this.trigger("transition:start",this,t)};return p=setTimeout(g,n.delay,c),f[t]||(f[t]=[]),f[t].push(p),p},getTransitions:function(){return rf(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(t,e="/"){const{_scheduledTransitionIds:n={}}=this;let r=Object.keys(n);if(t){const s=t.split(e);r=r.filter(a=>ni(s,a.split(e).slice(0,s.length)))}return r.forEach(s=>{n[s].forEach(l=>clearTimeout(l)),delete n[s]}),this},stopPendingTransitions(t,e="/"){const{_transitionIds:n={}}=this;let r=Object.keys(n);if(t){const s=t.split(e);r=r.filter(a=>ni(s,a.split(e).slice(0,s.length)))}r.forEach(s=>{const a=n[s];vl(a),delete n[s],this.trigger("transition:end",this,s)})},stopTransitions:function(t,e="/"){return this.stopScheduledTransitions(t,e),this.stopPendingTransitions(t,e),this},addTo:function(t,e){return t.addCell(this,e),this},findView:function(t){return t.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(t,e){return this.graph&&this.graph.startBatch(t,wt({},e,{cell:this})),this},stopBatch:function(t,e){return this.graph&&this.graph.stopBatch(t,wt({},e,{cell:this})),this},getChangeFlag:function(t){var e=0;if(!t)return e;for(var n in t)!t.hasOwnProperty(n)||!this.hasChanged(n)||(e|=t[n]);return e},angle:function(){return 0},position:function(){return new z(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new z},getBBox:function(){return new ht(0,0,0,0)},getPointRotatedAroundCenter(t,e,n){const r=new z(e,n);return t&&r.rotate(this.getBBox().center(),t),r},getAbsolutePointFromRelative(t,e){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(t,e))},getRelativePointFromAbsolute(t,e){return this.getPointRotatedAroundCenter(this.angle(),t,e).difference(this.position())}},{getAttributeDefinition:function(t){var e=this.attributes,n=Tv;return e&&e[t]||n[t]},define:function(t,e,n,r){n=wt({defaults:Uf({type:t},e,this.prototype.defaults)},n);var s=this.extend(n,r);return typeof joint<"u"&&ir(joint,"shapes")&&Zp(joint.shapes,t,s,"."),s}}),mS=function(t,e,n){if(xe(n)){if(!of[n])throw new Error('Unknown wrapper: "'+n+'"');n=of[n]}if(!Jt(n))throw new Error("Wrapper must be a function.");Yt(e).forEach(function(r){t[r]=n(t[r])})},of={cells:function(t){return function(){var e=Array.from(arguments),n=e.length,r=n>0&&e[0]||[],s=n>1&&e[n-1]||{};return Array.isArray(r)||(s instanceof or?r=e:r instanceof or&&(e.length>1&&e.pop(),r=e)),s instanceof or&&(s={}),t.call(this,r,s)}}};function Sr(t,...e){const n=[];return t.forEach((s,a)=>{n.push(s),a in e&&n.push(e[a])}),vS(n.join(""))}function vS(t){const e=new DOMParser,n=`<svg>${t.trim()}</svg>`;if(e.parseFromString(n.replace(/@/g,""),"application/xml").getElementsByTagName("parsererror")[0])throw new Error("Invalid SVG markup");const a=e.parseFromString(n,"text/html").querySelector("svg");return yS(a)}function Cv(t){const e={},{tagName:n,attributes:r,namespaceURI:s,style:a,childNodes:l}=t;e.namespaceURI=s,e.tagName=s===rt.namespace.xhtml?n.toLowerCase():n;const c={};for(var f=a.length;f--;){var p=a[f];c[p]=a.getPropertyValue(p)}e.style=c;const g=r.getNamedItem("@selector");g&&(e.selector=g.value,r.removeNamedItem("@selector"));const h=r.getNamedItem("@group-selector");if(h){const P=h.value.split(",");e.groupSelector=P.map(T=>T.trim()),r.removeNamedItem("@group-selector")}const x=r.getNamedItem("class");x&&(e.className=x.value);const w=[];l.forEach(P=>{switch(P.nodeType){case Node.TEXT_NODE:{const T=P.data.replace(/\s\s+/g," ");T.trim()&&w.push(T);break}case Node.ELEMENT_NODE:{w.push(Cv(P));break}}}),w.length&&(e.children=w);const b={};return Array.from(r).forEach(P=>{const{name:T,value:C}=P;b[T]=C}),Object.keys(b).length>0&&(e.attributes=b),e}function yS(t){const e=[];return Array.from(t.children).forEach(n=>{e.push(Cv(n))}),e}const me={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function kv(t,e){const n=new ht(t);switch(e){case void 0:throw new Error("Position required");case me.LEFT:case"leftMiddle":return n.leftMiddle();case me.RIGHT:case"rightMiddle":return n.rightMiddle();case me.TOP:case"topMiddle":return n.topMiddle();case me.BOTTOM:case"bottomMiddle":return n.bottomMiddle();case me.TOP_LEFT:case"topLeft":case"origin":return n.topLeft();case me.TOP_RIGHT:case"topRight":return n.topRight();case me.BOTTOM_LEFT:case"bottomLeft":return n.bottomLeft();case me.BOTTOM_RIGHT:case"bottomRight":case"corner":return n.bottomRight();case me.CENTER:return n.center();default:throw new Error(`Unknown position: ${e}`)}}function _v(t,e,n){var r=t.toJSON();return r.angle=e||0,dn({},n,r)}function Wo(t,e,n,r){return t.map(function(s,a,l){var c=this.pointAt((a+.5)/l.length);return(s.dx||s.dy)&&c.offset(s.dx||0,s.dy||0),_v(c.round(),0,Wf(r,s))},_i(e,n))}function Lv(t,e,n,r){var s=e.center(),a=e.width/e.height,l=e.topMiddle(),c=He.fromRect(e);return t.map(function(f,p,g){var h=n+r(p,g.length),x=l.clone().rotate(s,-h).scale(a,1,s),w=f.compensateRotation?-c.tangentTheta(x):0;return(f.dx||f.dy)&&x.offset(f.dx||0,f.dy||0),f.dr&&x.move(s,f.dr),_v(x.round(),w,Wf(e,f))})}function Wf(t,e){let{x:n,y:r,angle:s}=e;return nn(n)?n=parseFloat(n)/100*t.width:Ms(n)&&(n=Number(Ns(n,t))),nn(r)?r=parseFloat(r)/100*t.height:Ms(r)&&(r=Number(Ns(r,t))),{x:n,y:r,angle:s}}function af(t,e){const{x:n,y:r}=Wf(t,e);return new z(n||0,r||0)}const xS=function(t,e){return t.map(n=>{const r=af(e,n).round().toJSON();return r.angle=n.angle||0,r})},wS=function(t,e,n){return n.fn(t,e,n)},SS=function(t,e,n){var r=af(e,n.start||e.origin()),s=af(e,n.end||e.corner());return Wo(t,r,s,e)},bS=function(t,e,n){return Wo(t,e.origin(),e.bottomLeft(),e)},ES=function(t,e,n){return Wo(t,e.topRight(),e.corner(),e)},AS=function(t,e,n){return Wo(t,e.origin(),e.topRight(),e)},PS=function(t,e,n){return Wo(t,e.bottomLeft(),e.corner(),e)},TS=function(t,e,n){var r=n.startAngle||0,s=n.step||360/t.length;return Lv(t,e,r,function(a){return a*s})},CS=function(t,e,n){var r=n.startAngle||0,s=n.step||20;return Lv(t,e,r,function(a,l){return(a+.5-l/2)*s})},kS=Object.freeze(Object.defineProperty({__proto__:null,absolute:xS,bottom:PS,ellipse:CS,ellipseSpread:TS,fn:wS,left:bS,line:SS,right:ES,top:AS},Symbol.toStringTag,{value:"Module"}));function oi(t,e){return Uf({},t,e,{x:0,y:0,angle:0,attrs:{}})}function Mv(t){var e=t.center(),n=e.theta(t.origin()),r=e.theta(t.bottomLeft()),s=e.theta(t.corner()),a=e.theta(t.topRight());return[n,a,s,r]}function Nv(t,e,n,r){r=dn({},r,{offset:15});var s=e.center().theta(t),a,l,c,f,p=r.offset,g=0;const[h,x,w,b]=Mv(e);s<x||s>w?(c=".3em",a=p,l=0,f="start"):s<h?(a=0,l=-p,n?(g=-90,f="start",c=".3em"):(f="middle",c="0")):s<b?(c=".3em",a=-p,l=0,f="end"):(a=0,l=p,n?(g=90,f="start",c=".3em"):(f="middle",c=".6em"));var P=Math.round;return oi(r,{x:P(a),y:P(l),angle:g,attrs:{labelText:{y:c,textAnchor:f}}})}function Ov(t,e,n,r){r=dn({},r,{offset:15});var s=e.center().theta(t),a,l,c,f,p=r.offset,g=0;const[h,x,w,b]=Mv(e);s<x||s>w?(c=".3em",a=-p,l=0,f="end"):s<h?(a=0,l=p,n?(g=90,f="start",c=".3em"):(f="middle",c=".6em")):s<b?(c=".3em",a=p,l=0,f="start"):(a=0,l=-p,n?(g=-90,f="start",c=".3em"):(f="middle",c="0"));var P=Math.round;return oi(r,{x:P(a),y:P(l),angle:g,attrs:{labelText:{y:c,textAnchor:f}}})}function Fv(t,e,n){n=dn({},n,{offset:20});var r=bl(0,0),s=-t.theta(r),a=s,l=t.clone().move(r,n.offset).difference(t).round(),c=".3em",f;(s+90)%180===0?(f=e?"end":"middle",!e&&s===-270&&(c="0em")):s>-270&&s<-90?(f="start",a=s-180):f="end";var p=Math.round;return oi(n,{x:p(l.x),y:p(l.y),angle:e?a:0,attrs:{labelText:{y:c,textAnchor:f}}})}const _S=function(t,e,n){return oi(n)},LS=function(t,e,n){return oi(n,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},MS=function(t,e,n){return oi(n,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},NS=function(t,e,n){return oi(n,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},OS=function(t,e,n){return oi(n,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},FS=function(t,e,n){return Nv(t,e,!0,n)},IS=function(t,e,n){return Nv(t,e,!1,n)},RS=function(t,e,n){return Ov(t,e,!0,n)},DS=function(t,e,n){return Ov(t,e,!1,n)},BS=function(t,e,n){return Fv(t.difference(e.center()),!1,n)},zS=function(t,e,n){return Fv(t.difference(e.center()),!0,n)},VS=Object.freeze(Object.defineProperty({__proto__:null,bottom:OS,inside:DS,insideOriented:RS,left:LS,manual:_S,outside:IS,outsideOriented:FS,radial:BS,radialOriented:zS,right:MS,top:NS},Symbol.toStringTag,{value:"Module"}));var Iv=function(t){var e=fn(t)||{};this.ports=[],this.groups={},this.portLayoutNamespace=kS,this.portLabelLayoutNamespace=VS,this._init(e)};Iv.prototype={getPorts:function(){return this.ports},getGroup:function(t){return this.groups[t]||{}},getPortsByGroup:function(t){return this.ports.filter(function(e){return e.group===t})},getGroupPortsMetrics:function(t,e){var n=this.getGroup(t),r=this.getPortsByGroup(t),s=n.position||{},a=s.name,l=this.portLayoutNamespace;l[a]||(a="left");var c=s.args||{},f=r.map(function(h){return h&&h.position&&h.position.args}),p=l[a](f,e,c),g={ports:r,result:[]};return Yt(p).reduce((function(h,x,w){var b=h.ports[w];return h.result.push({portId:b.id,portTransformation:x,labelTransformation:this._getPortLabelLayout(b,z(x),e),portAttrs:b.attrs,portSize:b.size,labelSize:b.label.size}),h}).bind(this),g),g.result},_getPortLabelLayout:function(t,e,n){var r=this.portLabelLayoutNamespace,s=t.label.position.name||"left";return r[s]?r[s](e,n,t.label.position.args):null},_init:function(t){if(qt(t.groups))for(var e=Object.keys(t.groups),n=0,r=e.length;n<r;n++){var s=e[n];this.groups[s]=this._evaluateGroup(t.groups[s])}for(var a=Yt(t.items),l=0,c=a.length;l<c;l++)this.ports.push(this._evaluatePort(a[l]))},_evaluateGroup:function(t){return Ee(t,{position:this._getPosition(t.position,!0),label:this._getLabel(t,!0)})},_evaluatePort:function(t){var e=wt({},t),n=this.getGroup(t.group);return e.markup=e.markup||n.markup,e.attrs=Ee({},n.attrs,e.attrs),e.position=this._createPositionNode(n,e),e.label=Ee({},n.label,this._getLabel(e)),e.z=this._getZIndex(n,e),e.size=wt({},n.size,e.size),e},_getZIndex:function(t,e){return Ge(e.z)?e.z:Ge(t.z)||t.z==="auto"?t.z:"auto"},_createPositionNode:function(t,e){return Ee({name:"left",args:{}},t.position,{args:e.args})},_getPosition:function(t,e){var n={},r;Jt(t)?(r="fn",n.fn=t):xe(t)?r=t:t===void 0?r=e?"left":null:Array.isArray(t)?(r="absolute",n.x=t[0],n.y=t[1]):qt(t)&&(r=t.name,wt(n,t.args));var s={args:n};return r&&(s.name=r),s},_getLabel:function(t,e){var n=t.label||{},r=n;return r.position=this._getPosition(n.position,e),r}};const US={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var t=this.get("ports")||{},e={};Yt(t.items).forEach(function(c){e[c.id]=!0});var n=this.previous("ports")||{},r={};Yt(n.items).forEach(function(c){e[c.id]||(r[c.id]=!0)});var s=this.graph;if(s&&!pn(r)){var a=s.getConnectedLinks(this,{inbound:!0});a.forEach(function(c){r[c.get("target").port]&&c.remove()});var l=s.getConnectedLinks(this,{outbound:!0});l.forEach(function(c){r[c.get("source").port]&&c.remove()})}},hasPorts:function(){var t=this.prop("ports/items");return Array.isArray(t)&&t.length>0},hasPort:function(t){return this.getPortIndex(t)!==-1},getPorts:function(){return fn(this.prop("ports/items"))||[]},getGroupPorts:function(t){const e=Yt(this.prop(["ports","items"])).filter(n=>n.group===t);return fn(e)},getPort:function(t){return fn(Yt(this.prop("ports/items")).find(function(e){return e.id&&e.id===t}))},getPortGroupNames:function(){return Object.keys(this._portSettingsData.groups)},getPortsPositions:function(t){var e=this._portSettingsData.getGroupPortsMetrics(t,ht(this.size()));return e.reduce(function(n,r){var s=r.portTransformation;return n[r.portId]={x:s.x,y:s.y,angle:s.angle},n},{})},getPortIndex:function(t){var e=qt(t)?t.id:t;return this._isValidPortId(e)?Yt(this.prop("ports/items")).findIndex(function(n){return n.id===e}):-1},addPort:function(t,e){if(!qt(t)||Array.isArray(t))throw new Error("Element: addPort requires an object.");var n=wt([],this.prop("ports/items"));return n.push(t),this.prop("ports/items",n,e),this},insertPort:function(t,e,n){const r=typeof t=="number"?t:this.getPortIndex(t);if(!qt(e)||Array.isArray(e))throw new Error("dia.Element: insertPort requires an object.");const s=wt([],this.prop("ports/items"));return s.splice(r,0,e),this.prop("ports/items",s,n),this},portProp:function(t,e,n,r){var s=this.getPortIndex(t);if(s===-1)throw new Error("Element: unable to find port with id "+t);var a=Array.prototype.slice.call(arguments,1);return Array.isArray(e)?a[0]=["ports","items",s].concat(e):xe(e)?a[0]=["ports/items/",s,"/",e].join(""):(a=["ports/items/"+s],ye(e)&&(a.push(e),a.push(n))),this.prop.apply(this,a)},_validatePorts:function(){var t=this.get("ports")||{},e=[];t=t||{};var n=Yt(t.items);return n.forEach(function(r){typeof r!="object"&&e.push("Element: invalid port ",r),this._isValidPortId(r.id)||(r.id=this.generatePortId())},this),Ni(n,"id").length!==n.length&&e.push("Element: found id duplicities in ports."),e},generatePortId:function(){return this.generateId()},_isValidPortId:function(t){return t!=null&&!qt(t)},addPorts:function(t,e){return t.length&&this.prop("ports/items",wt([],this.prop("ports/items")).concat(t),e),this},removePort:function(t,e){const n=e||{},r=this.getPortIndex(t);if(r!==-1){const s=wt([],this.prop(["ports","items"]));s.splice(r,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],s,n),this.stopBatch("port-remove")}return this},removePorts:function(t,e){let n,r;if(Array.isArray(t)){if(n=e||{},t.length===0)return this.this;r=wt([],this.prop(["ports","items"])).filter(function(a){return!t.some(function(l){const c=qt(l)?l.id:l;return a.id===c})})}else n=t||{},r=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],r,n),this.stopBatch("port-remove"),this},_createPortData:function(){var t=this._validatePorts();if(t.length>0)throw this.set("ports",this.previous("ports")),new Error(t.join(" "));var e;this._portSettingsData&&(e=this._portSettingsData.getPorts()),this._portSettingsData=new Iv(this.get("ports"));var n=this._portSettingsData.getPorts();if(e){var r=n.filter(function(a){if(!e.find(function(l){return l.id===a.id}))return a}),s=e.filter(function(a){if(!n.find(function(l){return l.id===a.id}))return a});s.length>0&&this.trigger("ports:remove",this,s),r.length>0&&this.trigger("ports:add",this,r)}}},GS={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var t=[],e=this._getContainerElement(),n=0,r=e.node.childNodes.length;n<r;n++)t.push(e.node.childNodes[n]);var s=Jx(this.model._portSettingsData.getPorts(),"z"),a="auto";Yt(s[a]).forEach(function(g){var h=this._getPortElement(g);e.append(h),t.push(h)},this);for(var l=Object.keys(s),c=0;c<l.length;c++){var f=l[c];if(f!==a){var p=parseInt(f,10);this._appendPorts(s[f],p,t)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(t,e,n){var r=this._getContainerElement(),s=Yt(t).map(this._getPortElement,this);n[e]||e<0?rt(n[Math.max(e,0)]).before(s):r.append(s)},_getPortElement:function(t){return this._portElementsCache[t.id]?this._portElementsCache[t.id].portElement:this._createPortElement(t)},findPortNodes:function(t,e){const n=this._portElementsCache[t];if(!n)return[];if(!e)return[n.portContentElement.node];const r=n.portElement.node,s=n.portSelectors;return this.findBySelector(e,r,s)},findPortNode:function(t,e){const[n=null]=this.findPortNodes(t,e);return n},_updatePorts:function(){this._updatePortGroup(void 0);var t=Object.keys(this.model._portSettingsData.groups);t.forEach(this._updatePortGroup,this)},_removePorts:function(){rr(this._portElementsCache,"portElement.remove")},_createPortElement:function(t){let e,n,r,s;var a=rt(this.portContainerMarkup).addClass("joint-port"),l=this._getPortMarkup(t);if(Array.isArray(l)){var c=this.parseDOMJSON(l,a.node),f=c.fragment;f.childNodes.length>1?e=rt("g").append(f):e=rt(f.firstChild),s=c.selectors}else e=rt(l),Array.isArray(e)&&(e=rt("g").append(e));if(!e)throw new Error("ElementView: Invalid port markup.");e.attr({port:t.id,"port-group":t.group}),Ge(t.id)&&e.attr("port-id-type","number");const p=this._getPortLabelMarkup(t.label);if(Array.isArray(p)){const{fragment:P,selectors:T}=this.parseDOMJSON(p,a.node),C=P.childNodes.length;C>0&&(r=T,n=C===1?rt(P.firstChild):rt("g").append(P))}else n=rt(p),Array.isArray(n)&&(n=rt("g").append(n));var g;if(s&&r){for(var h in r)if(s[h]&&h!==this.selector)throw new Error("ElementView: selectors within port must be unique.");g=wt({},s,r)}else g=s||r||{};const x="portRoot",w="labelRoot",b="labelText";if(x in g||(g[x]=e.node),n){const P=n.node;if(w in g||(g[w]=P),!(b in g)){const T=n.tagName()==="TEXT"?P:Array.from(P.querySelectorAll("text"));g[b]=T,r||(r={}),r[b]=T}}return a.append(e.addClass("joint-port-body")),n&&a.append(n.addClass("joint-port-label")),this._portElementsCache[t.id]={portElement:a,portLabelElement:n,portSelectors:g,portLabelSelectors:r,portContentElement:e,portContentSelectors:s},a},_updatePortGroup:function(t){for(var e=ht(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(t,e),r=0,s=n.length;r<s;r++){var a=n[r],l=a.portId,c=this._portElementsCache[l]||{},f=a.portTransformation,p=a.labelTransformation;p&&c.portLabelElement&&(this.updateDOMSubtreeAttributes(c.portLabelElement.node,p.attrs,{rootBBox:new ht(a.labelSize),selectors:c.portLabelSelectors}),this.applyPortTransform(c.portLabelElement,p,-f.angle||0)),this.updateDOMSubtreeAttributes(c.portElement.node,a.portAttrs,{rootBBox:new ht(a.portSize),selectors:c.portSelectors}),this.applyPortTransform(c.portElement,f)}},applyPortTransform:function(t,e,n){var r=rt.createSVGMatrix().rotate(n||0).translate(e.x||0,e.y||0).rotate(e.angle||0);t.transform(r,{absolute:!0})},_getPortMarkup:function(t){return t.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(t){return t.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},Ne=or.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),or.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(t,e,n){const r=Ge(e);n=(r?n:t)||{};const{parentRelative:s,deep:a,restrictedArea:l}=n;let c;if(s){if(!this.graph)throw new Error("Element must be part of a graph.");const f=this.getParentCell();f&&!f.isLink()&&(c=f.get("position"))}if(r){if(c&&(t+=c.x,e+=c.y),a||l){const{x:f,y:p}=this.get("position");this.translate(t-f,e-p,n)}else this.set("position",{x:t,y:e},n);return this}else{const f=z(this.get("position"));return s?f.difference(c):f}},translate:function(t,e,n){if(t=t||0,e=e||0,t===0&&e===0)return this;n=n||{},n.translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0},s=n.restrictedArea;if(s&&n.translateBy===this.id)if(typeof s=="function"){var a=s.call(this,r.x+t,r.y+e,n);t=a.x-r.x,e=a.y-r.y}else{var l=this.getBBox({deep:!0}),c=r.x-l.x,f=r.y-l.y,p=Math.max(s.x+c,Math.min(s.x+s.width+c-l.width,r.x+t)),g=Math.max(s.y+f,Math.min(s.y+s.height+f-l.height,r.y+e));t=p-r.x,e=g-r.y}var h={x:r.x+t,y:r.y+e};return n.tx=t,n.ty=e,n.transition?(qt(n.transition)||(n.transition={}),this.transition("position",h,wt({},n.transition,{valueFunction:vv.object})),rr(this.getEmbeddedCells(),"translate",t,e,n)):(this.startBatch("translate",n),this.set("position",h,n),rr(this.getEmbeddedCells(),"translate",t,e,n),this.stopBatch("translate",n)),this},size:function(t,e,n){var r=this.get("size");return t===void 0?{width:r.width,height:r.height}:(qt(t)&&(n=e,e=Ge(t.height)?t.height:r.height,t=Ge(t.width)?t.width:r.width),this.resize(t,e,n))},resize:function(t,e,n){if(n=n||{},this.startBatch("resize",n),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":e=r.height;break;case"top":case"bottom":t=r.width;break}var s=kn(this.get("angle")||0),a=this.getBBox(),l;if(s){var c={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(c+=Math.floor((s+45)/90),c%=4);var f=a[["bottomLeft","corner","topRight","origin"][c]](),p=z(f).rotate(a.center(),-s),g=Math.sqrt(t*t+e*e)/2,h=c*Math.PI/2;h+=Math.atan(c%2==0?e/t:t/e),h-=tn(s);var x=z.fromPolar(g,h,p);l=z(x).offset(t/-2,e/-2)}else switch(l=a.topLeft(),n.direction){case"top":case"top-right":l.offset(0,a.height-e);break;case"left":case"bottom-left":l.offset(a.width-t,0);break;case"top-left":l.offset(a.width-t,a.height-e);break}this.set("size",{width:t,height:e},n),this.position(l.x,l.y,n)}else this.set("size",{width:t,height:e},n);return this.stopBatch("resize",n),this},scale:function(t,e,n,r){var s=this.getBBox().scale(t,e,n);return this.startBatch("scale",r),this.position(s.x,s.y,r),this.resize(s.width,s.height,r),this.stopBatch("scale"),this},fitEmbeds:function(t){return this.fitToChildren(t)},fitToChildren:function(t={}){const{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");const n=this.getEmbeddedCells().filter(r=>r.isElement());return n.length===0?this:(this.startBatch("fit-embeds",t),t.deep&&rr(n,"fitToChildren",t),this._fitToElements(Object.assign({elements:n},t)),this.stopBatch("fit-embeds"),this)},fitParent:function(t={}){const{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");if(t.deep&&t.terminator&&(t.terminator===this||t.terminator===this.id))return this;const n=this.getParentCell();if(!n||!n.isElement())return this;const r=n.getEmbeddedCells().filter(s=>s.isElement());return r.length===0?this:(this.startBatch("fit-parent",t),n._fitToElements(Object.assign({elements:r},t)),t.deep&&n.fitParent(t),this.stopBatch("fit-parent"),this)},_fitToElements:function(t={}){const e=this.graph.getCellsBBox(t.elements);if(!e)return;const{expandOnly:n,shrinkOnly:r}=t;if(n&&r)return;let{x:s,y:a,width:l,height:c}=e;const{left:f,right:p,top:g,bottom:h}=Fi(t.padding);s-=f,a-=g,l+=f+p,c+=h+g;let x=new ht(s,a,l,c);if(n)x=this.getBBox().union(x);else if(r){const w=this.getBBox().intersect(x);if(!w)return;x=w}this.set({position:{x:x.x,y:x.y},size:{width:x.width,height:x.height}},t)},rotate:function(t,e,n,r){if(n){var s=this.getBBox().center(),a=this.get("size"),l=this.get("position");s.rotate(n,this.get("angle")-t);var c=s.x-a.width/2-l.x,f=s.y-a.height/2-l.y;this.startBatch("rotate",{angle:t,absolute:e,origin:n}),this.position(l.x+c,l.y+f,r),this.rotate(t,e,null,r),this.stopBatch("rotate")}else this.set("angle",e?t:(this.get("angle")+t)%360,r);return this},angle:function(){return kn(this.get("angle")||0)},getBBox:function(t={}){const{graph:e,attributes:n}=this,{deep:r,rotate:s}=t;if(r&&e){const h=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return h.push(this),e.getCellsBBox(h,t)}const{angle:a=0,position:{x:l,y:c},size:{width:f,height:p}}=n,g=new ht(l,c,f,p);return s&&g.rotateAroundCenter(a),g},getPointFromConnectedLink:function(t,e){var n=this.getBBox(),r=n.center(),s=t.get(e);if(!s)return r;var a=s.port;if(!a||!this.hasPort(a))return r;var l=this.portProp(a,["group"]),c=this.getPortsPositions(l),f=new z(c[a]).offset(n.origin()),p=this.angle();return p&&f.rotate(r,-p),f}});wt(Ne.prototype,US);const Wl=or.extend({defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,x:"calc(x)",y:"calc(y)",width:"calc(w)",height:"calc(h)"}},position:{distance:.5}}},defaults:{source:{},target:{}},isLink:function(){return!0},disconnect:function(t){return this.set({source:{x:0,y:0},target:{x:0,y:0}},t)},source:function(t,e,n){if(t===void 0)return De(this.get("source"));var r,s,a=t instanceof or;if(a)return r=De(e)||{},r.id=t.id,s=n,this.set("source",r,s);var l=!ye(t);return l?(r=De(e)||{},r.x=t.x,r.y=t.y,s=n,this.set("source",r,s)):(r=t,s=e,this.set("source",r,s))},target:function(t,e,n){if(t===void 0)return De(this.get("target"));var r,s,a=t instanceof or;if(a)return r=De(e)||{},r.id=t.id,s=n,this.set("target",r,s);var l=!ye(t);return l?(r=De(e)||{},r.x=t.x,r.y=t.y,s=n,this.set("target",r,s)):(r=t,s=e,this.set("target",r,s))},router:function(t,e,n){if(t===void 0){var r=this.get("router");return r?typeof r=="object"?De(r):r:null}var s=typeof t=="object"||typeof t=="function",a=s?t:{name:t,args:e},l=s?e:n;return this.set("router",a,l)},connector:function(t,e,n){if(t===void 0){var r=this.get("connector");return r?typeof r=="object"?De(r):r:null}var s=typeof t=="object"||typeof t=="function",a=s?t:{name:t,args:e},l=s?e:n;return this.set("connector",a,l)},label:function(t,e,n){var r=this.labels();return t=isFinite(t)&&t!==null?t|0:0,t<0&&(t=r.length+t),arguments.length<=1?this.prop(["labels",t]):this.prop(["labels",t],e,n)},labels:function(t,e){return arguments.length===0?(t=this.get("labels"),Array.isArray(t)?t.slice():[]):(Array.isArray(t)||(t=[]),this.set("labels",t,e))},hasLabels:function(){const{labels:t}=this.attributes;return Array.isArray(t)&&t.length>0},insertLabel:function(t,e,n){if(!e)throw new Error("dia.Link: no label provided");var r=this.labels(),s=r.length;return t=isFinite(t)&&t!==null?t|0:s,t<0&&(t=s+t+1),r.splice(t,0,e),this.labels(r,n)},appendLabel:function(t,e){return this.insertLabel(-1,t,e)},removeLabel:function(t,e){var n=this.labels();return t=isFinite(t)&&t!==null?t|0:-1,n.splice(t,1),this.labels(n,e)},vertex:function(t,e,n){var r=this.vertices();if(t=isFinite(t)&&t!==null?t|0:0,t<0&&(t=r.length+t),arguments.length<=1)return this.prop(["vertices",t]);var s=this._normalizeVertex(e);return this.prop(["vertices",t],s,n)},vertices:function(t,e){if(arguments.length===0)return t=this.get("vertices"),Array.isArray(t)?t.slice():[];Array.isArray(t)||(t=[]);for(var n=[],r=0;r<t.length;r++){var s=t[r],a=this._normalizeVertex(s);n.push(a)}return this.set("vertices",n,e)},insertVertex:function(t,e,n){if(!e)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),s=r.length;t=isFinite(t)&&t!==null?t|0:s,t<0&&(t=s+t+1);var a=this._normalizeVertex(e);return r.splice(t,0,a),this.vertices(r,n)},removeVertex:function(t,e){var n=this.vertices();return t=isFinite(t)&&t!==null?t|0:-1,n.splice(t,1),this.vertices(n,e)},_normalizeVertex:function(t){var e=!ye(t);return e?{x:t.x,y:t.y}:t},translate:function(t,e,n){return n=n||{},n.translateBy=n.translateBy||this.id,n.tx=t,n.ty=e,this.applyToPoints(function(r){return{x:(r.x||0)+t,y:(r.y||0)+e}},n)},scale:function(t,e,n,r){return this.applyToPoints(function(s){return z(s).scale(t,e,n).toJSON()},r)},applyToPoints:function(t,e){if(!Jt(t))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:r,target:s}=this.attributes;r.id||(n.source=t(r)),s.id||(n.target=t(s));var a=this.vertices();return a.length>0&&(n.vertices=a.map(t)),this.set(n,e)},getSourcePoint:function(){var t=this.getSourceCell();return t?t.getPointFromConnectedLink(this,"source"):new z(this.source())},getTargetPoint:function(){var t=this.getTargetCell();return t?t.getPointFromConnectedLink(this,"target"):new z(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const t=[this.getSourcePoint(),...this.vertices().map(z),this.getTargetPoint()];return new se(t)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(t){var e;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),s=this.getParentCell();n&&r&&(n===r||n.isEmbeddedIn(r)?e=r:r.isEmbeddedIn(n)?e=n:e=this.graph.getCommonAncestor(n,r)),s&&(!e||e.id!==s.id)&&s.unembed(this,t),e&&e.embed(this,t)}return e},hasLoop:function(t){t=t||{};var{source:e,target:n}=this.attributes,r=e.id,s=n.id;if(!r||!s)return!1;var a=r===s;if(!a&&t.deep&&this.graph){var l=this.getSourceCell(),c=this.getTargetCell();a=l.isEmbeddedIn(c)||c.isEmbeddedIn(l)}return a},getSourceCell:function(){const{graph:t,attributes:e}=this;var n=e.source;return n&&n.id&&t&&t.getCell(n.id)||null},getSourceElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getSourceCell()}while(t&&t.isLink());return t},getTargetCell:function(){const{graph:t,attributes:e}=this;var n=e.target;return n&&n.id&&t&&t.getCell(n.id)||null},getTargetElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getTargetCell()}while(t&&t.isLink());return t},getRelationshipAncestor:function(){var t;if(this.graph){var e=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});t=this.graph.getCommonAncestor.apply(this.graph,e)}return t||null},isRelationshipEmbeddedIn:function(t){var e=xe(t)||Ge(t)?t:t.id,n=this.getRelationshipAncestor();return!!n&&(n.id===e||n.isEmbeddedIn(e))},_getDefaultLabel:function(){var t=this.get("defaultLabel")||this.defaultLabel||{},e={};return e.markup=t.markup||this.get("labelMarkup")||this.labelMarkup,e.position=t.position,e.attrs=t.attrs,e.size=t.size,e}},{endsEqual:function(t,e){var n=t.port===e.port||!t.port&&!e.port;return t.id===e.id&&n}}),Rv={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))},isSafari:function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)}},addTest:function(t,e){return this._tests[t]=e},test:function(t){var e=this._tests[t];if(!e)throw new Error('Test not defined ("'+t+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[t];if(typeof n<"u")return n;try{n=e()}catch{n=!1}return this._results[t]=n,n}},$S=Ne.define("standard.Rectangle",{attrs:{root:{cursor:"move"},body:{width:"calc(w)",height:"calc(h)",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),HS=Ne.define("standard.Circle",{attrs:{root:{cursor:"move"},body:{cx:"calc(s/2)",cy:"calc(s/2)",r:"calc(s/2)",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),WS=Ne.define("standard.Ellipse",{attrs:{root:{cursor:"move"},body:{cx:"calc(w/2)",cy:"calc(h/2)",rx:"calc(w/2)",ry:"calc(h/2)",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),jS=Ne.define("standard.Path",{attrs:{root:{cursor:"move"},body:{d:"M 0 0 H calc(w) V calc(h) H 0 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),qS=Ne.define("standard.Polygon",{attrs:{root:{cursor:"move"},body:{points:"0 0 calc(w) 0 calc(w) calc(h) 0 calc(h)",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),YS=Ne.define("standard.Polyline",{attrs:{root:{cursor:"move"},body:{points:"0 0 calc(w) 0 calc(w) calc(h) 0 calc(h)",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),XS=Ne.define("standard.Image",{attrs:{root:{cursor:"move"},image:{width:"calc(w)",height:"calc(h)"},label:{textVerticalAnchor:"top",textAnchor:"middle",x:"calc(w/2)",y:"calc(h+10)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),ZS=Ne.define("standard.BorderedImage",{attrs:{root:{cursor:"move"},border:{width:"calc(w)",height:"calc(h)",stroke:"#333333",strokeWidth:2},background:{width:"calc(w-1)",height:"calc(h-1)",x:.5,y:.5,fill:"#FFFFFF"},image:{width:"calc(w-1)",height:"calc(h-1)",x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",x:"calc(w/2)",y:"calc(h+10)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),QS=Ne.define("standard.EmbeddedImage",{attrs:{root:{cursor:"move"},body:{width:"calc(w)",height:"calc(h)",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{width:"calc(0.3*w)",height:"calc(h-20)",x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",x:"calc(0.3*w+20)",y:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),KS=Ne.define("standard.InscribedImage",{attrs:{root:{cursor:"move"},border:{rx:"calc(w/2)",ry:"calc(h/2)",cx:"calc(w/2)",cy:"calc(h/2)",stroke:"#333333",strokeWidth:2},background:{rx:"calc(w/2)",ry:"calc(h/2)",cx:"calc(w/2)",cy:"calc(h/2)",fill:"#FFFFFF"},image:{width:"calc(0.68*w)",height:"calc(0.68*h)",x:"calc(0.16*w)",y:"calc(0.16*h)",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",x:"calc(w/2)",y:"calc(h+10)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),JS=Ne.define("standard.HeaderedRectangle",{attrs:{root:{cursor:"move"},body:{width:"calc(w)",height:"calc(h)",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{width:"calc(w)",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2+15)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var zc=10;const t2=Ne.define("standard.Cylinder",{attrs:{root:{cursor:"move"},body:{lateralArea:zc,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{cx:"calc(w/2)",cy:zc,rx:"calc(w/2)",ry:zc,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h+15)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(t,e){if(t===void 0)return this.attr("body/lateralArea");var n={lateralArea:t},r=nn(t),s=r?`calc(${parseFloat(t)/100}*h)`:t,a={cy:s,ry:s};return this.attr({body:n,top:a},e)}},{attributes:{"lateral-area":{set:function(t,e){var n=nn(t);n&&(t=parseFloat(t)/100);var r=e.x,s=e.y,a=e.width,l=e.height,c=a/2,f=n?l*t:t,p=rt.KAPPA,g=p*c,h=p*(n?l*t:t),x=r,w=r+a/2,b=r+a,P=s+f,T=P-f,C=s+l-f,L=s+l,M=["M",x,P,"L",x,C,"C",r,C+h,w-g,L,w,L,"C",w+g,L,b,C+h,b,C,"L",b,P,"C",b,P-h,w+g,T,w,T,"C",w-g,T,x,P-h,x,P,"Z"];return{d:M.join(" ")}},unset:"d"}}});var e2={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},n2={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},r2=Rv.test("svgforeignobject")?e2:n2;const i2=Ne.define("standard.TextBlock",{attrs:{root:{cursor:"move"},body:{width:"calc(w)",height:"calc(h)",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{width:"calc(w)",height:"calc(h)"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},r2]},{attributes:{text:{set:function(t,e,n,r){if(n instanceof HTMLElement)n.textContent=t;else{var s=r.style||{},a={text:t,width:-5,height:"100%"},l=wt({"text-vertical-anchor":"middle"},s);return Tv["text-wrap"].set.call(this,a,e,n,l),{fill:s.color||null}}},unset:function(t){if(t.textContent="",t instanceof SVGElement)return"fill"},position:function(t,e,n){if(n instanceof SVGElement)return e.center()}}}}),Dv=Wl.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),s2=Wl.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),o2=Wl.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,transform:"translate(3,6)",stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]}),a2=Object.freeze(Object.defineProperty({__proto__:null,BorderedImage:ZS,Circle:HS,Cylinder:t2,DoubleLink:s2,Ellipse:WS,EmbeddedImage:QS,HeaderedRectangle:JS,Image:XS,InscribedImage:KS,Link:Dv,Path:jS,Polygon:qS,Polyline:YS,Rectangle:$S,ShadowLink:o2,TextBlock:i2},Symbol.toStringTag,{value:"Module"})),l2=Object.freeze(Object.defineProperty({__proto__:null,standard:a2},Symbol.toStringTag,{value:"Module"})),xs={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},u2=Object.values(xs),c2=10,f2=1,jf=function(t,e,n=[],r={}){const{cornerType:s=xs.POINT,cornerRadius:a=c2,cornerPreserveAspectRatio:l=!1,precision:c=f2,raw:f=!1}=r;if(u2.indexOf(s)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let p;if(s===xs.POINT||!a){const g=[t].concat(n).concat([e]),h=new se(g);p=new Ct(h)}else{p=new Ct,p.appendSegment(Ct.createSegment("M",t));let g;const h=n.length;for(let x=0;x<h;x++){const w=new z(n[x]),b=n[x-1]||t,P=n[x+1]||e,T=g||w.distance(b)/2;g=w.distance(P)/2;let C,L;l?C=L=-Math.min(a,T,g):(C=-Math.min(a,T),L=-Math.min(a,g));const M=w.clone().move(b,C).round(c),R=w.clone().move(P,L).round(c);switch(p.appendSegment(Ct.createSegment("L",M)),s){case xs.CUBIC:{const G=.3333333333333333,X=2/3,v=new z(G*M.x+X*w.x,X*w.y+G*M.y),S=new z(G*R.x+X*w.x,X*w.y+G*R.y);p.appendSegment(Ct.createSegment("C",v,S,R));break}case xs.LINE:{p.appendSegment(Ct.createSegment("L",R));break}case xs.GAP:{p.appendSegment(Ct.createSegment("M",R));break}}}p.appendSegment(Ct.createSegment("L",e))}return f?p:p.serialize()};var d2=5,cg=["arc","gap","cubic"],h2=0,fg=1,p2=["smooth"],cl=1/3,fl=2/3;function dg(t,e){let{x:n,y:r}=t,{x:s,y:a}=e;if(n>s){let l=n;n=s,s=l,l=r,r=a,a=l}if(r>a){let l=n;n=s,s=l,l=r,r=a,a=l}return[new z(n,r),new z(s,a)]}function g2(t,e){const[{x:n,y:r},{x:s,y:a}]=dg(t.start,t.end),[{x:l,y:c},{x:f,y:p}]=dg(e.start,e.end),g=n<=f&&l<=s,h=r<=p&&c<=a;return g&&h}function Vc(t,e,n){var r=[].concat(t,n,e);return r.reduce(function(s,a,l){var c=r[l+1];return c!=null&&(s[l]=_i(a,c)),s},[])}function m2(t){var e=t.paper,n=e._jumpOverUpdateList;if(n==null){n=e._jumpOverUpdateList=[];var r=e.model;r.on("batch:stop",function(){this.hasActiveBatch()||v2(e)}),r.on("reset",function(){n=e._jumpOverUpdateList=[]})}n.indexOf(t)<0&&(n.push(t),t.listenToOnce(t.model,"change:connector remove",function(){n.splice(n.indexOf(t),1)}))}function v2(t){for(var e=t._jumpOverUpdateList,n=0;n<e.length;n++){const r=e[n],s=r.getFlag(r.constructor.Flags.CONNECTOR);r.requestUpdate(s)}}function y2(t,e){return Yt(e).reduce(function(n,r){var s=t.intersection(r);return s&&n.push(s),n},[])}function hg(t,e){return _i(t,e).squaredLength()}function x2(t,e,n){return e.reduce(function(r,s,a){if(s.skip===!0)return r;var l=r.pop()||t,c=bl(s).move(l.start,-n),f=bl(s).move(l.start,+n),p=e[a+1];if(p!=null){var g=f.distance(p);g<=n&&(f=p.move(l.start,g),p.skip=!0)}else{var h=c.distance(l.end);if(h<n*2+fg)return r.push(l),r}var x=f.distance(l.start);if(x<n*2+fg)return r.push(l),r;var w=_i(c,f);return w.isJump=!0,r.push(_i(l.start,c),w,_i(f,l.end)),r},[])}function pg(t,e,n,r){var s=new Ct,a;return a=Ct.createSegment("M",t[0].start),s.appendSegment(a),Yt(t).forEach(function(l,c){if(l.isJump){var f,p,g,h;if(n==="arc"){f=-90,p=l.start.difference(l.end);var x=+(p.x<0||p.x===0&&p.y<0);x&&(f+=180);var w=l.midpoint(),b=new yt(w,l.end).rotate(w,f),P;P=new yt(l.start,w),g=P.pointAt(2/3).rotate(l.start,f),h=b.pointAt(1/3).rotate(b.end,-f),a=Ct.createSegment("C",g,h,b.end),s.appendSegment(a),P=new yt(w,l.end),g=b.pointAt(1/3).rotate(b.end,f),h=P.pointAt(1/3).rotate(l.end,-f),a=Ct.createSegment("C",g,h,l.end),s.appendSegment(a)}else if(n==="gap")a=Ct.createSegment("M",l.end),s.appendSegment(a);else if(n==="cubic"){f=l.start.theta(l.end);var T=e*.6,C=e*1.35;p=l.start.difference(l.end),x=+(p.x<0||p.x===0&&p.y<0),x&&(C*=-1),g=z(l.start.x+T,l.start.y+C).rotate(l.start,f),h=z(l.end.x-T,l.end.y+C).rotate(l.end,f),a=Ct.createSegment("C",g,h,l.end),s.appendSegment(a)}}else{var L=t[c+1];r==0||!L||L.isJump?(a=Ct.createSegment("L",l.end),s.appendSegment(a)):w2(r,s,l.end,l.start,L.end)}}),s}function w2(t,e,n,r,s){var a=n.distance(r)/2,l=n.distance(s)/2,c=-Math.min(t,a),f=-Math.min(t,l),p=n.clone().move(r,c).round(),g=n.clone().move(s,f).round(),h=new z(cl*p.x+fl*n.x,fl*n.y+cl*p.y),x=new z(cl*g.x+fl*n.x,fl*n.y+cl*g.y),w;w=Ct.createSegment("L",p),e.appendSegment(w),w=Ct.createSegment("C",h,x,g),e.appendSegment(w)}const S2=function(t,e,n,r){m2(this);var s=r.raw,a=r.size||d2,l=r.jump&&(""+r.jump).toLowerCase(),c=r.radius||h2,f=r.ignoreConnectors||p2;cg.indexOf(l)===-1&&(l=cg[0]);var p=this.paper,g=p.model,h=g.getLinks();if(h.length===1)return pg(Vc(t,e,n),a,l,c);var x=this.model,w=h.indexOf(x),b=p.options.defaultConnector||{},P=h.filter(function(G,X){var v=G.get("connector")||b;return Yt(f).includes(v.name)?!1:X>w?v.name!=="jumpover":!0}),T=P.map(function(G){return p.findViewByModel(G)}),C=Vc(t,e,n),L=T.map(function(G){return G==null?[]:G===this?C:Vc(G.sourcePoint,G.targetPoint,G.route)},this),M=C.reduce(function(G,X){var v=P.reduce(function(S,E,k){if(E!==x){const O=L[k].slice(),U=O.findIndex(Q=>g2(X,Q));U>-1&&X.containsPoint(O[U].end)&&O.splice(U+1,1);const W=y2(X,O);S.push.apply(S,W)}return S},[]).sort(function(S,E){return hg(X.start,S)-hg(X.start,E)});return v.length>0?G.push.apply(G,x2(X,v,a)):G.push(X),G},[]),R=pg(M,a,l,c);return s?R:R.serialize()},b2=function(t,e,n=[],r={}){const{raw:s}=r;return jf(t,e,n,{cornerType:"point",raw:s})},E2=10,A2=0,P2=function(t,e,n=[],r={}){const{radius:s=E2,raw:a}=r;return jf(t,e,n,{cornerType:"cubic",cornerRadius:s,precision:A2,raw:a})},T2=function(t,e,n,r){var s=r&&r.raw,a;if(n&&n.length!==0){var l=[t].concat(n).concat([e]),c=Kt.throughPoints(l);a=new Ct(c)}else{a=new Ct;var f;if(f=Ct.createSegment("M",t),a.appendSegment(f),Math.abs(t.x-e.x)>=Math.abs(t.y-e.y)){var p=(t.x+e.x)/2;f=Ct.createSegment("C",p,t.y,p,e.y,e.x,e.y),a.appendSegment(f)}else{var g=(t.y+e.y)/2;f=Ct.createSegment("C",t.x,g,e.x,g,e.x,e.y),a.appendSegment(f)}}return s?a:a.serialize()},Tn={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},$e={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},qf=function(t,e,n=[],r={},s){const a=!!r.raw,{direction:l=Tn.AUTO,precision:c=3}=r,f={coeff:r.distanceCoefficient||.6,angleTangentCoefficient:r.angleTangentCoefficient||80,tau:r.tension||.5,sourceTangent:r.sourceTangent?new z(r.sourceTangent):null,targetTangent:r.targetTangent?new z(r.targetTangent):null,rotate:!!r.rotate};typeof r.sourceDirection=="string"?f.sourceDirection=r.sourceDirection:typeof r.sourceDirection=="number"?f.sourceDirection=new z(1,0).rotate(null,r.sourceDirection):f.sourceDirection=r.sourceDirection?new z(r.sourceDirection).normalize():null,typeof r.targetDirection=="string"?f.targetDirection=r.targetDirection:typeof r.targetDirection=="number"?f.targetDirection=new z(1,0).rotate(null,r.targetDirection):f.targetDirection=r.targetDirection?new z(r.targetDirection).normalize():null;const p=[t,...n,e].map(P=>new z(P));let g;if(f.sourceTangent)g=f.sourceTangent;else{const P=M2(s,p,l,f),T=p[0].distance(p[1])*f.coeff,C=p[1].difference(p[0]).normalize(),L=lf(P,C);if(L>Math.PI/4){const M=T+(L-Math.PI/4)*f.angleTangentCoefficient;g=P.clone().scale(M,M)}else g=P.clone().scale(T,T)}let h;if(f.targetTangent)h=f.targetTangent;else{const P=N2(s,p,l,f),T=p.length-1,C=p[T-1].distance(p[T])*f.coeff,L=p[T-1].difference(p[T]).normalize(),M=lf(P,L);if(M>Math.PI/4){const R=C+(M-Math.PI/4)*f.angleTangentCoefficient;h=P.clone().scale(R,R)}else h=P.clone().scale(C,C)}const w=F2(p,g,h,f).map(P=>I2(P,f)),b=new Ct(w).round(c);return a?b:b.serialize()};qf.Directions=Tn;qf.TangentDirections=$e;function C2(t,e,n){const{sourceBBox:r}=t;let s,a;if(!t.sourceView)r.x>e[1].x?s="right":s="left";else if(a=t.sourceView.model.angle(),n.rotate&&a){const c=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),f=e[0].clone();f.rotate(r.center(),a),s=c.sideNearestToPoint(f)}else s=r.sideNearestToPoint(e[0]);let l;switch(s){case"left":l=new z(-1,0);break;case"right":default:l=new z(1,0);break}return n.rotate&&a&&l.rotate(null,-a),l}function k2(t,e,n){const{targetBBox:r}=t;let s,a;if(!t.targetView)r.x>e[e.length-2].x?s="left":s="right";else if(a=t.targetView.model.angle(),n.rotate&&a){const c=t.targetView.getNodeUnrotatedBBox(t.targetView.el),f=e[e.length-1].clone();f.rotate(r.center(),a),s=c.sideNearestToPoint(f)}else s=r.sideNearestToPoint(e[e.length-1]);let l;switch(s){case"left":l=new z(-1,0);break;case"right":default:l=new z(1,0);break}return n.rotate&&a&&l.rotate(null,-a),l}function _2(t,e,n){const{sourceBBox:r}=t;let s,a;if(!t.sourceView)r.y>e[1].y?s="bottom":s="top";else if(a=t.sourceView.model.angle(),n.rotate&&a){const c=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),f=e[0].clone();f.rotate(r.center(),a),s=c.sideNearestToPoint(f)}else s=r.sideNearestToPoint(e[0]);let l;switch(s){case"top":l=new z(0,-1);break;case"bottom":default:l=new z(0,1);break}return n.rotate&&a&&l.rotate(null,-a),l}function L2(t,e,n){const{targetBBox:r}=t;let s,a;if(!t.targetView)r.y>e[e.length-2].y?s="top":s="bottom";else if(a=t.targetView.model.angle(),n.rotate&&a){const c=t.targetView.getNodeUnrotatedBBox(t.targetView.el),f=e[e.length-1].clone();f.rotate(r.center(),a),s=c.sideNearestToPoint(f)}else s=r.sideNearestToPoint(e[e.length-1]);let l;switch(s){case"top":l=new z(0,-1);break;case"bottom":default:l=new z(0,1);break}return n.rotate&&a&&l.rotate(null,-a),l}function gg(t,e,n){const{sourceBBox:r}=t;let s,a;if(!t.sourceView)s=r.sideNearestToPoint(e[1]);else if(a=t.sourceView.model.angle(),n.rotate&&a){const c=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),f=e[0].clone();f.rotate(r.center(),a),s=c.sideNearestToPoint(f)}else s=r.sideNearestToPoint(e[0]);let l;switch(s){case"top":l=new z(0,-1);break;case"bottom":l=new z(0,1);break;case"right":l=new z(1,0);break;case"left":l=new z(-1,0);break}return n.rotate&&a&&l.rotate(null,-a),l}function mg(t,e,n){const{targetBBox:r}=t;let s,a;if(!t.targetView)s=r.sideNearestToPoint(e[e.length-2]);else if(a=t.targetView.model.angle(),n.rotate&&a){const c=t.targetView.getNodeUnrotatedBBox(t.targetView.el),f=e[e.length-1].clone();f.rotate(r.center(),a),s=c.sideNearestToPoint(f)}else s=r.sideNearestToPoint(e[e.length-1]);let l;switch(s){case"top":l=new z(0,-1);break;case"bottom":l=new z(0,1);break;case"right":l=new z(1,0);break;case"left":l=new z(-1,0);break}return n.rotate&&a&&l.rotate(null,-a),l}function vg(t,e,n){return e[1].difference(e[0]).normalize()}function yg(t,e,n){const r=e.length-1;return e[r-1].difference(e[r]).normalize()}function xg(t,e,n){const{sourceBBox:r}=t,s=r.center();return e[0].difference(s).normalize()}function wg(t,e,n){const{targetBBox:r}=t,s=r.center();return e[e.length-1].difference(s).normalize()}function M2(t,e,n,r){if(r.sourceDirection)switch(r.sourceDirection){case $e.UP:return new z(0,-1);case $e.DOWN:return new z(0,1);case $e.LEFT:return new z(-1,0);case $e.RIGHT:return new z(1,0);case $e.AUTO:return gg(t,e,r);case $e.CLOSEST_POINT:return vg(t,e);case $e.OUTWARDS:return xg(t,e);default:return r.sourceDirection}switch(n){case Tn.HORIZONTAL:return C2(t,e,r);case Tn.VERTICAL:return _2(t,e,r);case Tn.CLOSEST_POINT:return vg(t,e);case Tn.OUTWARDS:return xg(t,e);case Tn.AUTO:default:return gg(t,e,r)}}function N2(t,e,n,r){if(r.targetDirection)switch(r.targetDirection){case $e.UP:return new z(0,-1);case $e.DOWN:return new z(0,1);case $e.LEFT:return new z(-1,0);case $e.RIGHT:return new z(1,0);case $e.AUTO:return mg(t,e,r);case $e.CLOSEST_POINT:return yg(t,e);case $e.OUTWARDS:return wg(t,e);default:return r.targetDirection}switch(n){case Tn.HORIZONTAL:return k2(t,e,r);case Tn.VERTICAL:return L2(t,e,r);case Tn.CLOSEST_POINT:return yg(t,e);case Tn.OUTWARDS:return wg(t,e);case Tn.AUTO:default:return mg(t,e,r)}}function O2(t,e){const n=Math.cos(e),r=Math.sin(e),s=n*t.x-r*t.y,a=r*t.x+n*t.y;t.x=s,t.y=a}function lf(t,e){let n=t.dot(e)/(t.magnitude()*e.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function Sg(t,e){return t.x*e.y-t.y*e.x}function F2(t,e,n,r){const{tau:s,coeff:a}=r,l=[],c=[],f=[],p=t.length-1;for(let g=0;g<p;g++)l[g]=t[g].distance(t[g+1]);c[0]=e,c[p]=n;for(let g=1;g<p;g++){let h,x;g===1?h=t[g-1].clone().offset(c[g-1].x,c[g-1].y):h=t[g-1].clone(),g===p-1?x=t[g+1].clone().offset(c[g+1].x,c[g+1].y):x=t[g+1].clone();const w=h.difference(t[g]).normalize(),b=x.difference(t[g]).normalize(),P=lf(w,b);let T=(Math.PI-P)/2,C;const L=Sg(w,b);let M;M=Sg(t[g].difference(t[g+1]),t[g].difference(t[g-1])),L<0&&(T=-T),P<Math.PI/2&&(T<0&&M<0||T>0&&M>0)&&(T=T-Math.PI),C=b.clone(),O2(C,T);const R=C.clone(),G=C.clone(),X=l[g-1]*a,v=l[g]*a;R.scale(X,X),G.scale(v,v),c[g]=[R,G]}for(let g=0;g<p;g++){let h,x;g===0?h=t[g+1].difference(c[g].x/s,c[g].y/s):h=t[g+1].difference(c[g][1].x/s,c[g][1].y/s),g===p-1?x=t[g].clone().offset(c[g+1].x/s,c[g+1].y/s):x=t[g].difference(c[g+1][0].x/s,c[g+1][0].y/s),f[g]=[h,t[g],t[g+1],x]}return f}function I2(t,e){const{tau:n}=e,r=new z;r.x=t[1].x+(t[2].x-t[0].x)/(6*n),r.y=t[1].y+(t[2].y-t[0].y)/(6*n);const s=new z;return s.x=t[2].x+(t[3].x-t[1].x)/(6*n),s.y=t[2].y+(t[3].y-t[1].y)/(6*n),new Kt(t[1],r,s,t[2])}const R2=Object.freeze(Object.defineProperty({__proto__:null,curve:qf,jumpover:S2,normal:b2,rounded:P2,smooth:T2,straight:jf},Symbol.toStringTag,{value:"Module"}));var ki=function(t){this.cid=Fo("view"),this.preinitialize.apply(this,arguments),wt(this,nw(t,B2)),this._ensureElement(),this.initialize.apply(this,arguments)},D2=/^(\S+)\s*(.*)$/,B2=["model","collection","el","id","attributes","className","tagName","events","style"];wt(ki.prototype,je,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof dt?t:dt(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=ie(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(Jt(n)||(n=this[n]),!!n){var r=e.match(D2);this.delegate(r[1],r[2],n.bind(this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(ie(this,"el"));else{var t=wt({},ie(this,"attributes"));this.id&&(t.id=ie(this,"id")),this.className&&(t.class=ie(this,"className")),this.setElement(this._createElement(ie(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});ki.extend=Hf;const Ai={},Ps=ki.extend({options:{},theme:null,themeClassNamePrefix:wr("theme-"),requireSetThemeOverride:!1,defaultTheme:As.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(t){this.requireSetThemeOverride=t&&!!t.theme,this.options=wt({},this.options,t),ki.call(this,t)},initialize:function(){Ai[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(t){if(t||(t=ie(this,"children")),t){var e=this.svgElement,n=rt.namespace[e?"svg":"xhtml"],r=Pl(t,n);(e?this.vel:this.$el).empty().append(r.fragment),this.childNodes=r.selectors}return this},findAttributeNode:function(t,e){let n=e;for(;n&&n.nodeType===1;){if(n.getAttribute(t))return n;if(n===this.el)return null;n=n.parentNode}return null},findAttribute:function(t,e){const n=this.findAttributeNode(t,e);return n&&n.getAttribute(t)},_ensureElement:function(){if(this.el)this.setElement(ie(this,"el"));else{var t=ie(this,"tagName"),e=wt({},ie(this,"attributes")),n=wt({},ie(this,"style"));this.id&&(e.id=ie(this,"id")),this.setElement(this._createElement(t)),this._setAttributes(e),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(t){this.svgElement?this.vel.attr(t):this.$el.attr(t)},_setStyle:function(t){this.$el.css(t)},_createElement:function(t){return this.svgElement?document.createElementNS(rt.namespace.svg,t):document.createElement(t)},_setElement:function(t){this.$el=t instanceof dt?t:dt(t),this.el=this.$el[0],this.svgElement&&(this.vel=rt(this.el))},_ensureElClassName:function(){var t=ie(this,"className");if(t){var e=wr(t);this.svgElement?this.vel.removeClass(t).addClass(e):this.$el.removeClass(t).addClass(e)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(t,e){return e=e||{},this.theme&&this.requireSetThemeOverride&&!e.override?this:(this.removeThemeClassName(),this.addThemeClassName(t),this.onSetTheme(this.theme,t),this.theme=t,this)},addThemeClassName:function(t){if(t=t||this.theme,!t)return this;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.addClass(e):this.$el.addClass(e),this},removeThemeClassName:function(t){t=t||this.theme;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.removeClass(e):this.$el.removeClass(e),this},onSetTheme:function(t,e){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Ai[this.cid]=null,ki.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(t,e,n){if(!e)return this;n||(n={});var r=this.getEventNamespace();for(var s in e){var a=e[s];typeof a!="function"&&(a=this[a]),a&&dt(t).on(s+r,n,a.bind(this))}return this},undelegateElementEvents:function(t){return dt(t).off(this.getEventNamespace()),this},delegateDocumentEvents:function(t,e){return t||(t=ie(this,"documentEvents")),this.delegateElementEvents(document,t,e)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(t,e){if(!t)throw new Error("eventData(): event object required.");var n=t.data,r="__"+this.cid+"__";return e===void 0?n?n[r]||{}:{}:(n||(n=t.data={}),n[r]||(n[r]={}),wt(n[r],e),this)},stopPropagation:function(t){return this.eventData(t,{propagationStopped:!0}),this},isPropagationStopped:function(t){return!!this.eventData(t).propagationStopped}},{extend:function(){var t=Array.from(arguments),e=t[0]&&wt({},t[0])||{},n=t[1]&&wt({},t[1])||{},r=e.render||this.prototype&&this.prototype.render||null;return e.render=function(){return typeof r=="function"&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},e.render.__render__=r,ki.extend.call(this,e,n)}});var ri=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),e.comparator!==void 0&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,wt({silent:!0},e))},z2={add:!0,remove:!0,merge:!0},V2={add:!0,remove:!1},bg=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r=Array(t.length-n),s=e.length,a;for(a=0;a<r.length;a++)r[a]=t[a+n];for(a=0;a<s;a++)t[a+n]=e[a];for(a=0;a<r.length;a++)t[a+s+n]=r[a]};wt(ri.prototype,je,{model:Pn,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},add:function(t,e){return this.set(t,wt({merge:!1},e,V2))},remove:function(t,e){e=wt({},e);var n=!Array.isArray(t);t=n?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),n?r[0]:r},set:function(t,e){if(t!=null){e=wt({},z2,e);var n=!Array.isArray(t);t=n?[t]:t.slice();var r=e.at;r!=null&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var s=[],a=[],l=[],c=[],f={},p=e.add,g=e.merge,h=e.remove,x=!1,w=this.comparator&&r==null&&e.sort!==!1,b=xe(this.comparator)?this.comparator:null,P,T;for(T=0;T<t.length;T++){P=t[T];var C=this.get(P);if(C){if(g&&P!==C){var L=this._isModel(P)?P.attributes:P;C.set(L,e),l.push(C),w&&!x&&(x=C.hasChanged(b))}f[C.cid]||(f[C.cid]=!0,s.push(C)),t[T]=C}else p&&(P=t[T]=this._prepareModel(P,e),P&&(a.push(P),this._addReference(P,e),f[P.cid]=!0,s.push(P)))}if(h){for(T=0;T<this.length;T++)P=this.models[T],f[P.cid]||c.push(P);c.length&&this._removeModels(c,e)}var M=!1,R=!w&&p&&h;if(s.length&&R?(M=this.length!==s.length||this.models.some(function(G,X){return G!==s[X]}),this.models.length=0,bg(this.models,s,0),this.length=this.models.length):a.length&&(w&&(x=!0),bg(this.models,a,r??this.length),this.length=this.models.length),x&&this.sort({silent:!0}),!e.silent){for(T=0;T<a.length;T++)r!=null&&(e.index=r+T),P=a[T],P.trigger("add",P,this,e);(x||M)&&this.trigger("sort",this,e),(a.length||c.length||l.length)&&(e.changes={added:a,removed:c,merged:l},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?De(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,wt({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,wt({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,wt({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return Array.prototype.slice.apply(this.models,arguments)},get:function(t){if(t!=null)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t,t.idAttribute)]||t.cid&&this._byId[t.cid]},has:function(t){return this.get(t)!=null},at:function(t){return t<0&&(t+=this.length),this.models[t]},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return Jt(e)&&(e=e.bind(this)),n===1||xe(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t,e){return t[e||this.model.prototype.idAttribute||"id"]},values:function(){return new To(this,Bv)},keys:function(){return new To(this,zv)},entries:function(){return new To(this,U2)},each:function(t,e){this.models.forEach(t,e)},filter:function(t,e){return this.models.filter(t,e)},find:function(t,e){return this.models.find(t,e)},findIndex:function(t,e){return this.models.findIndex(t,e)},first:function(){return this.models[0]},includes:function(t){return this.models.includes(t)},last:function(){return this.models[this.models.length-1]},isEmpty:function(){return!this.models.length},map:function(t,e){return this.models.map(t,e)},reduce:function(t,e=this.first()){return this.models.reduce(t,e)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?De(e):{},e.collection=this;var n;return this.model.prototype?n=new this.model(t,e):n=this.model(t,e),n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var s=this.get(t[r]);if(s){var a=this.models.indexOf(s);this.models.splice(a,1),this.length--,delete this._byId[s.cid];var l=this.modelId(s.attributes,s.idAttribute);l!=null&&delete this._byId[l],e.silent||(e.index=a,s.trigger("remove",s,this,e)),n.push(s),this._removeReference(s,e)}}return t.length>0&&!e.silent&&delete e.index,n},_isModel:function(t){return t instanceof Pn},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes,t.idAttribute);n!=null&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes,t.idAttribute);n!=null&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if((t==="add"||t==="remove")&&n!==this)return;if(t==="changeId"){var s=this.modelId(e.previousAttributes(),e.idAttribute),a=this.modelId(e.attributes,e.idAttribute);s!=null&&delete this._byId[s],a!=null&&(this._byId[a]=e)}}this.trigger.apply(this,arguments)}});var Tl=typeof Symbol=="function"&&Symbol.iterator;Tl&&(ri.prototype[Tl]=ri.prototype.values);var To=function(t,e){this._collection=t,this._kind=e,this._index=0},Bv=1,zv=2,U2=3;Tl&&(To.prototype[Tl]=function(){return this});To.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t=this._collection.at(this._index);this._index++;var e;if(this._kind===Bv)e=t;else{var n=this._collection.modelId(t.attributes,t.idAttribute);this._kind===zv?e=n:e=[n,t]}return{value:e,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var G2={toArray:1,sortBy:3},$2=[ri,G2,"models"];function H2(t){var e=t[0],n=t[1],r=t[2];iS(e,{sortBy:pl,toArray:Yt},n,r)}H2($2);ri.extend=Hf;function bo(t){return t?Array.isArray(t)?t:[t]:[]}const Un=Ps.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(t,e){const{paper:n}=t;this.cellView=t,this.nodeSelector=e,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:t,nodeSelector:e}=this;return t.isMounted()?(this.update(t,e),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(t,e=null){let n;if(typeof e=="string")n=t.findNode(e);else if(ye(e)){const r=t.model.isLink(),{label:s=null,port:a,selector:l}=e;r&&s!==null?n=t.findLabelNode(s,l):!r&&a?n=t.findPortNode(a,l):n=t.findNode(l)}else e&&(n=rt.toNode(e),n instanceof SVGElement||(n=null));return n||null},getNodeMatrix(t,e){const{options:n}=this,{layer:r}=n,{rotatableNode:s}=t,a=t.getNodeMatrix(e);return s?r?s.contains(e)?a:t.getRootRotateMatrix().inverse().multiply(a):t.getNodeRotateMatrix(e).multiply(a):a},mount(){const{MOUNTABLE:t,cellView:e,el:n,options:r,transformGroup:s,detachedTransformGroup:a,postponedUpdate:l,nodeSelector:c}=this;if(!t||s)return;if(l){this.update(e,c),this.transform();return}const{vel:f,paper:p}=e,{layer:g}=r;if(g){let h;a?(h=a,this.detachedTransformGroup=null):h=rt("g").addClass("highlight-transform").append(n),this.transformGroup=h,p.getLayerView(g).insertSortedNode(h.node,r.z)}else(!n.parentNode||n.nextSibling)&&f.append(n)},unmount(){const{MOUNTABLE:t,transformGroup:e,vel:n}=this;t&&(e?(this.transformGroup=null,this.detachedTransformGroup=e,e.remove()):n.remove())},transform(){const{transformGroup:t,cellView:e,updateRequested:n}=this;if(!t||e.model.isLink()||n)return;const r=e.getRootTranslateMatrix(),s=e.getRootRotateMatrix(),a=r.multiply(s);t.attr("transform",rt.matrixToTransformString(a))},update(){const{node:t,cellView:e,nodeSelector:n,updateRequested:r,id:s}=this;if(r)return;this.postponedUpdate=!1;const a=this.node=this.findNode(e,n);t&&this.unhighlight(e,t),a?(this.highlight(e,a),this.mount()):(this.unmount(),e.notify("cell:highlight:invalid",s,this))},onRemove(){const{node:t,cellView:e,id:n,constructor:r}=this;t&&this.unhighlight(e,t),this.unmount(),r._removeRef(e,n)},highlight(t,e){},unhighlight(t,e){},listenToUpdateAttributes(t){const e=ie(this,"UPDATE_ATTRIBUTES");!Array.isArray(e)||e.length===0||this.listenTo(t.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:t}=this;if(!t)return;const{model:e,paper:n}=t;ie(this,"UPDATE_ATTRIBUTES").some(s=>e.hasChanged(s))&&n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(t,e,n){const r=this.uniqueId(e,n);this.add(t,e,r,n)},unhighlight:function(t,e,n){const r=this.uniqueId(e,n);this.remove(t,r)},get(t,e=null){const{cid:n}=t,{_views:r}=this,s=r[n];if(e===null){const a=[];if(!s)return a;for(let l in s){const c=s[l];c instanceof this&&a.push(c)}return a}else{if(!s)return null;if(e in s){const a=s[e];if(a instanceof this)return a}return null}},add(t,e,n,r={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");const s=Un.get(t,n);s&&s.remove();const a=new this(r);return a.id=n,this._addRef(t,n,a),a.requestUpdate(t,e),a.listenToUpdateAttributes(t),a},_addRef(t,e,n){const{cid:r}=t,{_views:s}=this;let a=s[r];a||(a=s[r]={}),a[e]=n},_removeRef(t,e){const{cid:n}=t,{_views:r}=this,s=r[n];if(s){e&&delete s[e];for(let a in s)return;delete r[n]}},remove(t,e=null){bo(this.get(t,e)).forEach(n=>{n.remove()})},getAll(t,e=null){const n=[],{_views:r}=this;for(let s in r)for(let a in r[s]){const l=r[s][a];l.cellView.paper===t&&l instanceof this&&(e===null||a===e)&&n.push(l)}return n},removeAll(t,e=null){this.getAll(t,e).forEach(n=>n.remove())},update(t,e=null,n=!1){bo(this.get(t,e)).forEach(r=>{(n||r.UPDATABLE)&&r.update()})},transform(t,e=null){bo(this.get(t,e)).forEach(n=>{n.UPDATABLE&&n.transform()})},unmount(t,e=null){bo(this.get(t,e)).forEach(n=>n.unmount())},mount(t,e=null){bo(this.get(t,e)).forEach(n=>n.mount())},uniqueId(t,e=""){return rt.ensureId(t)+JSON.stringify(e)}}),W2=Un.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(t,e){const{options:n}=this,{useFirstSubpath:r}=n;let s;try{const a=rt(e);if(s=a.convertToPathData().trim(),a.tagName()==="PATH"&&r){const l=s.search(/.M/i)+1;l>0&&(s=s.substr(0,l))}}catch{const l=t.getNodeBoundingRect(e);s=rt.rectToPath(wt({},n,l.toJSON()))}return s},highlightConnection(t){this.vel.attr("d",t.getSerializedConnection())},highlightNode(t,e){const{vel:n,options:r}=this,{padding:s,layer:a}=r;let l=this.getNodeMatrix(t,e);if(s){!a&&e===t.el&&n.remove();let c=t.getNodeBoundingRect(e);const f=c.x+c.width/2,p=c.y+c.height/2;c=rt.transformRect(c,l);const g=Math.max(c.width,1),h=Math.max(c.height,1),x=(g+s)/g,w=(h+s)/h,b=rt.createSVGMatrix({a:x,b:0,c:0,d:w,e:f-x*f,f:p-w*p});l=l.multiply(b)}n.attr({d:this.getPathData(t,e),transform:rt.matrixToTransformString(l)})},highlight(t,e){const{vel:n,options:r}=this;n.attr(r.attrs),r.nonScalingStroke&&n.attr("vector-effect","non-scaling-stroke"),t.isNodeConnection(e)?this.highlightConnection(t):this.highlightNode(t,e)}}),Eg=20;function j2(t,e){const n=t.children();for(;n.length>0;){const r=n.shift();e(r)&&n.push(...r.children())}}const q2=Un.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:Eg,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(t,e){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:r,MASK_REMOVE_TAGS:s}=this,a=e.tagName();if(!rt.isSVGGraphicsElement(e)||s.includes(a))return e.remove(),!1;if(r.includes(a)){const l=t.vel.findOne(`#${e.id}`);if(l){const{node:c}=l;let f=t.getNodeBoundingRect(c);t.model.isElement()&&(f=rt.transformRect(f,t.getNodeMatrix(c)));const p=rt("rect",f.toJSON()),{x:g,y:h}=f.center(),{angle:x,cx:w=g,cy:b=h}=l.rotate();x&&p.rotate(x,w,b),e.parent().append(p)}return e.remove(),!1}return n.forEach(l=>{l==="fill"&&e.attr("fill")==="none"||e.removeAttr(l)}),!0},transformMaskRoot(t,e){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(r=>{e.removeAttr(r)})},getMaskShape(t,e){const{options:n,MASK_REPLACE_TAGS:r}=this,{deep:s}=n,a=e.tagName();let l;if(a==="G"){if(!s)return null;l=e.clone(),j2(l,c=>this.transformMaskChild(t,c))}else{if(r.includes(a))return null;l=e.clone()}return this.transformMaskRoot(t,l),l},getMaskId(){return`highlight-mask-${this.cid}`},getMask(t,e){const{VISIBLE:n,INVISIBLE:r,options:s}=this,{padding:a,attrs:l}=s,c=parseFloat(rt("g").attr(l).attr("stroke-width")),f=e.attr("fill")!=="none";let p=parseFloat(e.attr("stroke-width"));isNaN(p)&&(p=1);const g=p+a*2,h=g+c*2;let x=this.getMaskShape(t,e);if(!x){const w=t.getNodeBoundingRect(e.node);w.inflate(w.width?0:.5,w.height?0:.5),x=rt("rect",w.toJSON())}return x.attr(l),rt("mask",{id:this.getMaskId()}).append([x.clone().attr({fill:f?n:"none",stroke:n,"stroke-width":h}),x.clone().attr({fill:f?r:"none",stroke:r,"stroke-width":g})])},removeMask(t){const e=t.svg.getElementById(this.getMaskId());e&&t.defs.removeChild(e)},addMask(t,e){t.defs.appendChild(e.node)},highlight(t,e){const{options:n,vel:r}=this,{padding:s,attrs:a,maskClip:l=Eg,layer:c}=n,f="stroke"in a?a.stroke:"#000000";!c&&e===t.el&&r.remove();const p=t.getNodeBoundingRect(e).inflate(s+l),g=this.getNodeMatrix(t,e),h=this.getMask(t,rt(e));this.addMask(t.paper,h),r.attr(p.toJSON()),r.attr({transform:rt.matrixToTransformString(g),mask:`url(#${h.id})`,fill:f})},unhighlight(t){this.removeMask(t.paper)}}),Y2=Un.extend({UPDATABLE:!1,MOUNTABLE:!1,highlight:function(t,e){const{alphaValue:n=.3}=this.options;e.style.opacity=n},unhighlight:function(t,e){e.style.opacity=""}}),Ag=wr("highlighted"),X2=Un.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:Ag},highlight:function(t,e){rt(e).addClass(this.options.className)},unhighlight:function(t,e){rt(e).removeClass(this.options.className)}},{className:Ag}),Uc={ROW:"row",COLUMN:"column"},Z2=Un.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(t,e){const n=t.model,{attribute:r,size:s=20,gap:a=5,direction:l=Uc.ROW}=this.options;if(!r)throw new Error("List: attribute is required");const c=typeof s=="number"?{width:s,height:s}:s,f=l===Uc.ROW,p=f?c.width:c.height;let g=n.get(r);Array.isArray(g)||(g=[]);const h=this._prevItems||[],x=g.map((T,C)=>ni(h[C],g[C]));if(h.length!==g.length||x.some(T=>!T)){const T=this.vel.children(),C=g.map((L,M)=>{const R=M in T?T[M].node:null;if(x[M])return R;const G=this.createListItem(L,c,R);if(!G)return null;if(!(G instanceof SVGElement))throw new Error("List: item must be an SVGElement");G.dataset.index=M,G.dataset.attribute=r;const X=M*(p+a);return G.setAttribute("transform",f?`translate(${X}, 0)`:`translate(0, ${X})`),G});this.vel.empty().append(C),this._prevItems=g}const w=g.length,b=w===0?0:w*p+(w-1)*a,P=f?{width:b,height:c.height}:{width:c.width,height:b};this.position(n,P)},position(t,e){const{vel:n,options:r}=this,{margin:s=5,position:a="top-left"}=r,{width:l,height:c}=t.size(),{left:f,right:p,top:g,bottom:h}=Fi(s),x=new ht(f,g,l-(f+p),c-(g+h));let{x:w,y:b}=kv(x,a);switch(a){case me.CENTER:case me.TOP:case me.BOTTOM:{w-=e.width/2;break}case me.RIGHT:case me.BOTTOM_RIGHT:case me.TOP_RIGHT:{w-=e.width;break}}switch(a){case me.CENTER:case me.RIGHT:case me.LEFT:{b-=e.height/2;break}case me.BOTTOM:case me.BOTTOM_RIGHT:case me.BOTTOM_LEFT:{b-=e.height;break}}n.attr("transform",`translate(${w}, ${b})`)}},{Directions:Uc,Positions:me}),Q2=Object.freeze(Object.defineProperty({__proto__:null,addClass:X2,list:Z2,mask:q2,opacity:Y2,stroke:W2},Symbol.toStringTag,{value:"Module"}));function jl(t,e,n){if(ye(n)){const{x:s,y:a}=n;if(isFinite(a)){const l=new yt(e,t),{start:c,end:f}=l.parallel(a);e=c,t=f}n=s}if(!isFinite(n))return t;var r=t.distance(e);return n===0&&r>0?t:t.move(e,-Math.min(n,r-1))}function Yf(t){var e=t.getAttribute("stroke-width");return e===null?0:parseFloat(e)||0}function K2(t,e,n=0){let r,s,a,l;const{start:c,end:f}=t;switch(e){case"left":r="x",s=f,a=c,l=-1;break;case"right":r="x",s=c,a=f,l=1;break;case"top":r="y",s=f,a=c,l=-1;break;case"bottom":r="y",s=c,a=f,l=1;break;default:return}c[r]<f[r]?s[r]=a[r]:a[r]=s[r],isFinite(n)&&(s[r]+=l*n,a[r]+=l*n)}function J2(t,e,n,r){let{offset:s,alignOffset:a,align:l}=r;return l&&K2(t,l,a),jl(t.end,t.start,s)}function Vv(t,e,n,r){var s=e.getNodeBBox(n);r.stroke&&s.inflate(Yf(n)/2);var a=t.intersect(s),l=a?t.start.chooseClosest(a):t.end;return jl(l,t.start,r.offset)}function tb(t,e,n,r){var s=e.model.angle();if(s===0)return Vv(t,e,n,r);var a=e.getNodeUnrotatedBBox(n);r.stroke&&a.inflate(Yf(n)/2);var l=a.center(),c=t.clone().rotate(l,s),f=c.setLength(1e6).intersect(a),p=f?c.start.chooseClosest(f).rotate(l,-s):t.end;return jl(p,t.start,r.offset)}function eb(t){if(!t)return null;var e=t;do{var n=e.tagName;if(typeof n!="string")return null;if(n=n.toUpperCase(),n==="G")e=e.firstElementChild;else if(n==="TITLE")e=e.nextElementSibling;else break}while(e);return e}var Gc="segmentSubdivisons",$c="shapeBBox";function nb(t,e,n,r){var s,a,l=r.selector,c=t.end;if(typeof l=="string"?s=e.findNode(l):l===!1?s=n:Array.isArray(l)?s=Ls(n,l):s=eb(n),!rt.isSVGGraphicsElement(s)){if(s===n||!rt.isSVGGraphicsElement(n))return c;s=n}var f=e.getNodeShape(s),p=e.getNodeMatrix(s),g=e.getRootTranslateMatrix(),h=e.getRootRotateMatrix(),x=g.multiply(h).multiply(p),w=x.inverse(),b=rt.transformLine(t,w),P=b.start.clone(),T=e.getNodeData(s);if(r.insideout===!1){T[$c]||(T[$c]=f.bbox());var C=T[$c];if(C.containsPoint(P))return c}var L;if(f instanceof Ct){var M=r.precision||2;T[Gc]||(T[Gc]=f.getSegmentSubdivisions({precision:M})),L={precision:M,segmentSubdivisions:T[Gc]}}r.extrapolate===!0&&b.setLength(1e6),a=b.intersect(f,L),a?rt.isArray(a)&&(a=P.chooseClosest(a)):r.sticky===!0&&(f instanceof ht?a=f.pointNearestToPoint(P):f instanceof He?a=f.intersectionWithLineFromCenterToPoint(P):a=f.closestPoint(P,L));var R=a?rt.transformPoint(a,x):c,G=r.offset||0;return r.stroke&&(G+=Yf(s)/2),jl(R,t.start,G)}const rb=J2,ib=Vv,sb=tb,ob=nb,ab=Object.freeze(Object.defineProperty({__proto__:null,anchor:rb,bbox:ib,boundary:ob,rectangle:sb},Symbol.toStringTag,{value:"Module"})),lb=function(t,e,n){return t},ub=function(t,e,n){var r=e.side||"bottom",s=Fi(e.padding||40),a=n.sourceBBox,l=n.targetBBox,c=a.center(),f=l.center(),p,g,h;switch(r){case"bottom":h=1,p="y",g="height";break;case"top":h=-1,p="y",g="height";break;case"left":h=-1,p="x",g="width";break;case"right":h=1,p="x",g="width";break;default:throw new Error("Router: invalid side")}return c[p]+=h*(a[g]/2+s[r]),f[p]+=h*(l[g]/2+s[r]),h*(c[p]-f[p])>0?f[p]=c[p]:c[p]=f[p],[c].concat(t,f)};var cb={N:"S",S:"N",E:"W",W:"E"},fb={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function Cl(t,e,n){var r=new z(t.x,e.y);return n.containsPoint(r)&&(r=new z(e.x,t.y)),r}function uf(t,e){return t[e==="W"||e==="E"?"width":"height"]}function We(t,e){return t.x===e.x?t.y>e.y?"N":"S":t.y===e.y?t.x>e.x?"W":"E":null}function dl(t){return new ht(t.x,t.y,0,0)}function kl(t){var e=Fi(t.padding||t.elementPadding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function Uv(t,e){return t.sourceBBox.clone().moveAndExpand(kl(e))}function Gv(t,e){return t.targetBBox.clone().moveAndExpand(kl(e))}function db(t,e){if(t.sourceAnchor)return t.sourceAnchor;var n=Uv(t,e);return n.center()}function hb(t,e){if(t.targetAnchor)return t.targetAnchor;var n=Gv(t,e);return n.center()}function $v(t,e,n){var r=new z(t.x,e.y),s=new z(e.x,t.y),a=We(t,r),l=We(t,s),c=cb[n],f=a===n||a!==c&&(l===c||l!==n)?r:s;return{points:[f],direction:We(f,e)}}function yl(t,e,n){var r=Cl(t,e,n);return{points:[r],direction:We(r,e)}}function pb(t,e,n,r){var s={},a=[new z(t.x,e.y),new z(e.x,t.y)],l=a.filter(function(h){return!n.containsPoint(h)}),c=l.filter(function(h){return We(h,t)!==r}),f;if(c.length>0)f=c.filter(function(h){return We(t,h)===r}).pop(),f=f||c[0],s.points=[f],s.direction=We(f,e);else{f=ew(a,l)[0];var p=new z(e).move(f,-uf(n,r)/2),g=Cl(p,t,n);s.points=[g,p],s.direction=We(p,e)}return s}function gb(t,e,n,r){var s=yl(e,t,r),a=s.points[0];if(n.containsPoint(a)){s=yl(t,e,n);var l=s.points[0];if(r.containsPoint(l)){var c=new z(t).move(l,-uf(n,We(t,l))/2),f=new z(e).move(a,-uf(r,We(e,a))/2),p=new yt(c,f).midpoint(),g=yl(t,p,n),h=$v(p,e,g.direction);s.points=[g.points[0],h.points[0]],s.direction=h.direction}}return s}function Hc(t,e,n,r,s){var a={},l=n.union(r).inflate(1),c=l.center().distance(e)>l.center().distance(t),f=c?e:t,p=c?t:e,g,h,x;return s?(g=z.fromPolar(l.width+l.height,fb[s],f),g=l.pointNearestToPoint(g).move(g,-1)):g=l.pointNearestToPoint(f).move(f,1),h=Cl(g,p,l),g.round().equals(h.round())?(h=z.fromPolar(l.width+l.height,tn(g.theta(f))+Math.PI/2,p),h=l.pointNearestToPoint(h).move(p,1).round(),x=Cl(g,h,l),a.points=c?[h,x,g]:[g,x,h]):a.points=c?[h,g]:[g,h],a.direction=We(c?g:h,e),a}function cf(t,e,n){var r=Uv(n,e),s=Gv(n,e),a=db(n,e),l=hb(n,e);r=r.union(dl(a)),s=s.union(dl(l)),t=Yt(t).map(z),t.unshift(a),t.push(l);for(var c,f=[],p=0,g=t.length-1;p<g;p++){var h=null,x=t[p],w=t[p+1],b=!!We(x,w);if(p===0)p+1===g?r.intersect(s.clone().inflate(1))?h=Hc(x,w,r,s):b||(h=gb(x,w,r,s)):r.containsPoint(w)?h=Hc(x,w,r,dl(w).moveAndExpand(kl(e))):b||(h=yl(x,w,r));else if(p+1===g){var P=b&&We(w,x)===c;s.containsPoint(x)||P?h=Hc(x,w,dl(x).moveAndExpand(kl(e)),s,c):b||(h=pb(x,w,s,c))}else b||(h=$v(x,w,c));h?(Array.prototype.push.apply(f,h.points),c=h.direction):c=We(x,w),p+1<g&&f.push(w)}return f}var Hv={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:[],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var t=this.step,e=this.cost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:-t,offsetY:0,cost:e},{offsetX:0,offsetY:t,cost:e},{offsetX:0,offsetY:-t,cost:e}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var t=this.step;return{x:-t,y:-t,width:2*t,height:2*t}},isPointObstacle:null,fallbackRouter:function(t,e,n){if(!Jt(cf))throw new Error("Manhattan requires the orthogonal router as default fallback.");return cf(t,wt({},Hv,e),n)},fallbackRoute:function(t,e,n){return null},draggingRoute:null};function Xf(t){this.map={},this.options=t,this.mapGridSize=100}Xf.prototype.build=function(t,e){var n=this.options,r=Yt(n.excludeEnds).reduce(function(f,p){var g=e.get(p);if(g){var h=t.getCell(g.id);h&&f.push(h)}return f},[]),s=[],a=t.getCell(e.get("source").id);a&&(s=rf(s,a.getAncestors().map(function(f){return f.id})));var l=t.getCell(e.get("target").id);l&&(s=rf(s,l.getAncestors().map(function(f){return f.id})));var c=this.mapGridSize;return t.getElements().reduce(function(f,p){var g=Yt(n.excludeTypes).includes(p.get("type")),h=r.find(function(R){return R.id===p.id}),x=s.includes(p.id),w=g||h||x;if(!w)for(var b=p.getBBox().moveAndExpand(n.paddingBox),P=b.origin().snapToGrid(c),T=b.corner().snapToGrid(c),C=P.x;C<=T.x;C+=c)for(var L=P.y;L<=T.y;L+=c){var M=C+"@"+L;f[M]=f[M]||[],f[M].push(b)}return f},this.map),this};Xf.prototype.isPointAccessible=function(t){var e=t.clone().snapToGrid(this.mapGridSize).toString();return Yt(this.map[e]).every(function(n){return!n.containsPoint(t)})};function Bi(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}Bi.prototype.add=function(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=this.OPEN,this.values[t]=e;var n=sv(this.items,t,(function(r){return this.values[r]}).bind(this));this.items.splice(n,0,t)};Bi.prototype.remove=function(t){this.hash[t]=this.CLOSE};Bi.prototype.isOpen=function(t){return this.hash[t]===this.OPEN};Bi.prototype.isClose=function(t){return this.hash[t]===this.CLOSE};Bi.prototype.isEmpty=function(){return this.items.length===0};Bi.prototype.pop=function(){var t=this.items.shift();return this.remove(t),t};function Wv(t,e){return e&&e.paddingBox?t.sourceBBox.clone().moveAndExpand(e.paddingBox):t.sourceBBox.clone()}function jv(t,e){return e&&e.paddingBox?t.targetBBox.clone().moveAndExpand(e.paddingBox):t.targetBBox.clone()}function qv(t,e){if(t.sourceAnchor)return t.sourceAnchor;var n=Wv(t,e);return n.center()}function mb(t,e){if(t.targetAnchor)return t.targetAnchor;var n=jv(t,e);return n.center()}function Wc(t,e,n,r,s){var a=360/n,l=t.theta(vb(t,e,r,s)),c=kn(l+a/2);return a*Math.floor(c/a)}function vb(t,e,n,r){var s=r.step,a=e.x-t.x,l=e.y-t.y,c=a/n.x,f=l/n.y,p=c*s,g=f*s;return new z(t.x+p,t.y+g)}function Pg(t,e){var n=Math.abs(t-e);return n>180?360-n:n}function yb(t,e,n){var r=n.step;Yt(n.directions).forEach(function(s){s.gridOffsetX=s.offsetX/r*e.x,s.gridOffsetY=s.offsetY/r*e.y})}function xb(t,e,n){return{source:e.clone(),x:Tg(n.x-e.x,t),y:Tg(n.y-e.y,t)}}function Tg(t,e){if(!t)return e;var n=Math.abs(t),r=Math.round(n/e);if(!r)return n;var s=r*e,a=n-s,l=a/r;return e+l}function wb(t,e){var n=e.source,r=Mi(t.x-n.x,e.x)+n.x,s=Mi(t.y-n.y,e.y)+n.y;return new z(r,s)}function Ao(t,e){return t.round(e)}function xl(t,e,n){return Ao(wb(t.clone(),e),n)}function Co(t){return t.clone().toString()}function jc(t){return new z(t.x===0?0:Math.abs(t.x)/t.x,t.y===0?0:Math.abs(t.y)/t.y)}function Sb(t,e,n,r,s,a,l){for(var c=[],f=jc(s.difference(n)),p=Co(n),g=t[p],h;g;){h=e[p];var x=jc(h.difference(g));x.equals(f)||(c.unshift(h),f=x),p=Co(g),g=t[p]}var w=e[p],b=jc(w.difference(r));return b.equals(f)||c.unshift(w),c}function Cg(t,e){for(var n=1/0,r=0,s=e.length;r<s;r++){var a=t.manhattanDistance(e[r]);a<n&&(n=a)}return n}function kg(t,e,n,r,s){var a=s.precision,l=s.directionMap,c=t.difference(e.center()),f=qt(l)?Object.keys(l):[],p=Yt(n),g=f.reduce(function(h,x){if(p.includes(x)){for(var w=l[x],b=new z(t.x+w.x*(Math.abs(c.x)+e.width),t.y+w.y*(Math.abs(c.y)+e.height)),P=new yt(t,b),T=P.intersect(e)||[],C=T.length,L,M=null,R=0;R<C;R++){var G=T[R],X=t.squaredDistance(G);(L===void 0||X>L)&&(L=X,M=G)}if(M){var v=xl(M,r,a);e.containsPoint(v)&&(v=xl(v.offset(w.x*r.x,w.y*r.y),r,a)),h.push(v)}}return h},[]);return e.containsPoint(t)||g.push(xl(t,r,a)),g}function bb(t,e,n,r){var s=r.precision,a,l;t instanceof ht?a=Ao(qv(this,r).clone(),s):a=Ao(t.clone(),s),e instanceof ht?l=Ao(mb(this,r).clone(),s):l=Ao(e.clone(),s);var c=xb(r.step,a,l),f,p,g,h;if(t instanceof ht?(f=a,g=kg(f,t,r.startDirections,c,r)):(f=a,g=[f]),e instanceof ht?(p=l,h=kg(l,e,r.endDirections,c,r)):(p=l,h=[p]),g=g.filter(kt=>!n(kt)),h=h.filter(kt=>!n(kt)),g.length>0&&h.length>0){for(var x=new Bi,w={},b={},P={},T=0,C=g.length;T<C;T++){var L=g[T],M=Co(L);x.add(M,Cg(L,h)),w[M]=L,P[M]=0}var R=r.previousDirectionAngle,G=R===void 0,X,v,S=r.directions;yb(S,c,r);for(var E=S.length,k=Yt(h).reduce(function(kt,Dt){var Lt=Co(Dt);return kt.push(Lt),kt},[]),O=r.maximumLoops;!x.isEmpty()&&O>0;){var U=x.pop(),W=w[U],Q=b[U],it=P[U],I=Q===void 0,B=W.equals(f),N;I?G?B?N=null:N=Wc(f,W,E,c,r):N=R:N=Wc(Q,W,E,c,r);var D=g.length===h.length;if(D){for(var $=0;$<g.length;$++)if(!g[$].equals(h[$])){D=!1;break}}var _=I&&D;if(!_&&k.indexOf(U)>=0)return r.previousDirectionAngle=N,Sb(b,w,W,f,p);for(T=0;T<E;T++){X=S[T];var j=X.angle;if(v=Pg(N,j),!(!(G&&B)&&v>r.maxAllowedDirectionChange)){var mt=xl(W.clone().offset(X.gridOffsetX,X.gridOffsetY),c,s),st=Co(mt);if(!(x.isClose(st)||n(mt))){if(k.indexOf(st)>=0){var ut=mt.equals(p);if(!ut){var ft=Wc(mt,p,E,c,r),et=Pg(j,ft);if(et>r.maxAllowedDirectionChange)continue}}var ot=X.cost,vt=B?0:r.penalties[v],Ot=it+ot+vt;(!x.isOpen(st)||Ot<P[st])&&(w[st]=mt,b[st]=W,P[st]=Ot,x.add(st,Ot+Cg(mt,h)))}}}O--}}return r.fallbackRoute.call(this,f,p,r)}function Eb(t){if(t.directions=ie(t,"directions"),t.penalties=ie(t,"penalties"),t.paddingBox=ie(t,"paddingBox"),t.padding=ie(t,"padding"),t.padding){var e=Fi(t.padding);t.paddingBox={x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}Yt(t.directions).forEach(function(n){var r=new z(0,0),s=new z(n.offsetX,n.offsetY);n.angle=kn(r.theta(s))})}function Ab(t,e,n){Eb(e),n.options.perpendicular=!!e.perpendicular;var r=Wv(n,e),s=jv(n,e),a=qv(n,e);let l;if(typeof e.isPointObstacle=="function")l=e.isPointObstacle;else{const M=new Xf(e);M.build(n.paper.model,n.model),l=R=>!M.isPointAccessible(R)}for(var c=Yt(t).map(z),f=[],p=a,g,h,x=0,w=c.length;x<=w;x++){var b=null;if(h=g||r,g=c[x],!g){g=s;var P=!n.model.get("source").id||!n.model.get("target").id;if(P&&Jt(e.draggingRoute)){var T=h===r?a:h,C=g.origin();b=e.draggingRoute.call(n,T,C,e)}}if(b=b||bb.call(n,h,g,l,e),b===null)return e.fallbackRouter(t,e,n);var L=b[0];L&&L.equals(p)&&b.shift(),p=b[b.length-1]||p,Array.prototype.push.apply(f,b)}return f}const ff=function(t,e,n){return Ab(t,wt({},Hv,e),n)};var Pb={maxAllowedDirectionChange:45,diagonalCost:function(){var t=this.step;return Math.ceil(Math.sqrt(t*t<<1))},directions:function(){var t=this.step,e=this.cost(),n=this.diagonalCost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:t,offsetY:t,cost:n},{offsetX:0,offsetY:t,cost:e},{offsetX:-t,offsetY:t,cost:n},{offsetX:-t,offsetY:0,cost:e},{offsetX:-t,offsetY:-t,cost:n},{offsetX:0,offsetY:-t,cost:e},{offsetX:t,offsetY:-t,cost:n}]},fallbackRoute:function(t,e,n){var r=t.theta(e),s=[],a={x:e.x,y:t.y},l={x:t.x,y:e.y};if(r%180>90){var c=a;a=l,l=c}var f=r%90<45?a:l,p=new yt(t,f),g=90*Math.ceil(r/90),h=z.fromPolar(p.squaredLength(),tn(g+135),f),x=new yt(e,h),w=p.intersection(x),b=w||e,P=w?b:t,T=360/n.directions.length,C=P.theta(e),L=kn(C+T/2),M=T*Math.floor(L/T);return n.previousDirectionAngle=M,b&&s.push(b.round()),s.push(e),s}};const Tb=function(t,e,n){if(!Jt(ff))throw new Error("Metro requires the manhattan router.");return ff(t,wt({},Pb,e),n)},nt={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},_g=[nt.LEFT,nt.RIGHT,nt.TOP,nt.BOTTOM],xr={[nt.LEFT]:nt.RIGHT,[nt.RIGHT]:nt.LEFT,[nt.TOP]:nt.BOTTOM,[nt.BOTTOM]:nt.TOP},Cb=[nt.TOP,nt.BOTTOM],ti={0:nt.RIGHT,180:nt.LEFT,270:nt.TOP,90:nt.BOTTOM};function er(t){return t.angle()}function hs(t){return new se(t).simplify({threshold:1}).points}function ko(t,e){const{point:n,x0:r,y0:s,view:a,bbox:l,direction:c}=t,{point:f,x0:p,y0:g,view:h,bbox:x,direction:w}=e;let b;if(a)a.model.isLink()?b=Lg(f,n,a):c===nt.ANCHOR_SIDE?b=l.sideNearestToPoint(n):c===nt.MAGNET_SIDE?b=a.model.getBBox().sideNearestToPoint(n):b=c;else{const T=new ht(r,s,0,0);b=_g.includes(c)?c:T.sideNearestToPoint(f)}let P;if(h)h.model.isLink()?P=Lg(n,f,h):w===nt.ANCHOR_SIDE?P=x.sideNearestToPoint(f):w===nt.MAGNET_SIDE?P=h.model.getBBox().sideNearestToPoint(f):P=w;else{const T=new ht(p,g,0,0);P=_g.includes(w)?w:T.sideNearestToPoint(n)}return[b,P]}function kb(t,e,n){const{x0:r,y0:s,width:a,height:l,point:c,margin:f}=t,p=r+a,g=s+l,h=r-f,x=p+f,w=s-f,{x:b}=c,{x0:P,y0:T}=e;return P===b&&T<s?nt.BOTTOM:P<b&&T<w?n.point.x===b?nt.BOTTOM:nt.RIGHT:P>b&&T<w?n.point.x===b?nt.BOTTOM:nt.LEFT:P<h&&T>w||P>x&&T>w?nt.TOP:P>=h&&P<=b&&T>g||P<=x&&P>=b&&T>g?n.point.x<P?nt.RIGHT:nt.LEFT:nt.BOTTOM}function _b(t,e,n){const{x0:r,y0:s,width:a,height:l,point:c,margin:f}=t,p=r+a,g=s+l,h=r-f,x=p+f,w=g+f,{x:b}=c,{x0:P,y0:T}=e;return P===b&&T>g?nt.TOP:P<b&&T>w?n.point.x===b?nt.TOP:nt.RIGHT:P>b&&T>w?n.point.x===b?nt.TOP:nt.LEFT:P<h&&T<w||P>x&&T<w?nt.BOTTOM:P>=h&&P<=b&&T<s||P<=x&&P>=b&&T<s?n.point.x<P?nt.RIGHT:nt.LEFT:nt.TOP}function Lb(t,e,n){const{y0:r,x0:s,width:a,height:l,point:c,margin:f}=t,p=s+a,g=r+l,h=s-f,x=r-f,w=g+f,{x:b,y:P}=c,{x0:T,y0:C}=e;return T<b&&C===P?nt.RIGHT:T<=h&&C<P?nt.BOTTOM:T<=h&&C>P?nt.TOP:T>=h&&C<x||T>=h&&C>w?nt.LEFT:T>p&&C>=x&&C<=P||T>p&&C<=w&&C>=P?n.point.y<C?nt.BOTTOM:nt.TOP:nt.RIGHT}function Mb(t,e,n){const{y0:r,x0:s,width:a,height:l,point:c,margin:f}=t,p=s+a,g=r+l,h=p+f,x=r-f,w=g+f,{x:b,y:P}=c,{x0:T,y0:C}=e;return T>b&&C===P?nt.LEFT:T>=h&&C<P?nt.BOTTOM:T>=h&&C>P?nt.TOP:T<=h&&C<x||T<=h&&C>w?nt.RIGHT:T<s&&C>=x&&C<=P||T<s&&C<=w&&C>=P?n.point.y<C?nt.BOTTOM:nt.TOP:nt.LEFT}function Nb(t,e,n){const[r]=ko(t,e);switch(r){case nt.TOP:return kb(t,e,n);case nt.RIGHT:return Mb(t,e,n);case nt.BOTTOM:return _b(t,e,n);case nt.LEFT:return Lb(t,e,n)}}function Lg(t,e,n){const r=n.getTangentAtLength(n.getClosestPointLength(e)),s=Math.round(er(r)/90)*90;if(s%180===0&&t.y===e.y)return t.x<e.x?nt.LEFT:nt.RIGHT;if(t.x===e.x)return t.y<e.y?nt.TOP:nt.BOTTOM;switch(s){case 0:case 180:case 360:return t.y<e.y?nt.TOP:nt.BOTTOM;case 90:case 270:return t.x<e.x?nt.LEFT:nt.RIGHT}}function Mg(t,e,n,r,s,a,l){r===nt.AUTO&&(r=s?nt.MAGNET_SIDE:nt.ANCHOR_SIDE);const c=t&&t.model.isElement(),{x:f,y:p,width:g=0,height:h=0}=c?ht.fromRectUnion(n,t.model.getBBox()):a;return{point:e,x0:f,y0:p,view:t,bbox:n,width:g,height:h,direction:r,margin:c?l:0}}function Ob({x:t,y:e}){const n=new z(t,e);return{point:n,x0:n.x,y0:n.y,view:null,bbox:new ht(t,e,0,0),width:0,height:0,direction:null,margin:0}}function _l(t,e,n){const r=e.point.clone(),{x0:s,y0:a,width:l,height:c}=e;switch(t){case"left":r.x=s-n;break;case"right":r.x=s+l+n;break;case"top":r.y=a-n;break;case"bottom":r.y=a+c+n;break}return r}function df(t,e,{dx:n=0,dy:r=0}){const s={x:t.point.x+n,y:t.point.y+r},a={x:e.point.x+n,y:e.point.y+r};return[t.point,s,a,e.point]}function Ng(t,e,n,r){const s=kn(n-90);let a=0,l=0;s===90?l=-r:s===180?a=-r:s===270?l=r:s===0&&(a=r);const c=df(t,e,{dx:a,dy:l}),f=c[2],p=new yt(e.point,f),g=ti[er(p)];return{loopRoute:c,continueDirection:g}}function Fb(t,e){const{x0:n,x1:r,outsidePoint:s}=t,{x0:a,x1:l,outsidePoint:c}=e;let f=Math.min(n,a),p=Math.max(r,l);if(t.direction===e.direction){const L=t.y0<e.y0?t:e,M=L===t?e:t,R=t.direction===nt.TOP?L:M;f=R.x0,p=R.x1}const{x:g}=s,{x:h}=c,x=Math.abs(g-f),w=Math.abs(h-f),b=x+w,P=Math.abs(g-p),T=Math.abs(h-p),C=P+T;return[b,C]}function Ib(t,e){const{y0:n,y1:r,outsidePoint:s}=t,{y0:a,y1:l,outsidePoint:c}=e;let f=Math.min(n,a),p=Math.max(r,l);if(t.direction===e.direction){const L=t.x0<e.x0?t:e,M=L===t?e:t,R=t.direction===nt.LEFT?L:M;f=R.y0,p=R.y1}const{y:g}=s,{y:h}=c,x=Math.abs(g-f),w=Math.abs(h-f),b=x+w,P=Math.abs(g-p),T=Math.abs(h-p),C=P+T;return[b,C]}function Og(t,e,n){switch(e){case nt.LEFT:t.inflate(0,n).moveAndExpand({x:-n,width:n});break;case nt.RIGHT:t.inflate(0,n).moveAndExpand({width:n});break;case nt.TOP:t.inflate(n,0).moveAndExpand({y:-n,height:n});break;case nt.BOTTOM:t.inflate(n,0).moveAndExpand({height:n});break}return t}function Jr(t,e,n={}){const{point:r,x0:s,y0:a,width:l,height:c,margin:f}=t,{point:p,x0:g,y0:h,width:x,height:w,margin:b}=e,{targetInSourceBBox:P=!1}=n,T=g+x,C=h+w,L=s+l,M=a+c,R=s-f,G=L+f,X=a-f,v=M+f,S=g-b,E=T+b,k=h-b,O=C+b,[U,W]=ko(t,e),Q=_l(U,{point:r,x0:s,y0:a,width:l,height:c},f),it=_l(W,{point:p,x0:g,y0:h,width:x,height:w},b),{x:I,y:B}=Q,{x:N,y:D}=it,$=(g+T)/2,_=(h+C)/2,j=(s+L)/2,mt=(a+M)/2,st=(j<$?L+g:T+s)/2,ut=(mt<_?M+h:C+a)/2,ft=new ht(s,a,l,c),et=new ht(g,h,x,w),ot=ft.clone().inflate(f),vt=et.clone().inflate(b),Ot=Object.assign({},t,{x1:L,y1:M,outsidePoint:Q,direction:U}),kt=Object.assign({},e,{x1:T,y1:C,outsidePoint:it,direction:W}),[Dt,Lt]=Fb(Ot,kt),[Et,Ft]=Ib(Ot,kt);if(U==="left"&&W==="right"){const gt=ot.containsPoint(it),q=vt.containsPoint(Q);if(gt||q){const J=(B+D)/2;return[{x:I,y:B},{x:I,y:J},{x:N,y:J},{x:N,y:D}]}if(R<N){let J=ut,bt=I,Ht=N;const Vt=Et<Ft;return(J>=X&&J<=v||J>=k&&J<=O)&&(v>=k&&Vt?J=Math.min(k,X):X<=O&&!Vt&&(J=Math.max(O,v)),bt=Math.min(I,S),Ht=Math.max(N,G),Vt&&B<h||!Vt&&B>C?bt=I:(Vt&&D<a||!Vt&&D>M)&&(Ht=N)),[{x:bt,y:B},{x:bt,y:J},{x:Ht,y:J},{x:Ht,y:D}]}const tt=(I+N)/2;return[{x:tt,y:B},{x:tt,y:D}]}else if(U==="right"&&W==="left"){const gt=ot.containsPoint(it),q=vt.containsPoint(Q);if(gt||q){const J=(B+D)/2;return[{x:I,y:B},{x:I,y:J},{x:N,y:J},{x:N,y:D}]}if(G>N){let J=ut,bt=I,Ht=N;const Vt=Et<Ft;return(J>=X&&J<=v||J>=k&&J<=O)&&(v>=k&&Vt?J=Math.min(k,X):X<=O&&!Vt&&(J=Math.max(O,v)),bt=Math.max(I,E),Ht=Math.min(N,R),Vt&&B<h||!Vt&&B>C?bt=I:(Vt&&D<a||!Vt&&D>M)&&(Ht=N)),[{x:bt,y:B},{x:bt,y:J},{x:Ht,y:J},{x:Ht,y:D}]}const tt=(I+N)/2;return[{x:tt,y:B},{x:tt,y:D}]}else if(U==="top"&&W==="bottom"){const gt=ot.containsPoint(it),q=vt.containsPoint(Q);if(gt||q){const J=(I+N)/2;return[{x:I,y:B},{x:J,y:B},{x:J,y:D},{x:N,y:D}]}if(X<D){let J=st,bt=B,Ht=D;const Vt=Dt<Lt;return(J>=R&&J<=G||J>=S&&J<=E)&&(G>=S&&Vt?J=Math.min(S,R):R<=E&&!Vt&&(J=Math.max(E,G)),bt=Math.min(B,k),Ht=Math.max(D,v),Vt&&I<g||!Vt&&I>T?bt=B:(Vt&&N<s||!Vt&&N>L)&&(Ht=D)),[{x:I,y:bt},{x:J,y:bt},{x:J,y:Ht},{x:N,y:Ht}]}const tt=(B+D)/2;return[{x:I,y:tt},{x:N,y:tt}]}else if(U==="bottom"&&W==="top"){const gt=ot.containsPoint(it),q=vt.containsPoint(Q);if(gt||q){const J=(I+N)/2;return[{x:I,y:B},{x:J,y:B},{x:J,y:D},{x:N,y:D}]}if(v>D){let J=st,bt=B,Ht=D;const Vt=Dt<Lt;return(J>=R&&J<=G||J>=S&&J<=E)&&(G>=S&&Vt?J=Math.min(S,R):R<=E&&!Vt&&(J=Math.max(E,G)),bt=Math.max(B,O),Ht=Math.min(D,X),Vt&&I<g||!Vt&&I>T?bt=B:(Vt&&N<s||!Vt&&N>L)&&(Ht=D)),[{x:I,y:bt},{x:J,y:bt},{x:J,y:Ht},{x:N,y:Ht}]}const tt=(B+D)/2;return[{x:I,y:tt},{x:N,y:tt}]}else if(U==="top"&&W==="top"){if((P||Ci.rectWithRect(ot,et)||B<=h&&(ot.bottomRight().x<=N||ot.bottomLeft().x>=N)||B>=h&&(vt.bottomRight().x<=I||vt.bottomLeft().x>=I))&&I!==N)return[{x:I,y:Math.min(B,D)},{x:N,y:Math.min(B,D)}];let q,tt=Math.min((M+h)/2,D),J=Math.min((a+C)/2,B);return D<B?Lt>Dt?q=Math.min(I,S):q=Math.max(I,E):Lt>Dt?q=Math.min(N,R):q=Math.max(N,G),[{x:I,y:J},{x:q,y:J},{x:q,y:tt},{x:N,y:tt}]}else if(U==="bottom"&&W==="bottom"){if((P||Ci.rectWithRect(ot,et)||B>=D&&(ot.topRight().x<=N||ot.topLeft().x>=N)||B<=D&&(vt.topRight().x<=I||vt.topLeft().x>=I))&&I!==N)return[{x:I,y:Math.max(B,D)},{x:N,y:Math.max(B,D)}];let q,tt=Math.max((a+C)/2,D),J=Math.max((M+h)/2,B);return D>B?Lt>Dt?q=Math.min(I,S):q=Math.max(I,E):Lt>Dt?q=Math.min(N,R):q=Math.max(N,G),[{x:I,y:J},{x:q,y:J},{x:q,y:tt},{x:N,y:tt}]}else if(U==="left"&&W==="left"){if((P||Ci.rectWithRect(ot,et)||I<=N&&(ot.bottomRight().y<=D||ot.topRight().y>=D)||I>=N&&(vt.bottomRight().y<=B||vt.topRight().y>=B))&&B!==D)return[{x:Math.min(I,N),y:B},{x:Math.min(I,N),y:D}];let q,tt=Math.min((L+g)/2,N),J=Math.min((s+T)/2,I);return N>I?Et<=Ft?q=Math.min(X,D):q=Math.max(v,D):Et<=Ft?q=Math.min(k,B):q=Math.max(O,B),[{x:J,y:B},{x:J,y:q},{x:tt,y:q},{x:tt,y:D}]}else if(U==="right"&&W==="right"){if((P||Ci.rectWithRect(ot,et)||I>=N&&(ot.bottomLeft().y<=D||ot.topLeft().y>=D)||I<=N&&(vt.bottomLeft().y<=B||vt.topLeft().y>=B))&&B!==D)return[{x:Math.max(I,N),y:B},{x:Math.max(I,N),y:D}];let q,tt=Math.max((s+T)/2,N),J=Math.max((L+g)/2,I);return N<=I?Et<=Ft?q=Math.min(X,D):q=Math.max(v,D):Et<=Ft?q=Math.min(k,B):q=Math.max(O,B),[{x:J,y:B},{x:J,y:q},{x:tt,y:q},{x:tt,y:D}]}else if(U==="top"&&W==="right"){if(ot.containsPoint(p)){if(I<=E){const J=Math.max(I+f,N),bt=Math.min(X,k);return[{x:I,y:bt},{x:J,y:bt},{x:J,y:D}]}const tt=(I-f+N)/2;return[{x:I,y:B},{x:tt,y:B},{x:tt,y:D}]}if(X>D){if(I<N){let tt=k;return O<=X&&E>=I&&(tt=ut),[{x:I,y:tt},{x:N,y:tt},{x:N,y:D}]}return[{x:I,y:D}]}const q=Math.max(st,E);if(I>N&&M>=D)return[{x:I,y:B},{x:q,y:B},{x:q,y:D}];if(q>R&&B<C){const tt=Math.min(X,k),J=Math.max(G,E);return[{x:I,y:tt},{x:J,y:tt},{x:J,y:D}]}return[{x:I,y:B},{x:q,y:B},{x:q,y:D}]}else if(U==="top"&&W==="left"){if(ot.containsPoint(p)){if(I>=S){const J=Math.min(I-f,N),bt=Math.min(X,k);return[{x:I,y:bt},{x:J,y:bt},{x:J,y:D}]}const tt=(I+f+N)/2;return[{x:I,y:B},{x:tt,y:B},{x:tt,y:D}]}if(X>D){if(I>N){let tt=k;return O<=X&&S<=I&&(tt=ut),[{x:I,y:tt},{x:N,y:tt},{x:N,y:D}]}return[{x:I,y:D}]}const q=Math.min(S,st);if(I<N&&M>=D)return[{x:I,y:B},{x:q,y:B},{x:q,y:D}];if(q<G&&B<C){const tt=Math.min(X,k),J=Math.min(R,S);return[{x:I,y:tt},{x:J,y:tt},{x:J,y:D}]}return[{x:I,y:B},{x:q,y:B},{x:q,y:D}]}else if(U==="bottom"&&W==="right"){if(ot.containsPoint(p)){if(I<=E){const J=Math.max(I+f,N),bt=Math.max(v,O);return[{x:I,y:bt},{x:J,y:bt},{x:J,y:D}]}const tt=(I-f+N)/2;return[{x:I,y:B},{x:tt,y:B},{x:tt,y:D}]}if(v<D){if(I<N){let tt=O;return k>=v&&E>=I&&(tt=ut),[{x:I,y:tt},{x:N,y:tt},{x:N,y:D}]}return[{x:I,y:D}]}const q=Math.max(st,E);if(I>N&&a<=D)return[{x:I,y:B},{x:q,y:B},{x:q,y:D}];if(q>R&&B>h){const tt=Math.max(v,O),J=Math.max(G,E);return[{x:I,y:tt},{x:J,y:tt},{x:J,y:D}]}return[{x:I,y:B},{x:q,y:B},{x:q,y:D}]}else if(U==="bottom"&&W==="left"){if(ot.containsPoint(p)){if(I>=S){const J=Math.min(I-f,N),bt=Math.max(v,O);return[{x:I,y:bt},{x:J,y:bt},{x:J,y:D}]}const tt=(I+f+N)/2;return[{x:I,y:B},{x:tt,y:B},{x:tt,y:D}]}if(v<D){if(I>N){let tt=O;return k>=v&&S<=I&&(tt=ut),[{x:I,y:tt},{x:N,y:tt},{x:N,y:D}]}return[{x:I,y:D}]}const q=Math.min(S,st);if(I<N&&a<=D)return[{x:I,y:B},{x:q,y:B},{x:q,y:D}];if(q<G&&B>h){const tt=Math.max(v,O),J=Math.min(R,S);return[{x:I,y:tt},{x:J,y:tt},{x:J,y:D}]}return[{x:I,y:B},{x:q,y:B},{x:q,y:D}]}else if(U==="left"&&W==="bottom"){if(ot.containsPoint(p)){if(B<=O){const J=Math.min(R,S),bt=Math.max(B+f,D);return[{x:J,y:B},{x:J,y:bt},{x:N,y:bt}]}const tt=(B-f+D)/2;return[{x:I,y:B},{x:I,y:tt},{x:N,y:tt}]}if(R>N){if(B<D){let tt=S;return E<=R&&O>=B&&(tt=st),[{x:tt,y:B},{x:tt,y:D},{x:N,y:D}]}return[{x:N,y:B}]}const q=Math.max(O,ut);if(B>D&&L>=N)return[{x:I,y:B},{x:I,y:q},{x:N,y:q}];if(q>X&&I<T){const tt=Math.min(R,S),J=Math.max(v,O);return[{x:tt,y:B},{x:tt,y:J},{x:N,y:J}]}return[{x:I,y:B},{x:I,y:q},{x:N,y:q}]}else if(U==="left"&&W==="top"){if(ot.containsPoint(p)){if(B>=k){const J=Math.min(B-f,D),bt=Math.min(R,S);return[{x:bt,y:B},{x:bt,y:J},{x:N,y:J}]}const tt=(B+f+D)/2;return[{x:I,y:B},{x:I,y:tt},{x:N,y:tt}]}if(R>N){if(B>D){let tt=S;return E<=R&&k<=B&&(tt=st),[{x:tt,y:B},{x:tt,y:D},{x:N,y:D}]}return[{x:N,y:B}]}const q=Math.min(k,ut);if(B<D&&L>=N)return[{x:I,y:B},{x:I,y:q},{x:N,y:q}];if(q<v&&I<T){const tt=Math.min(R,S),J=Math.min(X,k);return[{x:tt,y:B},{x:tt,y:J},{x:N,y:J}]}return[{x:I,y:B},{x:I,y:q},{x:N,y:q}]}else if(U==="right"&&W==="top"){if(ot.containsPoint(p)){if(B>=k){const J=Math.max(G,E),bt=Math.min(B-f,D);return[{x:J,y:B},{x:J,y:bt},{x:N,y:bt}]}const tt=(B+f+D)/2;return[{x:I,y:B},{x:I,y:tt},{x:N,y:tt}]}if(G<N){if(B>D){let tt=E;return S>=G&&k<=B&&(tt=st),[{x:tt,y:B},{x:tt,y:D},{x:N,y:D}]}return[{x:N,y:B}]}const q=Math.min(k,ut);if(B<D&&s<=N)return[{x:I,y:B},{x:I,y:q},{x:N,y:q}];if(q<v&&I>g){const tt=Math.max(G,E),J=Math.min(X,k);return[{x:tt,y:B},{x:tt,y:J},{x:N,y:J}]}return[{x:I,y:B},{x:I,y:q},{x:N,y:q}]}else if(U==="right"&&W==="bottom"){if(ot.containsPoint(p)){if(B<=O){const J=Math.max(G,E),bt=Math.max(B+f,D);return[{x:J,y:B},{x:J,y:bt},{x:N,y:bt}]}const tt=(B-f+D)/2;return[{x:I,y:B},{x:I,y:tt},{x:N,y:tt}]}if(G<N){if(B<D){let tt=E;return S>=G&&O>=B&&(tt=st),[{x:tt,y:B},{x:tt,y:D},{x:N,y:D}]}return[{x:N,y:B}]}const q=Math.max(O,ut);if(B>D&&s<=N)return[{x:I,y:B},{x:I,y:q},{x:N,y:q}];if(q>X&&I>g){const tt=Math.max(G,E),J=Math.max(v,O);return[{x:tt,y:B},{x:tt,y:J},{x:N,y:J}]}return[{x:I,y:B},{x:I,y:q},{x:N,y:q}]}}function Fg(t,e,n){const r=t===nt.LEFT||t===nt.RIGHT;let s=0,a=0;switch(kn(Math.round(e))){case 0:case 90:s=r?0:n,a=r?n:0;break;case 180:case 270:s=r?0:-n,a=r?-n:0;break}return{dx:s,dy:a}}function Yv(t,e,n){const{sourceDirection:r=nt.AUTO,targetDirection:s=nt.AUTO}=e,a=e.margin||20,l=e.useVertices||!1,c=!!n.model.source().port,f=Mg(n.sourceView,n.sourceAnchor,n.sourceBBox,r,c,n.sourceAnchor,a),p=!!n.model.target().port,g=Mg(n.targetView,n.targetAnchor,n.targetBBox,s,p,n.targetAnchor,a);let h=[];if(!l||t.length===0)return hs(Jr(f,g));const x=t.map(M=>Ob(M)),[w]=x,[b]=ko(f,w),P=f.view&&f.view.model.isElement(),T=P?Og(f.view.model.getBBox(),b,a):null,C=P?T.containsPoint(w.point):!1;if(C){const M=_l(b,f,a),R=M.equals(w.point),G=f.point.x===w.point.x,X=f.point.y===w.point.y,v=G&&(b===nt.TOP||b===nt.BOTTOM),S=X&&(b===nt.LEFT||b===nt.RIGHT),E=new yt(f.point,M),k=E.containsPoint(w.point),O=C&&(S||v);if(R)h.push(f.point,w.point),w.direction=xr[b];else if(k||O){const U=er(k?E:new yt(f.point,w.point)),{dx:W,dy:Q}=Fg(b,U,a),it=df({point:M},w,{dx:W,dy:Q}),I=it[2],B=new yt(w.point,I),N=ti[er(B)];w.direction=N,h.push(...it)}else w.direction=b,w.margin=a,h.push(...Jr(f,w,{targetInSourceBBox:!0}),w.point)}else{const M=x[1]||g,R=Nb(f,w,M);w.direction=R,h.push(...Jr(f,w),w.point)}for(let M=0;M<x.length-1;M++){const R=x[M],G=x[M+1],X=new yt(R.point,G.point),v=er(X);if(v%90===0){const k=ti[v],O=hs([...h,R.point]),U=new yt(O[O.length-2],O[O.length-1]),W=ti[Math.round(er(U))];if(k!==xr[W]){h.push(R.point,G.point);const[,Q]=ko(R,G);G.direction=Q}else{const{loopRoute:Q,continueDirection:it}=Ng(R,G,v,a);G.direction=it,h.push(...Q)}continue}const[S,E]=Ig(R,G);R.direction=S,G.direction=E,h.push(...Jr(R,G),G.point)}const L=x[x.length-1];if(g.view&&g.view.model.isElement()){const[,M]=ko(L,g),R=_l(M,g,a),G=hs([...h,L.point]),X=new yt(G[G.length-2],G[G.length-1]),v=Math.round(er(X)),S=ti[v],E=R.equals(L.point);if(!E||E&&S===M){L.direction=S;let k=Jr(L,g);const[O,U]=hs([...k,g.point]),W=new yt(O,U),Q=Math.round(er(W)),it=ti[Q],I=Og(g.view.model.getBBox(),M,a),B=L.point.x===g.point.x,N=L.point.y===g.point.y,D=I.containsPoint(L.point),$=B&&(M===nt.TOP||M===nt.BOTTOM),_=N&&(M===nt.LEFT||M===nt.RIGHT);if(!E&&D&&(_||$)){const{dx:j,dy:mt}=Fg(M,v,a);k=df(L,{point:R},{dx:j,dy:mt})}else D&&M!==xr[S]?(L.margin=a,L.direction=M,k=Jr(L,g)):it!==S&&S===xr[it]&&(L.margin=a,k=Jr(L,g));h.push(...k)}}else{const M=L,R=g,G=new yt(M.point,R.point),X=er(G);if(X%90===0){const v=ti[X],S=hs(h),E=new yt(S[S.length-2],M.point),k=ti[Math.round(er(E))];if(v!==xr[k])h.push(M.point);else{const{loopRoute:O}=Ng(M,R,X,a);O.pop(),h.push(...O)}}else{const[v,S]=Ig(M,R);M.direction=v,R.direction=S,h.push(...Jr(M,R))}}return hs(h)}function Ig(t,e){const n=t.direction,r=Cb.includes(n);let s=t.direction,a=e.direction;if(r){const l=t.point.y>e.point.y,c=e.point.x-t.point.x;n===nt.BOTTOM?(s=l?xr[n]:c>=0?nt.RIGHT:nt.LEFT,c>0?a=l?nt.LEFT:nt.TOP:c<0&&(a=l?nt.RIGHT:nt.TOP)):(s=l?c>=0?nt.RIGHT:nt.LEFT:xr[n],c>0?a=l?nt.BOTTOM:nt.LEFT:c<0&&(a=l?nt.BOTTOM:nt.RIGHT))}else{const l=t.point.x>e.point.x,c=e.point.y-t.point.y;n===nt.RIGHT?(s=l?xr[n]:c>=0?nt.BOTTOM:nt.TOP,c>0?a=l?nt.TOP:nt.LEFT:c<0&&(a=l?nt.BOTTOM:nt.LEFT)):(s=l?c>=0?nt.BOTTOM:nt.TOP:xr[n],c>0?a=l?nt.RIGHT:nt.TOP:c<0&&(a=l?nt.RIGHT:nt.BOTTOM))}return[s,a]}Yv.Directions=nt;const Rb=Yv,Db=Object.freeze(Object.defineProperty({__proto__:null,manhattan:ff,metro:Tb,normal:lb,oneSide:ub,orthogonal:cf,rightAngle:Rb},Symbol.toStringTag,{value:"Module"}));function Bb(t,e,n,r){var s="ratio"in r?r.ratio:.5;return t.getPointAtRatio(s)}function zb(t,e,n,r){var s="length"in r?r.length:20;return t.getPointAtLength(s)}function Vb(t,e,n,r){var s=1e6,a=t.getConnection(),l=t.getConnectionSubdivisions(),c=new yt(n.clone().offset(0,s),n.clone().offset(0,-1e6)),f=new yt(n.clone().offset(s,0),n.clone().offset(-1e6,0)),p=c.intersect(a,{segmentSubdivisions:l}),g=f.intersect(a,{segmentSubdivisions:l}),h=[];return p&&Array.prototype.push.apply(h,p),g&&Array.prototype.push.apply(h,g),h.length>0?n.chooseClosest(h):"fallbackAt"in r?Xv(t,r.fallbackAt):Zv(t,e,n,r)}function Ub(t,e,n,r){var s=t.getClosestPoint(n);return s||new z}function jo(t){return function(e,n,r,s){if(r instanceof Element){var a=this.paper.findView(r),l;if(a)if(a.isNodeConnection(r)){var c="fixedAt"in s?s.fixedAt:"50%";l=Xv(a,c)}else l=a.getNodeBBox(r).center();else l=new z;return t.call(this,e,n,l,s)}return t.apply(this,arguments)}}function Xv(t,e){var n=parseFloat(e);return nn(e)?t.getPointAtRatio(n/100):t.getPointAtLength(n)}const Gb=jo(Vb),Zv=jo(Ub),$b=Object.freeze(Object.defineProperty({__proto__:null,connectionClosest:Zv,connectionLength:zb,connectionPerpendicular:Gb,connectionRatio:Bb,resolveRef:jo},Symbol.toStringTag,{value:"Module"}));function br(t){return function(e,n,r,s){var a=!!s.rotate,l=a?e.getNodeUnrotatedBBox(n):e.getNodeBBox(n),c=l[t](),f=s.dx;if(f){var p=nn(f);f=parseFloat(f),isFinite(f)&&(p&&(f/=100,f*=l.width),c.x+=f)}var g=s.dy;if(g){var h=nn(g);g=parseFloat(g),isFinite(g)&&(h&&(g/=100,g*=l.height),c.y+=g)}return a?c.rotate(e.model.getBBox().center(),-e.model.angle()):c}}function Hb(t,e,n,r){var s=t.model.angle(),a=t.getNodeBBox(e),l=a.center(),c=a.origin(),f=a.corner(),p=r.padding;if(isFinite(p)||(p=0),c.y+p<=n.y&&n.y<=f.y-p){var g=n.y-l.y;l.x+=s===0||s===180?0:g*1/Math.tan(tn(s)),l.y+=g}else if(c.x+p<=n.x&&n.x<=f.x-p){var h=n.x-l.x;l.y+=s===90||s===270?0:h*Math.tan(tn(s)),l.x+=h}return l}function Wb(t,e,n,r){var s=!!r.rotate,a,l,c;s?(a=t.getNodeUnrotatedBBox(e),c=t.model.getBBox().center(),l=t.model.angle()):a=t.getNodeBBox(e);var f=r.padding;isFinite(f)&&a.inflate(f),s&&n.rotate(c,l);var p=a.sideNearestToPoint(n),g;switch(p){case"left":g=a.leftMiddle();break;case"right":g=a.rightMiddle();break;case"top":g=a.topMiddle();break;case"bottom":g=a.bottomMiddle();break}return s?g.rotate(c,-l):g}function jb(t,e,n,r,s){return t.model.getPointFromConnectedLink(this.model,s).offset(r.dx,r.dy)}const qb=br("center"),Yb=br("topMiddle"),Xb=br("bottomMiddle"),Zb=br("leftMiddle"),Qb=br("rightMiddle"),Kb=br("origin"),Jb=br("topRight"),tE=br("bottomLeft"),eE=br("corner"),nE=jo(Hb),rE=jo(Wb),iE=jb,hf=Object.freeze(Object.defineProperty({__proto__:null,bottom:Xb,bottomLeft:tE,bottomRight:eE,center:qb,left:Zb,midSide:rE,modelCenter:iE,perpendicular:nE,right:Qb,top:Yb,topLeft:Kb,topRight:Jb},Symbol.toStringTag,{value:"Module"})),sE=ri.extend({initialize:function(t,e){e.cellNamespace?this.cellNamespace=e.cellNamespace:this.cellNamespace=typeof joint<"u"&&ir(joint,"shapes")?joint.shapes:null,this.graph=e.graph},model:function(t,e){const r=e.collection.cellNamespace,{type:s}=t,a=Ls(r,s,".");if(!a)throw new Error(`dia.Graph: Could not find cell constructor for type: '${s}'. Make sure to add the constructor to 'cellNamespace'.`);return new a(t,e)},_addReference:function(t,e){ri.prototype._addReference.apply(this,arguments),!e.dry&&!t.graph&&(t.graph=this.graph)},_removeReference:function(t,e){ri.prototype._removeReference.apply(this,arguments),!e.dry&&t.graph===this.graph&&(t.graph=null)},comparator:function(t){return t.get("z")||0}}),Zf=Pn.extend({initialize:function(t,e){e=e||{};var n=new sE([],{model:e.cellModel,cellNamespace:e.cellNamespace,graph:this});Pn.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(t){if(t.isLink()){this._edges[t.id]=!0;var{source:e,target:n}=t.attributes;e.id&&((this._out[e.id]||(this._out[e.id]={}))[t.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)}else this._nodes[t.id]=!0},_restructureOnRemove:function(t){if(t.isLink()){delete this._edges[t.id];var{source:e,target:n}=t.attributes;e.id&&this._out[e.id]&&this._out[e.id][t.id]&&delete this._out[e.id][t.id],n.id&&this._in[n.id]&&this._in[n.id][t.id]&&delete this._in[n.id][t.id]}else delete this._nodes[t.id]},_restructureOnReset:function(t){t=t.models,this._out={},this._in={},this._nodes={},this._edges={},t.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(t){var e=t.previous("source");e.id&&this._out[e.id]&&delete this._out[e.id][t.id];var n=t.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[t.id]=!0)},_restructureOnChangeTarget:function(t){var e=t.previous("target");e.id&&this._in[e.id]&&delete this._in[e.id][t.id];var n=t.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)},getOutboundEdges:function(t){return this._out&&this._out[t]||{}},getInboundEdges:function(t){return this._in&&this._in[t]||{}},toJSON:function(t={}){var e=Pn.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(t.cellAttributes),e},fromJSON:function(t,e){if(!t.cells)throw new Error("Graph JSON must contain cells array.");return this.set(t,e)},set:function(t,e,n){var r;return typeof t=="object"?(r=t,n=e):(r={})[t]=e,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=Ho(r,"cells")),Pn.prototype.set.call(this,r,n)},clear:function(t){t=wt({},t,{clear:!0});var e=this.get("cells");if(e.length===0)return this;this.startBatch("clear",t);var n=e.sortBy(function(r){return r.isLink()?1:2});do n.shift().remove(t);while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(t){let e;if(t instanceof Pn?e=t.attributes:e=t,!xe(e.type))throw new TypeError("dia.Graph: cell type must be a string.");return t},minZIndex:function(){var t=this.get("cells").first();return t&&t.get("z")||0},maxZIndex:function(){var t=this.get("cells").last();return t&&t.get("z")||0},addCell:function(t,e){return Array.isArray(t)?this.addCells(t,e):(t instanceof Pn?t.has("z")||t.set("z",this.maxZIndex()+1):t.z===void 0&&(t.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(t,e),e||{}),this)},addCells:function(t,e){return t.length===0?this:(t=tw(t),e.maxPosition=e.position=t.length-1,this.startBatch("add",e),t.forEach(function(n){this.addCell(n,e),e.position--},this),this.stopBatch("add",e),this)},resetCells:function(t,e){var n=Yt(t).map(function(r){return this._prepareCell(r,e)},this);return this.get("cells").reset(n,e),this},removeCells:function(t,e){return t.length&&(this.startBatch("remove"),rr(t,"remove",e),this.stopBatch("remove")),this},_removeCell:function(t,e,n){n=n||{},n.clear||(n.disconnectLinks?this.disconnectLinks(t,n):this.removeLinks(t,n)),this.get("cells").remove(t,{silent:!0})},transferCellEmbeds:function(t,e,n={}){const r="transfer-embeds";this.startBatch(r);const s=t.getEmbeddedCells();e.embed(s,{...n,reparent:!0}),this.stopBatch(r)},transferCellConnectedLinks:function(t,e,n={}){const r="transfer-connected-links";this.startBatch(r),this.getConnectedLinks(t,n).forEach(a=>{a.getSourceCell()===t&&a.prop(["source","id"],e.id,n),a.getTargetCell()===t&&a.prop(["target","id"],e.id,n)}),this.stopBatch(r)},getCell:function(t){return this.get("cells").get(t)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").toArray().filter(t=>t.isElement())},getLinks:function(){return this.get("cells").toArray().filter(t=>t.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(t,e){e=e||{};var n=e.indirect,r=e.inbound,s=e.outbound;r===void 0&&s===void 0&&(r=s=!0);var a=[],l={};s&&c(this,t),r&&f(this,t);function c(h,x){if(nr(h.getOutboundEdges(x.id),(function(b,P){if(!l[P]){var T=h.getCell(P);a.push(T),l[P]=!0,n&&(r&&f(h,T),s&&c(h,T))}}).bind(h)),n&&x.isLink()){var w=x.getTargetCell();w&&w.isLink()&&(l[w.id]||(a.push(w),c(h,w)))}}function f(h,x){if(nr(h.getInboundEdges(x.id),(function(b,P){if(!l[P]){var T=h.getCell(P);a.push(T),l[P]=!0,n&&(r&&f(h,T),s&&c(h,T))}}).bind(h)),n&&x.isLink()){var w=x.getSourceCell();w&&w.isLink()&&(l[w.id]||(a.push(w),f(h,w)))}}if(e.deep){var p=t.getEmbeddedCells({deep:!0}),g={};p.forEach(function(h){h.isElement()&&(g[h.id]=!0)}),p.forEach(function(h){h.isLink()||(s&&nr(this.getOutboundEdges(h.id),(function(x,w){if(!l[w]){var b=this.getCell(w),{source:P,target:T}=b.attributes,C=P.id,L=T.id;if(!e.includeEnclosed&&C&&g[C]&&L&&g[L])return;a.push(this.getCell(w)),l[w]=!0}}).bind(this)),r&&nr(this.getInboundEdges(h.id),(function(x,w){if(!l[w]){var b=this.getCell(w),{source:P,target:T}=b.attributes,C=P.id,L=T.id;if(!e.includeEnclosed&&C&&g[C]&&L&&g[L])return;a.push(this.getCell(w)),l[w]=!0}}).bind(this)))},this)}return a},getNeighbors:function(t,e){e||(e={});var n=e.inbound,r=e.outbound;n===void 0&&r===void 0&&(n=r=!0);var s=this.getConnectedLinks(t,e).reduce((function(c,f){var{source:p,target:g}=f.attributes,h=f.hasLoop(e);if(n&&ir(p,"id")&&!c[p.id]){var x=this.getCell(p.id);x.isElement()&&(h||x&&x!==t&&(!e.deep||!x.isEmbeddedIn(t)))&&(c[p.id]=x)}if(r&&ir(g,"id")&&!c[g.id]){var w=this.getCell(g.id);w.isElement()&&(h||w&&w!==t&&(!e.deep||!w.isEmbeddedIn(t)))&&(c[g.id]=w)}return c}).bind(this),{});if(t.isLink()){if(n){var a=t.getSourceCell();a&&a.isElement()&&!s[a.id]&&(s[a.id]=a)}if(r){var l=t.getTargetCell();l&&l.isElement()&&!s[l.id]&&(s[l.id]=l)}}return Yt(s)},getCommonAncestor:function(){var t=Array.from(arguments).map(function(n){for(var r=[],s=n.get("parent");s;)r.push(s),s=this.getCell(s).get("parent");return r},this);t=t.sort(function(n,r){return n.length-r.length});var e=Yt(t.shift()).find(function(n){return t.every(function(r){return r.includes(n)})});return this.getCell(e)},getSuccessors:function(t,e){e=e||{};var n=[];return this.search(t,function(r){r!==t&&n.push(r)},wt({},e,{outbound:!0})),n},cloneCells:Sv,cloneSubgraph:function(t,e){var n=this.getSubgraph(t,e);return this.cloneCells(n)},getSubgraph:function(t,e){e=e||{};var n=[],r={},s=[],a=[];return Yt(t).forEach(function(l){if(r[l.id]||(n.push(l),r[l.id]=l,l.isLink()?a.push(l):s.push(l)),e.deep){var c=l.getEmbeddedCells({deep:!0});c.forEach(function(f){r[f.id]||(n.push(f),r[f.id]=f,f.isLink()?a.push(f):s.push(f))})}}),a.forEach(function(l){var{source:c,target:f}=l.attributes;if(c.id&&!r[c.id]){var p=this.getCell(c.id);n.push(p),r[p.id]=p,s.push(p)}if(f.id&&!r[f.id]){var g=this.getCell(f.id);n.push(this.getCell(f.id)),r[g.id]=g,s.push(g)}},this),s.forEach(function(l){var c=this.getConnectedLinks(l,e);c.forEach(function(f){var{source:p,target:g}=f.attributes;!r[f.id]&&p.id&&r[p.id]&&g.id&&r[g.id]&&(n.push(f),r[f.id]=f)})},this),n},getPredecessors:function(t,e){e=e||{};var n=[];return this.search(t,function(r){r!==t&&n.push(r)},wt({},e,{inbound:!0})),n},search:function(t,e,n){n=n||{},n.breadthFirst?this.bfs(t,e,n):this.dfs(t,e,n)},bfs:function(t,e,n={}){const r={},s={},a=[];for(a.push(t),s[t.id]=0;a.length>0;){var l=a.shift();if(r[l.id]||(r[l.id]=!0,e.call(this,l,s[l.id])===!1))continue;const c=this.getNeighbors(l,n);for(let f=0,p=c.length;f<p;f++){const g=c[f];s[g.id]=s[l.id]+1,a.push(g)}}},dfs:function(t,e,n={}){const r={},s={},a=[];for(a.push(t),s[t.id]=0;a.length>0;){const l=a.pop();if(r[l.id]||(r[l.id]=!0,e.call(this,l,s[l.id])===!1))continue;const c=this.getNeighbors(l,n),f=a.length;for(let p=0,g=c.length;p<g;p++){const h=c[p];s[h.id]=s[l.id]+1,a.splice(f,0,h)}}},getSources:function(){var t=[];return nr(this._nodes,(function(e,n){(!this._in[n]||pn(this._in[n]))&&t.push(this.getCell(n))}).bind(this)),t},getSinks:function(){var t=[];return nr(this._nodes,(function(e,n){(!this._out[n]||pn(this._out[n]))&&t.push(this.getCell(n))}).bind(this)),t},isSource:function(t){return!this._in[t.id]||pn(this._in[t.id])},isSink:function(t){return!this._out[t.id]||pn(this._out[t.id])},isSuccessor:function(t,e){var n=!1;return this.search(t,function(r){if(r===e&&r!==t)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(t,e){var n=!1;return this.search(t,function(r){if(r===e&&r!==t)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(t,e,n){n=n||{};var r=n.inbound,s=n.outbound;r===void 0&&s===void 0&&(r=s=!0);var a=!1;return this.getConnectedLinks(t,n).forEach(function(l){var{source:c,target:f}=l.attributes;if(r&&ir(c,"id")&&c.id===e.id||s&&ir(f,"id")&&f.id===e.id)return a=!0,!1}),a},disconnectLinks:function(t,e){this.getConnectedLinks(t).forEach(function(n){n.set(n.attributes.source.id===t.id?"source":"target",{x:0,y:0},e)})},removeLinks:function(t,e){rr(this.getConnectedLinks(t),"remove",e)},findElementsAtPoint:function(t,e){return this._filterAtPoint(this.getElements(),t,e)},findLinksAtPoint:function(t,e){return this._filterAtPoint(this.getLinks(),t,e)},findCellsAtPoint:function(t,e){return this._filterAtPoint(this.getCells(),t,e)},_filterAtPoint:function(t,e,n={}){return t.filter(r=>r.getBBox({rotate:!0}).containsPoint(e,n))},findElementsInArea:function(t,e={}){return this._filterInArea(this.getElements(),t,e)},findLinksInArea:function(t,e={}){return this._filterInArea(this.getLinks(),t,e)},findCellsInArea:function(t,e={}){return this._filterInArea(this.getCells(),t,e)},_filterInArea:function(t,e,n={}){const r=new ht(e),{strict:s=!1}=n,a=s?"containsRect":"intersect";return t.filter(l=>r[a](l.getBBox({rotate:!0})))},findElementsUnderElement:function(t,e){return this._filterCellsUnderElement(this.getElements(),t,e)},findLinksUnderElement:function(t,e){return this._filterCellsUnderElement(this.getLinks(),t,e)},findCellsUnderElement:function(t,e){return this._filterCellsUnderElement(this.getCells(),t,e)},_isValidElementUnderElement:function(t,e){return t.id!==e.id&&!t.isEmbeddedIn(e)},_isValidLinkUnderElement:function(t,e){return t.source().id!==e.id&&t.target().id!==e.id&&!t.isEmbeddedIn(e)},_validateCellsUnderElement:function(t,e){return t.filter(n=>n.isLink()?this._isValidLinkUnderElement(n,e):this._isValidElementUnderElement(n,e))},_getFindUnderElementGeometry:function(t,e="bbox"){const n=t.getBBox({rotate:!0});return e!=="bbox"?kv(n,e):n},_filterCellsUnderElement:function(t,e,n={}){const r=this._getFindUnderElementGeometry(e,n.searchBy),s=r.type===zt.Point?this._filterAtPoint(t,r):this._filterInArea(t,r,n);return this._validateCellsUnderElement(s,e)},findModelsInArea:function(t,e){return this.findElementsInArea(t,e)},findModelsFromPoint:function(t){return this.findElementsAtPoint(t)},findModelsUnderElement:function(t,e){return this.findElementsUnderElement(t,e)},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(t,e={}){const{rotate:n=!0}=e;return Yt(t).reduce(function(r,s){const a=s.getBBox({rotate:n});return a?r?r.union(a):a:r},null)},translate:function(t,e,n){var r=this.getCells().filter(function(s){return!s.isEmbedded()});return rr(r,"translate",t,e,n),this},resize:function(t,e,n){return this.resizeCells(t,e,this.getCells(),n)},resizeCells:function(t,e,n,r){var s=this.getCellsBBox(n);if(s){var a=Math.max(t/s.width,0),l=Math.max(e/s.height,0);rr(n,"scale",a,l,s.origin(),r)}return this},startBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)+1,this.trigger("batch:start",wt({},e,{batchName:t}))},stopBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)-1,this.trigger("batch:stop",wt({},e,{batchName:t}))},hasActiveBatch:function(t){const e=this._batches;let n;return arguments.length===0?n=Object.keys(e):Array.isArray(t)?n=t:n=[t],n.some(r=>e[r]>0)}},{validations:{multiLinks:function(t,e){var{source:n,target:r}=e.attributes;if(n.id&&r.id){var s=e.getSourceCell();if(s){var a=t.getConnectedLinks(s,{outbound:!0}),l=a.filter(function(c){var{source:f,target:p}=c.attributes;return f&&f.id===n.id&&(!f.port||f.port===n.port)&&p&&p.id===r.id&&(!p.port||p.port===r.port)});if(l.length>1)return!1}}return!0},linkPinning:function(t,e){var{source:n,target:r}=e.attributes;return n.id&&r.id}}});mS(Zf.prototype,["resetCells","addCells","removeCells"],of.cells);const Ue={GRID:"grid",CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},pf=Ps.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return wr(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(t,e){this.el.insertBefore(t,this.insertPivot(e))},insertNode:function(t){const{el:e}=this;t.parentNode!==e&&e.appendChild(t)},insertPivot:function(t){const{el:e,pivotNodes:n}=this;t=+t,t||(t=0);let r=n[t];if(r)return r;r=n[t]=document.createComment("z-index:"+(t+1));let s=-1/0;for(let a in n)a=+a,a<t&&a>s&&(s=a,t-1);if(s!==-1/0){const a=n[s];e.insertBefore(r,a.nextSibling)}else e.insertBefore(r,e.firstChild);return r},removePivots:function(){const{el:t,pivotNodes:e}=this;for(let n in e)t.removeChild(e[n]);this.pivotNodes={}}}),oE=["transform","x","y","cx","cy","dx","dy","x1","y1","x2","y2","points","d","r","rx","ry","width","height","stroke-width","font-size"],aE=["r","rx","ry","width","height","stroke-width","font-size"],lE=oE.reduce((t,e)=>(t[e]=!0,t),{}),uE=aE.reduce((t,e)=>(t[e]=!0,t),{});function Rg(t,e){const n={};for(let r in t)t.hasOwnProperty(r)&&(n[r]=Qv(r,t[r],e));return n}function Qv(t,e,n){if(t in lE&&Ms(e)){let r=Ns(e,n);return t in uE&&(r=Math.max(0,r)),r}return e}const ps={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},cE={TOOLS:"TOOLS"},$t=Ps.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var t=["cell"],e=this.model.get("type");return e&&e.toLowerCase().split(".").forEach(function(n,r,s){t.push("type-"+s.slice(0,r+1).join("-"))}),t.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var t={},e={},n=0,r,s,a,l=ie(this,"presentationAttributes");for(var c in l)if(l.hasOwnProperty(c)){var f=l[c];for(Array.isArray(f)||(f=[f]),r=0,s=f.length;r<s;r++){a=f[r];var p=t[a];p||(p=t[a]=1<<n++),e[c]|=p}}var g=ie(this,"initFlag");for(Array.isArray(g)||(g=[g]),r=0,s=g.length;r<s;r++)a=g[r],t[a]||(t[a]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=t,this._presentationAttributes=e},hasFlag:function(t,e){return t&this.getFlag(e)},removeFlag:function(t,e){return t^t&this.getFlag(e)},getFlag:function(t){var e=this._flags;if(!e)return 0;var n=0;if(Array.isArray(t))for(var r=0,s=t.length;r<s;r++)n|=e[t[r]];else n|=e[t];return n},attributes:function(){var t=this.model;return{"model-id":t.id,"data-type":t.attributes.type}},constructor:function(t){t.id=t.id||bs(this),Ps.call(this,t)},initialize:function(){this.setFlags(),Ps.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(t,e){var n=t.getChangeFlag(this._presentationAttributes);e.updateHandled||!n||(e.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),e.tool&&(e.async=!1),this.requestUpdate(n,e))},requestUpdate:function(t,e){const{paper:n}=this;n&&t>0&&n.requestViewUpdate(this,t,this.UPDATE_PRIORITY,e)},parseDOMJSON:function(t,e){var n=Pl(t),r=n.selectors,s=n.groupSelectors;for(var a in s){if(r[a])throw new Error("dia.CellView: ambiguous group selector");r[a]=s[a]}if(e){var l=this.selector;if(r[l])throw new Error("dia.CellView: ambiguous root selector.");r[l]=e}return{fragment:n.fragment,selectors:r}},can:function(t){var e=Jt(this.options.interactive)?this.options.interactive(this):this.options.interactive;return qt(e)&&e[t]!==!1||Yx(e)&&e!==!1},findBySelector:function(t,e,n){if(!t||t===".")return[e];if(n){var r=n[t];if(r)return Array.isArray(r)?r:[r]}return this.useCSSSelectors?dt(e).find(t).toArray():[]},findNodes:function(t){return this.findBySelector(t,this.el,this.selectors)},findNode:function(t){const[e=null]=this.findNodes(t);return e},notify:function(t){if(this.paper){var e=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[t].concat(e)),this.paper.trigger.apply(this.paper,[t,this].concat(e))}},getBBox:function(t){var e;if(t&&t.useModelGeometry){var n=this.model;e=n.getBBox().bbox(n.angle())}else e=this.getNodeBBox(this.el);return this.paper.localToPaperRect(e)},getNodeBBox:function(t){const e=this.getNodeBoundingRect(t),n=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(t)),r=this.getNodeMatrix(t);return rt.transformRect(e,n.multiply(r))},getNodeRotateMatrix(t){return!this.rotatableNode||this.rotatableNode.contains(t)?this.getRootRotateMatrix():rt.createSVGMatrix()},getNodeUnrotatedBBox:function(t){var e=this.getNodeBoundingRect(t),n=this.getNodeMatrix(t),r=this.getRootTranslateMatrix();return rt.transformRect(e,r.multiply(n))},getRootTranslateMatrix:function(){var t=this.model,e=t.position(),n=rt.createSVGMatrix().translate(e.x,e.y);return n},getRootRotateMatrix:function(){var t=rt.createSVGMatrix(),e=this.model,n=e.angle();if(n){var r=e.getBBox(),s=r.width/2,a=r.height/2;t=t.translate(s,a).rotate(n).translate(-s,-a)}return t},_notifyHighlight:function(t,e,n={}){const{el:r}=this;let s;if(typeof e=="string"?s=this.findNode(e)||r:[s=r]=this.$(e),n.partial=s!==r,n.type===void 0){let a;switch(!0){case n.embedding:a=ps.EMBEDDING;break;case n.connecting:a=ps.CONNECTING;break;case n.magnetAvailability:a=ps.MAGNET_AVAILABILITY;break;case n.elementAvailability:a=ps.ELEMENT_AVAILABILITY;break;default:a=ps.DEFAULT;break}n.type=a}return this.notify(t,s,n),this},highlight:function(t,e){return this._notifyHighlight("cell:highlight",t,e)},unhighlight:function(t,e={}){return this._notifyHighlight("cell:unhighlight",t,e)},findMagnet:function(t){const e=this.el;let n=this.$(t)[0];n||(n=e);do{const r=n.getAttribute("magnet"),s=n===e;if((r||s)&&r!=="false")return n;if(s)return;n=n.parentNode}while(n)},findProxyNode:function(t,e){t||(t=this.el);const n=t.getAttribute(`${e}-selector`);if(n){const r=this.findNode(n);if(r)return r}return t},getSelector:function(t,e){var n;if(t===this.el)return typeof e=="string"&&(n=":scope > "+e),n;if(t){var r=rt(t).index()+1;n=t.tagName+":nth-child("+r+")",e&&(n+=" > "+e),n=this.getSelector(t.parentNode,n)}return n},addLinkFromMagnet:function(t,e,n){var r=this.paper,s=r.model,a=r.getDefaultLink(this,t);return a.set({source:this.getLinkEnd(t,e,n,a,"source"),target:{x:e,y:n}}).addTo(s,{async:!1,ui:!0}),a.findView(r)},getLinkEnd:function(t,...e){const n=this.model,r=n.id,s=this.findAttributeNode("port",t),a=t.getAttribute("joint-selector"),l={id:r};if(a!=null&&(l.magnet=a),s!=null){let c=s.getAttribute("port");s.getAttribute("port-id-type")==="number"&&(c=parseInt(c,10)),l.port=c,!n.hasPort(c)&&!a&&(l.selector=this.getSelector(t))}else a==null&&this.el!==t&&(l.selector=this.getSelector(t));return this.customizeLinkEnd(l,t,...e)},customizeLinkEnd:function(t,e,n,r,s,a){const{paper:l}=this,{connectionStrategy:c}=l.options;if(typeof c=="function"){var f=c.call(l,t,this,e,new z(n,r),s,a,l);if(f)return f}return t},getMagnetFromLinkEnd:function(t){var e=t.port,n=t.magnet,r=this.model,s;return e!=null&&r.isElement()&&r.hasPort(e)?s=this.findPortNode(e,n)||this.el:(n||(n=t.selector),!n&&e!=null&&(n='[port="'+e+'"]'),s=this.findNode(n)),this.findProxyNode(s,"magnet")},dragLinkStart:function(t,e,n,r){this.model.startBatch("add-link");const s=this.addLinkFromMagnet(e,n,r);s.notifyPointerdown(t,n,r),s.eventData(t,s.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(t,{linkView:s})},dragLink:function(t,e,n){var r=this.eventData(t),s=r.linkView;if(s)s.pointermove(t,e,n);else{var a=this.paper,l=a.options.magnetThreshold,c=this.getEventTarget(t),f=r.targetMagnet;if(l==="onleave"){if(f===c||rt(f).contains(c))return}else if(a.eventData(t).mousemoved<=l)return;this.dragLinkStart(t,f,e,n)}},dragLinkEnd:function(t,e,n){var r=this.eventData(t),s=r.linkView;s&&(s.pointerup(t,e,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(t){return this.model.constructor.getAttributeDefinition(t)},setNodeAttributes:function(t,e){pn(e)||(t instanceof SVGElement?rt(t).attr(e):dt(t).attr(e))},processNodeAttributes:function(t,e){var n,r,s,a,l,c,f,p,g,h=[];const x={};for(n in e)e.hasOwnProperty(n)&&(x[rt.attributeNames[n]]=e[n]);for(n in x)if(x.hasOwnProperty(n))if(r=x[n],s=this.getAttributeDefinition(n),s)if(r===null){let w;if(Jt(s.unset)?w=s.unset.call(this,t,x,this):w=s.unset,!w&&xe(s.set)&&(w=s.set),w||(w=n),xe(w)&&w){if(c||(c={}),w in c)continue;c[w]=r}else if(Array.isArray(w)&&w.length>0)for(c||(c={}),a=0,l=w.length;a<l;a++){const b=w[a];b in c||(c[b]=r)}}else!Jt(s.qualify)||s.qualify.call(this,r,t,x,this)?(xe(s.set)&&(c||(c={}),c[s.set]=r),h.push(n,s)):(c||(c={}),c[n]=r);else c||(c={}),c[n]=r;for(a=0,l=h.length;a<l;a+=2)n=h[a],s=h[a+1],r=e[n],Jt(s.set)&&(f||(f={}),f[n]=r),Jt(s.position)&&(p||(p={}),p[n]=r),Jt(s.offset)&&(g||(g={}),g[n]=r);return{raw:x,normal:c,set:f,position:p,offset:g}},updateRelativeAttributes:function(t,e,n,r){r||(r={});var s,a,l,c=Rg(e.raw||{},n),f=e.normal||{};for(const S in f)f[S]=c[S];var p=e.set,g=e.position,h=e.offset;for(s in p){a=c[s],l=this.getAttributeDefinition(s);var x=l.set.call(this,a,n.clone(),t,c,this);qt(x)?wt(f,x):x!==void 0&&(f[s]=x)}if(t instanceof HTMLElement){this.setNodeAttributes(t,f);return}var w=f.transform,b=rt.transformStringToMatrix(w),P=z(b.e,b.f);w&&(f=Ho(f,"transform"),b.e=b.f=0);var T,C,L;if(g||h){var M=this.getNodeScale(t,r.scalableNode);T=M.sx,C=M.sy}var R=!1;for(s in g)a=c[s],l=this.getAttributeDefinition(s),L=l.position.call(this,a,n.clone(),t,c,this),L&&(P.offset(z(L).scale(T,C)),R||(R=!0));this.setNodeAttributes(t,f);var G=!1;if(h){var X=this.getNodeBoundingRect(t);if(X.width>0&&X.height>0){var v=rt.transformRect(X,b).scale(1/T,1/C);for(s in h)a=c[s],l=this.getAttributeDefinition(s),L=l.offset.call(this,a,v,t,c,this),L&&(P.offset(z(L).scale(T,C)),G||(G=!0))}}(w!==void 0||R||G)&&(P.round(1),b.e=P.x,b.f=P.y,t.setAttribute("transform",rt.matrixToTransformString(b)))},getNodeScale:function(t,e){var n,r;if(e&&e.contains(t)){var s=e.scale();n=1/s.sx,r=1/s.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},cleanNodeCache:function(t){const e=t.id;e&&delete this.metrics[e]},nodeCache:function(t){var e=this.metrics;if(!e)return{};var n=rt.ensureId(t),r=e[n];return r||(r=e[n]={}),r},getNodeData:function(t){var e=this.nodeCache(t);return e.data||(e.data={}),e.data},getNodeBoundingRect:function(t){var e=this.nodeCache(t);return e.boundingRect===void 0&&(e.boundingRect=rt(t).getBBox()),new ht(e.boundingRect)},getNodeMatrix:function(t){const e=this.nodeCache(t);if(e.magnetMatrix===void 0){const{rotatableNode:n,el:r}=this;let s;n&&n.contains(t)?s=n:s=r,e.magnetMatrix=rt(t).getTransformToElement(s)}return rt.createSVGMatrix(e.magnetMatrix)},getNodeShape:function(t){var e=this.nodeCache(t);return e.geometryShape===void 0&&(e.geometryShape=rt(t).toGeometryShape()),e.geometryShape.clone()},isNodeConnection:function(t){return this.model.isLink()&&(!t||t===this.el)},findNodesAttributes:function(t,e,n,r){var s,a,l,c,f={},p=[];for(var g in t)if(t.hasOwnProperty(g)&&(l=t[g],!!ye(l))){var h=n[g]=this.findBySelector(g,e,r);for(s=0,a=h.length;s<a;s++){var x=h[s];c=rt.ensureId(x);var w=r&&r[g]===x,b=f[c];if(b){b.array||(p.push(c),b.array=!0,b.attributes=[b.attributes],b.selectedLength=[b.selectedLength]);var P=b.attributes,T=b.selectedLength;if(w)P.unshift(l),T.unshift(-1);else{var C=sv(T,a);P.splice(C,0,l),T.splice(C,0,a)}}else f[c]={attributes:l,selectedLength:w?-1:a,node:x,array:!1}}}for(s=0,a=p.length;s<a;s++)c=p[s],l=f[c],l.attributes=Ee({},...l.attributes.reverse());return f},getEventTarget:function(t,e={}){const{target:n,type:r,clientX:s=0,clientY:a=0}=t;return e.fromPoint||r==="touchmove"||r==="touchend"||"pointerId"in t&&n.hasPointerCapture(t.pointerId)?document.elementFromPoint(s,a):n},updateDOMSubtreeAttributes:function(t,e,n){n||(n={}),n.rootBBox||(n.rootBBox=ht()),n.selectors||(n.selectors=this.selectors);var r={},s={},a=[],l=[],c,f,p,g,h,x=n.roAttributes,w=this.findNodesAttributes(x||e,t,r,n.selectors),b=x?this.findNodesAttributes(e,t,r,n.selectors):w;for(var P in w)if(g=w[P],p=g.attributes,f=g.node,h=this.processNodeAttributes(f,p),!h.set&&!h.position&&!h.offset&&!h.raw.ref)this.setNodeAttributes(f,Rg(h.normal,n.rootBBox));else{var T=b[P]&&b[P].attributes,C=T&&p.ref===void 0?T.ref:p.ref,L;if(C){if(L=(r[C]||this.findBySelector(C,t,n.selectors))[0],!L)throw new Error('dia.CellView: "'+C+'" reference does not exist.')}else L=null;if(c={node:f,refNode:L,processedAttributes:h,allAttributes:T},L){var M=l.findIndex(function(R){return R.refNode===f});M>-1?l.splice(M,0,c):l.push(c)}else a.push(c)}a.push(...l);for(let R=0,G=a.length;R<G;R++){c=a[R],f=c.node,L=c.refNode;const X=L?rt.ensureId(L):"";let v=s[X];v||(v=s[X]=L?rt(L).getBBox({target:fE(f,L)}):n.rootBBox),x?(h=this.processNodeAttributes(f,c.allAttributes),this.mergeProcessedAttributes(h,c.processedAttributes)):h=c.processedAttributes,this.updateRelativeAttributes(f,h,v,n)}},mergeProcessedAttributes:function(t,e){t.set||(t.set={}),t.position||(t.position={}),t.offset||(t.offset={}),wt(t.set,e.set),wt(t.position,e.position),wt(t.offset,e.offset);var n=t.normal&&t.normal.transform;n!==void 0&&e.normal&&(e.normal.transform=n),t.normal=e.normal},onMount(t){t||(this.mountTools(),Un.mount(this))},onDetach(){this.unmountTools(),Un.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(t){var e=this._toolsView;return e?t?e.getName()===t:!0:!1},addTools:function(t){return this.removeTools(),t&&(this._toolsView=t,t.configure({relatedView:this}),t.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const t=this._toolsView;return t&&t.unmount(),this},mountTools(){const t=this._toolsView;return t&&!t.isMounted()&&t.mount(),this},updateTools:function(t){var e=this._toolsView;return e&&e.update(t),this},removeTools:function(){var t=this._toolsView;return t&&(t.remove(),this._toolsView=null),this},hideTools:function(){var t=this._toolsView;return t&&t.hide(),this},showTools:function(){var t=this._toolsView;return t&&t.show(),this},onToolEvent:function(t){switch(t){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){Un.remove(this)},updateHighlighters:function(t=!1){Un.update(this,null,t)},transformHighlighters:function(){Un.transform(this)},preventDefaultInteraction(t){this.eventData(t,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(t){const{defaultInteractionPrevented:e=!1}=this.eventData(t);return e},pointerdblclick:function(t,e,n){this.notify("cell:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){this.notify("cell:pointerclick",t,e,n)},contextmenu:function(t,e,n){this.notify("cell:contextmenu",t,e,n)},pointerdown:function(t,e,n){const{model:r}=this,{graph:s}=r;s&&(r.startBatch("pointer"),this.eventData(t,{graph:s})),this.notify("cell:pointerdown",t,e,n)},pointermove:function(t,e,n){this.notify("cell:pointermove",t,e,n)},pointerup:function(t,e,n){const{graph:r}=this.eventData(t);this.notify("cell:pointerup",t,e,n),r&&r.stopBatch("pointer",{cell:this.model})},mouseover:function(t){this.notify("cell:mouseover",t)},mouseout:function(t){this.notify("cell:mouseout",t)},mouseenter:function(t){this.notify("cell:mouseenter",t)},mouseleave:function(t){this.notify("cell:mouseleave",t)},mousewheel:function(t,e,n,r){this.notify("cell:mousewheel",t,e,n,r)},onevent:function(t,e,n,r){this.notify(e,t,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(t){const{paper:e,model:n}=this;if(e.isAsync()){if(n.isLink()){const a=n.getSourceElement();if(a){const c=e.findViewByModel(a);c&&(e.dumpView(c),e.checkViewVisibility(c))}const l=n.getTargetElement();if(l){const c=e.findViewByModel(l);c&&(e.dumpView(c),e.checkViewVisibility(c))}}e.dumpView(this),e.checkViewVisibility(this)}const r=this.getEventTarget(t,{fromPoint:!0}),s=e.findView(r);s!==this&&(this.mouseleave(t),s&&s.mouseenter(t))},setInteractivity:function(t){this.options.interactive=t},isIntersecting:function(t,e){return Ci.exists(t,this.getNodeBBox(this.el),e)},isEnclosedIn:function(t){return t.containsRect(this.getNodeBBox(this.el))},isInArea:function(t,e={}){return e.strict?this.isEnclosedIn(t):this.isIntersecting(t)},isAtPoint:function(t,e){return this.getNodeBBox(this.el).containsPoint(t,e)}},{Flags:cE,Highlighting:ps,addPresentationAttributes:function(t){return Ee({},ie(this.prototype,"presentationAttributes"),t,function(e,n){if(!(!e||!n)&&(typeof e=="string"&&(e=[e]),typeof n=="string"&&(n=[n]),Array.isArray(e)&&Array.isArray(n)))return Ni(e.concat(n))})},evalAttribute:Qv});Object.defineProperty($t.prototype,"useCSSSelectors",{get(){const t=this.model.useCSSSelectors;return t!==void 0?t:As.useCSSSelectors}});function fE(t,e){let n=t;do{if(n.contains(e))return n;n=n.parentNode}while(n);return null}const jt={TOOLS:$t.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},gs={MOVE:"move",MAGNET:"magnet"},Ts=$t.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var t=$t.prototype.className.apply(this).split(" ");return t.push("element"),t.join(" ")},initialize:function(){$t.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[jt.UPDATE],position:[jt.TRANSLATE,jt.TOOLS],size:[jt.RESIZE,jt.PORTS,jt.TOOLS],angle:[jt.ROTATE,jt.TOOLS],markup:[jt.RENDER],ports:[jt.PORTS]},initFlag:[jt.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(t,e){const{useCSSSelectors:n}=this;this.hasFlag(t,jt.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(t,jt.RENDER))this.render(),this.updateTools(e),this.updateHighlighters(!0),r=!0,t=this.removeFlag(t,[jt.RENDER,jt.UPDATE,jt.RESIZE,jt.TRANSLATE,jt.ROTATE,jt.PORTS,jt.TOOLS]);else{let s=!1;this.hasFlag(t,jt.RESIZE)&&(this.resize(e),s=!0,t=this.removeFlag(t,[jt.RESIZE,jt.UPDATE]),n&&(t=this.removeFlag(t,jt.PORTS))),this.hasFlag(t,jt.UPDATE)&&(this.update(this.model,null,e),t=this.removeFlag(t,jt.UPDATE),s=!0,n&&(t=this.removeFlag(t,jt.PORTS))),this.hasFlag(t,jt.TRANSLATE)&&(this.translate(),t=this.removeFlag(t,jt.TRANSLATE),r=!0),this.hasFlag(t,jt.ROTATE)&&(this.rotate(),t=this.removeFlag(t,jt.ROTATE),r=!0),this.hasFlag(t,jt.PORTS)&&(this._renderPorts(),s=!0,t=this.removeFlag(t,jt.PORTS)),s&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(t,jt.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,jt.TOOLS)),t},_initializePorts:function(){},update:function(t,e){this.cleanNodesCache();const{useCSSSelectors:n}=this;n&&this._removePorts();var r=this.model,s=r.attr();this.updateDOMSubtreeAttributes(this.el,s,{rootBBox:new ht(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:e===s?null:e}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.ElementView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if(typeof e=="string")return this.renderStringMarkup(e);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el),n=this.selectors=e.selectors;this.rotatableNode=rt(n[this.rotatableSelector])||null,this.scalableNode=rt(n[this.scalableSelector])||null,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=this.vel;e.append(rt(t)),this.rotatableNode=e.findOne(".rotatable"),this.scalableNode=e.findOne(".scalable");var n=this.selectors={};n[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this.useCSSSelectors||this._renderPorts(),this},resize:function(t){if(this.scalableNode)return this.sgResize(t);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var t=this.getTranslateString(),e=this.getRotateString();e&&(t+=" "+e),this.vel.attr("transform",t)},getTranslateString:function(){const{x:t,y:e}=this.model.position();return`translate(${t},${e})`},getRotateString:function(){const t=this.model.angle();if(!t)return null;const{width:e,height:n}=this.model.size();return`rotate(${t},${e/2},${n/2})`},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(t){var e=this.model,n=e.angle(),r=e.size(),s=this.scalableNode,a=!1;s.node.getElementsByTagName("path").length>0&&(a=!0);var l=s.getBBox({recursive:a}),c=r.width/(l.width||1),f=r.height/(l.height||1);s.attr("transform","scale("+c+","+f+")");var p=this.rotatableNode,g=p&&p.attr("transform");if(g){p.attr("transform",g+" rotate("+-n+","+r.width/2+","+r.height/2+")");var h=s.getBBox({target:this.paper.cells});e.set("position",{x:h.x,y:h.y},wt({updateHandled:!0},t)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(t={}){const e=t.model||this.model,r=(t.paper||this.paper).model,s=t.initialZIndices={},a=e.getEmbeddedCells({deep:!0}),l=r.getConnectedLinks(e,{deep:!0,includeEnclosed:!0});[e,...a,...l].forEach(p=>s[p.id]=p.attributes.z),e.startBatch("to-front"),e.toFront({deep:!0,ui:!0});const c=r.getElements().reduce((p,g)=>Math.max(p,g.attributes.z||0),0);l.forEach(p=>{p.attributes.z<=c&&p.set("z",c+1,{ui:!0})}),e.stopBatch("to-front");const f=e.parent();f?(r.getCell(f).unembed(e,{ui:!0}),t.initialParentId=f):t.initialParentId=null},processEmbedding:function(t={},e,n,r){const s=t.model||this.model,a=t.paper||this.paper,l=a.model,{findParentBy:c,frontParentOnly:f,validateEmbedding:p}=a.options;let g;Jt(c)?g=Yt(c.call(l,this,e,n,r)):c==="pointer"?g=l.findElementsAtPoint({x:n,y:r}):g=l.findElementsUnderElement(s,{searchBy:c}),g=g.filter(w=>w instanceof or&&s.id!==w.id&&!w.isEmbeddedIn(s)),f&&(g=g.slice(-1));let h=null;const x=t.candidateEmbedView;for(let w=g.length-1;w>=0;w--){const b=g[w];if(x&&x.model.id==b.id){h=x;break}else{const P=b.findView(a);if(!Jt(p)||p.call(a,this,P)){h=P;break}}}h&&h!=x&&(this.clearEmbedding(t),t.candidateEmbedView=h.highlight(h.findProxyNode(null,"container"),{embedding:!0})),!h&&x&&this.clearEmbedding(t)},clearEmbedding:function(t){t||(t={});var e=t.candidateEmbedView;e&&(e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null)},finalizeEmbedding:function(t={}){const e=t.candidateEmbedView,n=t.model||this.model,r=t.paper||this.paper;if(e)e.model.embed(n,{ui:!0}),e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null;else{const{validateUnembedding:s}=r.options,{initialParentId:a}=t;if(a&&typeof s=="function"&&!s.call(r,this)){this._disallowUnembed(t);return}}r.model.getConnectedLinks(n,{deep:!0}).forEach(s=>{s.reparent({ui:!0})})},_disallowUnembed:function(t){const{model:e,whenNotAllowed:n="revert"}=t,r=e||this.model,a=(t.paper||this.paper).model;switch(n){case"remove":{r.remove({ui:!0});break}case"revert":{const{initialParentId:l,initialPosition:c,initialZIndices:f}=t;if(c){const{x:g,y:h}=c;r.position(g,h,{deep:!0,ui:!0})}f&&Object.keys(f).forEach(g=>{const h=a.getCell(g);h&&h.set("z",f[g],{ui:!0})});const p=a.getCell(l);p&&p.embed(r,{ui:!0});break}}},getTargetParentView:function(t){const{candidateEmbedView:e=null}=this.eventData(t);return e},getDelegatedView:function(){for(var t=this,e=t.model,n=t.paper;t&&!e.isLink();){if(!e.isEmbedded()||t.can("stopDelegation"))return t;e=e.getParentCell(),t=n.findViewByModel(e)}return null},findProxyNode:function(t,e){t||(t=this.el);const n=t.getAttribute(`${e}-selector`);if(n){const r=this.findAttribute("port",t);if(r){const s=this.findPortNode(r,n);if(s)return s}else{const s=this.findNode(n);if(s)return s}}return t},notifyPointerdown(t,e,n){$t.prototype.pointerdown.call(this,t,e,n),this.notify("element:pointerdown",t,e,n)},notifyPointermove(t,e,n){$t.prototype.pointermove.call(this,t,e,n),this.notify("element:pointermove",t,e,n)},notifyPointerup(t,e,n){this.notify("element:pointerup",t,e,n),$t.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){$t.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){$t.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",t,e,n)},contextmenu:function(t,e,n){$t.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",t,e,n)},pointerdown:function(t,e,n){this.notifyPointerdown(t,e,n),this.dragStart(t,e,n)},pointermove:function(t,e,n){const r=this.eventData(t),{targetMagnet:s,action:a,delegatedView:l}=r;switch(s&&this.magnetpointermove(t,s,e,n),a){case gs.MAGNET:this.dragMagnet(t,e,n);break;case gs.MOVE:(l||this).drag(t,e,n);default:if(r.preventPointerEvents)break;this.notifyPointermove(t,e,n);break}this.eventData(t,r)},pointerup:function(t,e,n){const r=this.eventData(t),{targetMagnet:s,action:a,delegatedView:l}=r;switch(s&&this.magnetpointerup(t,s,e,n),a){case gs.MAGNET:this.dragMagnetEnd(t,e,n);break;case gs.MOVE:(l||this).dragEnd(t,e,n);default:if(r.preventPointerEvents)break;this.notifyPointerup(t,e,n)}s&&this.magnetpointerclick(t,s,e,n),this.checkMouseleave(t)},mouseover:function(t){$t.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",t)},mouseout:function(t){$t.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",t)},mouseenter:function(t){$t.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",t)},mouseleave:function(t){$t.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",t)},mousewheel:function(t,e,n,r){$t.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",t,e,n,r)},onmagnet:function(t,e,n){const{currentTarget:r}=t;this.magnetpointerdown(t,r,e,n),this.eventData(t,{targetMagnet:r}),this.dragMagnetStart(t,e,n)},magnetpointerdown:function(t,e,n,r){this.notify("element:magnet:pointerdown",t,e,n,r)},magnetpointermove:function(t,e,n,r){this.notify("element:magnet:pointermove",t,e,n,r)},magnetpointerup:function(t,e,n,r){this.notify("element:magnet:pointerup",t,e,n,r)},magnetpointerdblclick:function(t,e,n,r){this.notify("element:magnet:pointerdblclick",t,e,n,r)},magnetcontextmenu:function(t,e,n,r){this.notify("element:magnet:contextmenu",t,e,n,r)},dragStart:function(t,e,n){if(this.isDefaultInteractionPrevented(t))return;var r=this.getDelegatedView();if(!r||!r.can("elementMove"))return;this.eventData(t,{action:gs.MOVE,delegatedView:r});const s=r.model.position();r.eventData(t,{initialPosition:s,pointerOffset:s.difference(e,n),restrictedArea:this.paper.getRestrictedArea(r,e,n)})},dragMagnetStart:function(t,e,n){const{paper:r}=this,s=t.isPropagationStopped();if(s&&this.eventData(t,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(t)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:a=t.currentTarget}=this.eventData(t);if(t.stopPropagation(),!r.options.validateMagnet.call(r,this,a,t)){s?this.dragStart(t,e,n):this.pointerdown(t,e,n);return}r.options.magnetThreshold<=0&&this.dragLinkStart(t,a,e,n),this.eventData(t,{action:gs.MAGNET})},drag:function(t,e,n){var r=this.paper,s=r.options.gridSize,a=this.model,l=this.eventData(t),{pointerOffset:c,restrictedArea:f,embedding:p}=l,g=Mi(e+c.x,s),h=Mi(n+c.y,s);a.position(g,h,{restrictedArea:f,deep:!0,ui:!0}),r.options.embeddingMode&&(p||(this.prepareEmbedding(l),p=!0),this.processEmbedding(l,t,e,n)),this.eventData(t,{embedding:p})},dragMagnet:function(t,e,n){this.dragLink(t,e,n)},dragEnd:function(t,e,n){var r=this.eventData(t);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(t,e,n){this.dragLinkEnd(t,e,n)},magnetpointerclick:function(t,e,n,r){var s=this.paper;s.eventData(t).mousemoved>s.options.clickThreshold||this.notify("element:magnet:pointerclick",t,e,n,r)}},{Flags:jt});wt(Ts.prototype,GS);const Wt={TOOLS:$t.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LABELS:"LABELS",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},_o=$t.extend({className:function(){var t=$t.prototype.className.apply(this).split(" ");return t.push("link"),t.join(" ")},_labelCache:null,_labelSelectors:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){$t.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[Wt.RENDER],attrs:[Wt.UPDATE],router:[Wt.UPDATE],connector:[Wt.CONNECTOR],labels:[Wt.LABELS,Wt.TOOLS],labelMarkup:[Wt.LABELS],vertices:[Wt.UPDATE],source:[Wt.SOURCE,Wt.UPDATE],target:[Wt.TARGET,Wt.UPDATE]},initFlag:[Wt.RENDER,Wt.SOURCE,Wt.TARGET,Wt.TOOLS],UPDATE_PRIORITY:1,EPSILON:1e-6,confirmUpdate:function(t,e){if(e||(e={}),this.hasFlag(t,Wt.SOURCE)){if(!this.updateEndProperties("source"))return t;t=this.removeFlag(t,Wt.SOURCE)}if(this.hasFlag(t,Wt.TARGET)){if(!this.updateEndProperties("target"))return t;t=this.removeFlag(t,Wt.TARGET)}const{paper:n,sourceView:r,targetView:s}=this;if(n&&(r&&!n.isViewMounted(r)||s&&!n.isViewMounted(s)))return t;if(this.hasFlag(t,Wt.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(e),t=this.removeFlag(t,[Wt.RENDER,Wt.UPDATE,Wt.LABELS,Wt.TOOLS,Wt.CONNECTOR]),Rv.test("isSafari")&&this.__fixSafariBug268376(),t;let a=!1;const{model:l}=this,{attributes:c}=l;let f=this.hasFlag(t,Wt.LABELS);f&&(this.onLabelsChange(l,c.labels,e),t=this.removeFlag(t,Wt.LABELS),a=!0);const p=this.hasFlag(t,Wt.UPDATE),g=this.hasFlag(t,Wt.CONNECTOR);return(p||g)&&(p?e.translateBy&&l.isRelationshipEmbeddedIn(e.translateBy)?this.translate(e.tx,e.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(e),t=this.removeFlag(t,[Wt.UPDATE,Wt.TOOLS,Wt.CONNECTOR]),f=!1,a=!0),f&&this.updateLabelPositions(),a&&this.updateHighlighters(),this.hasFlag(t,Wt.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,Wt.TOOLS)),t},__fixSafariBug268376:function(){const{el:t}=this,e=Array.from(t.childNodes),n=document.createDocumentFragment();for(let r=0,s=e.length;r<s;r++)t.removeChild(e[r]),n.appendChild(e[r]);t.appendChild(n)},requestConnectionUpdate:function(t){this.requestUpdate(this.getFlag(Wt.UPDATE),t)},isLabelsRenderRequired:function(t={}){const e=this.model.previous("labels");if(!e)return!0;if("propertyPathArray"in t&&"propertyValue"in t){var n=t.propertyPathArray||[],r=n.length;if(r>1){var s=!!e[n[1]];if(s){if(r===2)return"markup"in Object(t.propertyValue);if(n[2]!=="markup")return!1}}}return!0},onLabelsChange:function(t,e,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.LinkView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if(typeof e=="string")return this.renderStringMarkup(e);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el);this.selectors=e.selectors,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=rt(t);Array.isArray(e)||(e=[e]),this.vel.append(e)},_getLabelMarkup:function(t){if(t){if(Array.isArray(t))return this.parseDOMJSON(t,null);if(typeof t=="string")return this._getLabelStringMarkup(t);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(t){var e=rt(t),n=document.createDocumentFragment();if(!Array.isArray(e))n.appendChild(e.node);else for(var r=0,s=e.length;r<s;r++){var a=e[r].node;n.appendChild(a)}return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(t){if(t){var e=t.fragment;if(!(t.fragment instanceof DocumentFragment)||!t.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var n,r=e.childNodes;return r.length>1||r[0].nodeName.toUpperCase()!=="G"?n=rt("g").append(e):n=rt(r[0]),n.addClass("label"),{node:n.node,selectors:t.selectors}}},renderLabels:function(){var t=this._V,e=t.labels,n=this._labelCache={},r=this._labelSelectors={},s=this.model,a=s.attributes.labels||[],l=a.length;if(l===0)return e&&e.remove(),this;e?e.empty():(e=t.labels=rt("g").addClass("labels"),this.options.labelsLayer&&(e.addClass(wr(ie(this,"className"))),e.attr("model-id",s.id)));for(var c=0;c<l;c++){var f=a[c],p=this._normalizeLabelMarkup(this._getLabelMarkup(f.markup)),g,h;if(p)g=p.node,h=p.selectors;else{var x=s._builtins.defaultLabel,w=this._normalizeLabelMarkup(this._getLabelMarkup(x.markup)),b=s._getDefaultLabel(),P=this._normalizeLabelMarkup(this._getLabelMarkup(b.markup)),T=P||w;g=T.node,h=T.selectors}g.setAttribute("label-idx",c),e.append(g),n[c]=g;var C=this.selector;if(h[C])throw new Error("dia.LinkView: ambiguous label root selector.");h[C]=g,r[c]=h}return e.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:t,paper:e,model:n,_V:r,options:s}=this,{labels:a}=r;if(!a||!n.hasLabels())return;const{node:l}=a;s.labelsLayer?e.getLayerView(s.labelsLayer).insertSortedNode(l,n.get("z")):l.parentNode!==t&&t.appendChild(l)},unmountLabels:function(){const{options:t,_V:e}=this;if(!e)return;const{labels:n}=e;n&&t.labelsLayer&&n.remove()},findLabelNodes:function(t,e){const n=this._labelCache[t];if(!n)return[];const r=this._labelSelectors[t];return this.findBySelector(e,n,r)},findLabelNode:function(t,e){const[n=null]=this.findLabelNodes(t,e);return n},_mergeLabelAttrs:function(t,e,n,r){return e===null?null:e===void 0?n===null?null:n===void 0?t?void 0:r:t?n:Ee({},r,n):t?Ee({},n,e):Ee({},r,n,e)},_mergeLabelSize:function(t,e){return t===null?null:t===void 0?e===null?null:e===void 0?void 0:e:Ee({},e,t)},updateLabels:function(){if(!this._V.labels)return this;this.paper.options.labelLayer||this.cleanNodeCache(this.el);for(var t=this.model,e=t.get("labels")||[],n=this.can("labelMove"),r=t._builtins.defaultLabel,s=r.attrs,a=t._getDefaultLabel(),l=a.markup,c=a.attrs,f=a.size,p=0,g=e.length;p<g;p++){var h=this._labelCache[p];h.setAttribute("cursor",n?"move":"default");var x=this._labelSelectors[p],w=e[p],b=w.markup,P=w.attrs,T=w.size,C=this._mergeLabelAttrs(b||l,P,c,s),L=this._mergeLabelSize(T,f);this.updateDOMSubtreeAttributes(h,C,{rootBBox:new ht(L),selectors:x})}return this},removeRedundantLinearVertices:function(t){const n=this.model,r=n.vertices(),s=[this.sourceAnchor,...r,this.targetAnchor],a=s.length,l=new se(s);l.simplify({threshold:.001});const c=l.points.map(p=>p.toJSON()),f=c.length;return a===f?0:(n.vertices(c.slice(1,f-1),t),a-f)},getEndView:function(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(t){switch(t){case"source":return new z(this.sourceAnchor);case"target":return new z(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(t){switch(t){case"source":return new z(this.sourcePoint);case"target":return new z(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(t){switch(t){case"source":var e=this.sourceView;if(!e)break;return this.sourceMagnet||e.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(t=0,e=0){const{route:n,path:r}=this;if(!n||!r)return;const s=new se(n);s.translate(t,e),this.route=s.points,this.sourcePoint.offset(t,e),this.targetPoint.offset(t,e),this.sourceAnchor.offset(t,e),this.targetAnchor.offset(t,e),r.translate(t,e),this.updateDOM()},updateDOM(){const{el:t,model:e,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(t,e.attr(),{selectors:n}),this.updateLabelPositions(),this.options.perpendicular=null},updateRoute:function(){const{model:t}=this,e=t.vertices(),n=this.findAnchors(e),r=this.sourceAnchor=n.source,s=this.targetAnchor=n.target,a=this.findRoute(e);this.route=a;var l=this.findConnectionPoints(a,r,s);this.sourcePoint=l.source,this.targetPoint=l.target},updatePath:function(){const{route:t,sourcePoint:e,targetPoint:n}=this,r=this.findPath(t,e.clone(),n.clone());this.path=r},findAnchorsOrdered:function(t,e,n,r){var s,a,l,c,f=this.model,p=f.get(t),g=f.get(n),h=this.getEndView(t),x=this.getEndView(n),w=this.getEndMagnet(t),b=this.getEndMagnet(n);h?(e?l=new z(e):x?l=b:l=new z(g),s=this.getAnchor(p.anchor,h,w,l,t)):s=new z(p),x?(c=new z(r||s),a=this.getAnchor(g.anchor,x,b,c,n)):a=new z(g);var P={};return P[t]=s,P[n]=a,P},findAnchors:function(t){var e=this.model,n=t[0],r=t[t.length-1];return e.target().priority&&!e.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(t,e,n){var r=t[0],s=t[t.length-1],a=this.model,l=a.get("source"),c=a.get("target"),f=this.sourceView,p=this.targetView,g=this.paper.options,h,x,w;if(f&&!f.isNodeConnection(this.sourceMagnet)){h=this.sourceMagnet||f.el;var b=l.connectionPoint||g.defaultConnectionPoint,P=r||n,T=new yt(P,e);w=this.getConnectionPoint(b,f,h,T,"source")}else w=e;var C;if(p&&!p.isNodeConnection(this.targetMagnet)){x=this.targetMagnet||p.el;var L=c.connectionPoint||g.defaultConnectionPoint,M=s||e,R=new yt(M,n);C=this.getConnectionPoint(L,p,x,R,"target")}else C=n;return{source:w,target:C}},getAnchor:function(t,e,n,r,s){var a=e.isNodeConnection(n),l=this.paper.options;if(t||(a?t=l.defaultLinkAnchor:this.options.perpendicular?t={name:"perpendicular"}:t=l.defaultAnchor),!t)throw new Error("Anchor required.");var c;if(typeof t=="function")c=t;else{var f=t.name,p=a?"linkAnchorNamespace":"anchorNamespace";if(c=l[p][f],typeof c!="function")throw new Error("Unknown anchor: "+f)}var g=c.call(this,e,n,r,t.args||{},s,this);return g?g.round(this.decimalsRounding):new z},getConnectionPoint:function(t,e,n,r,s){var a,l=r.end,c=this.paper.options;if(!t)return l;var f;if(typeof t=="function")f=t;else{var p=t.name;if(f=c.connectionPointNamespace[p],typeof f!="function")throw new Error("Unknown connection point: "+p)}return a=f.call(this,r,e,n,t.args||{},s,this),a?a.round(this.decimalsRounding):l},isIntersecting:function(t,e){const n=this.getConnection();return n?Ci.exists(t,n,e,{segmentSubdivisions:this.getConnectionSubdivisions()}):!1},isEnclosedIn:function(t){const e=this.getConnection();if(!e)return!1;const n=e.bbox();return n?t.containsRect(n):!1},isAtPoint:function(t){const e=new ht(t);return e.inflate(this.EPSILON),this.isIntersecting(e)},_getDefaultLabelPositionProperty:function(){var t=this.model,e=t._builtins.defaultLabel,n=e.position,r=t._getDefaultLabel(),s=this._normalizeLabelPosition(r.position);return Ee({},n,s)},_normalizeLabelPosition:function(t){return typeof t=="number"?{distance:t,offset:null,angle:0,args:null}:t},_mergeLabelPositionProperty:function(t,e){return t===null?null:t===void 0?e===null?null:e:Ee({},e,t)},updateLabelPositions:function(){if(!this._V.labels)return this;var t=this.path;if(!t)return this;var e=this.model,n=e.get("labels")||[];if(!n.length)return this;for(var r=this._getDefaultLabelPositionProperty(),s=0,a=n.length;s<a;s++){var l=this._labelCache[s];if(l){var c=n[s],f=this._normalizeLabelPosition(c.position),p=this._mergeLabelPositionProperty(f,r),g=this._getLabelTransformationMatrix(p);l.setAttribute("transform",rt.matrixToTransformString(g)),this._cleanLabelMatrices(s)}}return this},_cleanLabelMatrices:function(t){const{metrics:e,_labelSelectors:n}=this,r=n[t];if(r)for(let s in r){const{id:a}=r[s];a&&a in e&&delete e[a].magnetMatrix}},updateEndProperties:function(t){const{model:e,paper:n}=this,r=`${t}View`,s=e.get(t),a=s&&s.id;if(!a)return this[r]=null,this.updateEndMagnet(t),!0;const l=n.getModelById(a);if(!l)throw new Error("LinkView: invalid "+t+" cell.");const c=l.findView(n);return c?(this[r]=c,this.updateEndMagnet(t),!0):!1},updateEndMagnet:function(t){const e=`${t}Magnet`,n=this.getEndView(t);if(n){let r=n.getMagnetFromLinkEnd(this.model.get(t));r===n.el&&(r=null),this[e]=r}else this[e]=null},_getLabelPositionProperty:function(t){return this.model.label(t).position||{}},_getLabelPositionAngle:function(t){var e=this._getLabelPositionProperty(t);return e.angle||0},_getLabelPositionArgs:function(t){var e=this._getLabelPositionProperty(t);return e.args},_getDefaultLabelPositionArgs:function(){var t=this.model._getDefaultLabel(),e=t.position||{};return e.args},_mergeLabelPositionArgs:function(t,e){return t===null?null:t===void 0?e===null?null:e:Ee({},e,t)},addLabel:function(t,e,n,r){var s,a,l=0,c;typeof t!="number"?(s=t.x,a=t.y,typeof e=="number"?(l=e,c=n):c=e):(s=t,a=e,typeof n=="number"?(l=n,c=r):c=n);var f=this._getDefaultLabelPositionArgs(),p=c,g=this._mergeLabelPositionArgs(p,f),h={position:this.getLabelPosition(s,a,l,g)},x=-1;return this.model.insertLabel(x,h,c),x},addVertex:function(t,e,n){var r=typeof t!="number",s=r?t.x:t,a=r?t.y:e,l=r?e:n,c={x:s,y:a},f=this.getVertexIndex(s,a);return this.model.insertVertex(f,c,l),f},sendToken:function(t,e,n){function r(h,x){return function(){h.remove(),typeof x=="function"&&x()}}var s,a,l;qt(e)?(s=e.duration,a=e.direction==="reverse",l=e.connection):(s=e,a=!1,l=null),s=s||1e3;var c={dur:s+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};a&&(c.keyPoints="1;0",c.keyTimes="0;1");var f=rt(t),p;if(typeof l=="string")p=this.findNode(l);else{var g=this._V;p=g.connection?g.connection.node:this.el.querySelector("path")}if(!(p instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");f.appendTo(this.paper.cells).animateAlongPath(c,p),setTimeout(r(f,n),s)},findRoute:function(t){t||(t=[]);var e=this.paper.options.routerNamespace||Db,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n)if(r)n=r;else return t.map(z);var s=Jt(n)?n:e[n.name];if(!Jt(s))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');var a=n.args||{},l=s.call(this,t,a,this);return l||t.map(z)},findPath:function(t,e,n){var r=this.paper.options.connectorNamespace||R2,s=this.model.connector(),a=this.paper.options.defaultConnector;s||(s=a||{});var l=Jt(s)?s:r[s.name];if(!Jt(l))throw new Error('dia.LinkView: unknown connector: "'+s.name+'".');var c=De(s.args||{});c.raw=!0;var f=l.call(this,e,n,t,c,this);return typeof f=="string"&&(f=new Ct(rt.normalizePathData(f))),f},getConnection:function(){var t=this.path;return t?t.clone():null},getSerializedConnection:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("data"))return e.data;var n=t.serialize();return e.data=n,n},getConnectionSubdivisions:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("segmentSubdivisions"))return e.segmentSubdivisions;var n=t.getSegmentSubdivisions();return e.segmentSubdivisions=n,n},getConnectionLength:function(){var t=this.path;if(!t)return 0;var e=this.metrics;if(e.hasOwnProperty("length"))return e.length;var n=t.length({segmentSubdivisions:this.getConnectionSubdivisions()});return e.length=n,n},getPointAtLength:function(t){var e=this.path;return e?e.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(t){var e=this.path;return e?(nn(t)&&(t=parseFloat(t)/100),e.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(t){var e=this.path;return e?e.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(t){var e=this.path;return e?e.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(t){var e=this.path;return e?e.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(t){var e=this.path;return e?e.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(t){var e=this.path;return e?e.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(t,e,n,r){var s={},a=0,l;typeof n=="number"?(a=n,l=r):l=n,l&&(s.args=l);var c=!(l&&l.absoluteDistance),f=l&&l.absoluteDistance&&l.reverseDistance,p=l&&l.absoluteOffset,g=this.path,h={segmentSubdivisions:this.getConnectionSubdivisions()},x=new z(t,e),w=g.closestPointT(x,h),b=g.lengthAtT(w,h);c&&(b=b/this.getConnectionLength()||0),f&&(b=-1*(this.getConnectionLength()-b)||1),s.distance=b;var P;p||(P=g.tangentAtT(w));var T;if(P)T=P.pointOffset(x);else{var C=g.pointAtT(w),L=x.difference(C);T={x:L.x,y:L.y}}return s.offset=T,s.angle=a,s},_getLabelTransformationMatrix:function(t){var e,n=0,r={};if(typeof t=="number")e=t;else if(typeof t.distance=="number")r=t.args||{},e=t.distance,n=t.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var s=e>0&&e<=1,a=0,l={x:0,y:0};if(t.offset){var c=t.offset;typeof c=="number"&&(a=c),c.x&&(l.x=c.x),c.y&&(l.y=c.y)}var f=l.x!==0||l.y!==0||a===0,p=r.keepGradient,g=r.ensureLegibility,h=this.path,x={segmentSubdivisions:this.getConnectionSubdivisions()},w=s?e*this.getConnectionLength():e,b=h.tangentAtLength(w,x),P,T=n;if(b){if(f)P=b.start.clone(),P.offset(l);else{var C=b.clone();C.rotate(b.start,-90),C.setLength(a),P=C.end}p&&(T=b.angle()+n,g&&(T=kn((T+90)%180-90)))}else P=h.start.clone(),f&&P.offset(l);return rt.createSVGMatrix().translate(P.x,P.y).rotate(T)},getLabelCoordinates:function(t){var e=this._getLabelTransformationMatrix(t);return new z(e.e,e.f)},getVertexIndex:function(t,e){for(var n=this.model,r=n.vertices(),s=this.getClosestPointLength(new z(t,e)),a=0,l=r.length;a<l;a++){var c=r[a],f=this.getClosestPointLength(c);if(s<f)break}return a},notifyPointerdown(t,e,n){$t.prototype.pointerdown.call(this,t,e,n),this.notify("link:pointerdown",t,e,n)},notifyPointermove(t,e,n){$t.prototype.pointermove.call(this,t,e,n),this.notify("link:pointermove",t,e,n)},notifyPointerup(t,e,n){this.notify("link:pointerup",t,e,n),$t.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){$t.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){$t.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",t,e,n)},contextmenu:function(t,e,n){$t.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",t,e,n)},pointerdown:function(t,e,n){this.notifyPointerdown(t,e,n),this.dragStart(t,e,n)},pointermove:function(t,e,n){var r=this._dragData;r&&this.eventData(t,r);var s=this.eventData(t);switch(s.action){case"label-move":this.dragLabel(t,e,n);break;case"arrowhead-move":this.dragArrowhead(t,e,n);break;case"move":this.drag(t,e,n);break}r&&wt(r,this.eventData(t)),this.notifyPointermove(t,e,n)},pointerup:function(t,e,n){var r=this._dragData;r&&(this.eventData(t,r),this._dragData=null);var s=this.eventData(t);switch(s.action){case"label-move":this.dragLabelEnd(t,e,n);break;case"arrowhead-move":this.dragArrowheadEnd(t,e,n);break;case"move":this.dragEnd(t,e,n)}this.notifyPointerup(t,e,n),this.checkMouseleave(t)},mouseover:function(t){$t.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",t)},mouseout:function(t){$t.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",t)},mouseenter:function(t){$t.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",t)},mouseleave:function(t){$t.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",t)},mousewheel:function(t,e,n,r){$t.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",t,e,n,r)},onlabel:function(t,e,n){this.notifyPointerdown(t,e,n),this.dragLabelStart(t,e,n);var r=this.eventData(t).stopPropagation;r&&t.stopPropagation()},dragLabelStart:function(t,e,n){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(t))return;var r=t.currentTarget,s=parseInt(r.getAttribute("label-idx"),10),a=this._getDefaultLabelPositionProperty(),l=this._normalizeLabelPosition(this._getLabelPositionProperty(s)),c=this._mergeLabelPositionProperty(l,a),f=this.getLabelCoordinates(c),p=f.x-e,g=f.y-n,h=this._getLabelPositionAngle(s),x=this._getLabelPositionArgs(s),w=this._getDefaultLabelPositionArgs(),b=this._mergeLabelPositionArgs(x,w);this.eventData(t,{action:"label-move",labelIdx:s,dx:p,dy:g,positionAngle:h,positionArgs:b,stopPropagation:!0})}else this.eventData(t,{stopPropagation:!0});this.paper.delegateDragEvents(this,t.data)},dragArrowheadStart:function(t,e,n){if(this.can("arrowheadMove")){var r=t.target,s=r.getAttribute("end"),a=this.startArrowheadMove(s,{ignoreBackwardsCompatibility:!0});this.eventData(t,a)}},dragStart:function(t,e,n){this.isDefaultInteractionPrevented(t)||this.can("linkMove")&&this.eventData(t,{action:"move",dx:e,dy:n})},dragLabel:function(t,e,n){var r=this.eventData(t),s={position:this.getLabelPosition(e+r.dx,n+r.dy,r.positionAngle,r.positionArgs)};this.paper.options.snapLabels&&delete s.position.offset;const a={ui:!0};this.paper.isAsync()&&t.type==="touchmove"&&(a.async=!1),this.model.label(r.labelIdx,s,a)},dragArrowhead:function(t,e,n){this.paper.options.snapLinks?!this._snapArrowhead(t,e,n)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(t,e,n):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(t,e,n):this._connectArrowhead(this.getEventTarget(t),e,n,this.eventData(t))},drag:function(t,e,n){var r=this.eventData(t);this.model.translate(e-r.dx,n-r.dy,{ui:!0}),this.eventData(t,{dx:e,dy:n})},dragLabelEnd:function(){},dragArrowheadEnd:function(t,e,n){var r=this.eventData(t),s=this.paper;s.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,e,n),s.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,t)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(t){switch(t.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(t.arrowhead,t.initialEnd,{ui:!0});break}},_finishEmbedding:function(t){this.paper.options.embeddingMode&&this.model.reparent()&&(t.z=null)},_notifyConnectEvent:function(t,e){var n=t.arrowhead,r=t.initialEnd,s=this.model.prop(n),a=s&&!Wl.endsEqual(r,s);if(a){var l=this.paper;r.id&&this.notify("link:disconnect",e,l.findViewByModel(r.id),t.initialMagnet,n),s.id&&this.notify("link:connect",e,l.findViewByModel(s.id),t.magnetUnderPointer,n)}},_snapToPoints:function(t,e,n){let r=null,s=1/0,a=null,l=1/0,c=t.x,f=t.y;for(let p=0;p<e.length;p++){const g=Math.abs(e[p].x-t.x);g<s&&(s=g,r=e[p]);const h=Math.abs(e[p].y-t.y);h<l&&(l=h,a=e[p])}return s<n&&(c=r.x),l<n&&(f=a.y),{x:c,y:f}},_snapArrowheadSelf:function(t,e,n){const{paper:r,model:s}=this,{snapLinksSelf:a}=r.options,l=this.eventData(t),c=a.radius||20,f=this.getEndAnchor(l.arrowhead==="source"?"target":"source"),p=s.vertices(),g=[f,...p],h=this._snapToPoints({x:e,y:n},g,c),x=r.localToClientPoint(h);this._connectArrowhead(document.elementFromPoint(x.x,x.y),h.x,h.y,this.eventData(t))},_snapArrowhead:function(t,e,n){const{paper:r}=this,{snapLinks:s,connectionStrategy:a}=r.options,l=this.eventData(t);let c=!1;var f=s.radius||50,p=r.findElementViewsInArea({x:e-f,y:n-f,width:2*f,height:2*f},s.findInAreaOptions),g=l.closestView||null,h=l.closestMagnet||null,x=l.magnetProxy||null;l.closestView=l.closestMagnet=l.magnetProxy=null;var w=Number.MAX_VALUE,b=new z(e,n);p.forEach(function(G){const X=[];G.el.getAttribute("magnet")!=="false"&&X.push({bbox:G.model.getBBox(),magnet:G.el}),G.$("[magnet]").toArray().forEach(v=>{X.push({bbox:G.getNodeBBox(v),magnet:v})}),X.forEach(v=>{const{magnet:S,bbox:E}=v,k=E.center().squaredDistance(b);k<w&&(h===S||r.options.validateConnection.apply(r,l.validateConnectionArgs(G,G.el===S?null:S)))&&(w=k,l.closestView=G,l.closestMagnet=S)})},this);var P,T=null,C=l.closestView,L=l.closestMagnet;L&&(T=l.magnetProxy=C.findProxyNode(L,"highlighter"));var M=l.arrowhead,R=h!==L;if(g&&R&&g.unhighlight(x,{connecting:!0,snapping:!0}),C){const{prevEnd:G,prevX:X,prevY:v}=l;if(l.prevX=e,l.prevY=n,c=!0,!R&&(typeof a!="function"||X===e&&v===n)||(P=C.getLinkEnd(L,e,n,this.model,M),!R&&ni(G,P)))return c;l.prevEnd=P,R&&C.highlight(T,{connecting:!0,snapping:!0})}else P={x:e,y:n};return this.model.set(M,P||{x:e,y:n},{ui:!0}),g&&this.notify("link:snap:disconnect",t,g,h,M),C&&this.notify("link:snap:connect",t,C,L,M),c},_snapArrowheadEnd:function(t){var e=t.closestView,n=t.closestMagnet;e&&n&&(e.unhighlight(t.magnetProxy,{connecting:!0,snapping:!0}),t.magnetUnderPointer=e.findMagnet(n)),t.closestView=t.closestMagnet=null},_connectArrowhead:function(t,e,n,r){const{paper:s,model:a}=this;if(r.eventTarget!==t){r.magnetProxy&&r.viewUnderPointer.unhighlight(r.magnetProxy,{connecting:!0});const l=r.viewUnderPointer=s.findView(t);if(l){const c=r.magnetUnderPointer=l.findMagnet(t),f=r.magnetProxy=l.findProxyNode(c,"highlighter");c&&this.paper.options.validateConnection.apply(s,r.validateConnectionArgs(l,c))?f&&l.highlight(f,{connecting:!0}):(r.magnetUnderPointer=null,r.magnetProxy=null)}else r.magnetUnderPointer=null,r.magnetProxy=null}r.eventTarget=t,a.set(r.arrowhead,{x:e,y:n},{ui:!0})},_connectArrowheadEnd:function(t={},e,n){const{model:r}=this,{viewUnderPointer:s,magnetUnderPointer:a,magnetProxy:l,arrowhead:c}=t;if(!a||!l||!s)return;s.unhighlight(l,{connecting:!0});const f=s.getLinkEnd(a,e,n,r,c);r.set(c,f,{ui:!0})},_beforeArrowheadMove:function(t){t.z=this.model.get("z"),this.model.toFront();var e=this.el.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(t)},_afterArrowheadMove:function(t){t.z!==null&&(this.model.set("z",t.z,{ui:!0}),t.z=null),this.el.style.pointerEvents=t.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(t)},_createValidateConnectionArgs:function(t){var e=[];e[4]=t,e[5]=this;var n,r=0,s=0;t==="source"?(r=2,n="target"):(s=2,n="source");var a=this.model.get(n);if(a.id){var l=e[r]=this.paper.findViewByModel(a.id),c=l.getMagnetFromLinkEnd(a);c===l.el&&(c=void 0),e[r+1]=c}function f(p,g){return e[s]=p,e[s+1]=p.el===g?void 0:g,e}return f},_markAvailableMagnets:function(t){function e(h,x){var w=h.paper,b=w.options.validateConnection;return b.apply(w,this.validateConnectionArgs(h,x))}var n=this.paper,r=n.model.getCells();t.marked={};for(var s=0,a=r.length;s<a;s++){var l=r[s].findView(n);if(l){var c=Array.prototype.slice.call(l.el.querySelectorAll("[magnet]"));l.el.getAttribute("magnet")!=="false"&&c.push(l.el);var f=c.filter(e.bind(t,l));if(f.length>0){for(var p=0,g=f.length;p<g;p++)l.highlight(f[p],{magnetAvailability:!0});l.highlight(null,{elementAvailability:!0}),t.marked[l.model.id]=f}}}},_unmarkAvailableMagnets:function(t){for(var e=Object.keys(t.marked),n,r,s=0,a=e.length;s<a;s++){n=e[s],r=t.marked[n];var l=this.paper.findViewByModel(n);if(l){for(var c=0,f=r.length;c<f;c++)l.unhighlight(r[c],{magnetAvailability:!0});l.unhighlight(null,{elementAvailability:!0})}}t.marked=null},startArrowheadMove:function(t,e){e||(e={});var n={action:"arrowhead-move",arrowhead:t,whenNotAllowed:e.whenNotAllowed||"revert",initialMagnet:this[t+"Magnet"]||(this[t+"View"]?this[t+"View"].el:null),initialEnd:De(this.model.get(t)),validateConnectionArgs:this._createValidateConnectionArgs(t)};return this._beforeArrowheadMove(n),e.ignoreBackwardsCompatibility!==!0&&(this._dragData=n),n},onMount:function(){$t.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){$t.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){$t.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:Wt});Object.defineProperty(_o.prototype,"sourceBBox",{enumerable:!0,get:function(){var t=this.sourceView;if(!t){var e=this.model.source();return new ht(e.x,e.y)}var n=this.sourceMagnet;return t.isNodeConnection(n)?new ht(this.sourceAnchor):t.getNodeBBox(n||t.el)}});Object.defineProperty(_o.prototype,"targetBBox",{enumerable:!0,get:function(){var t=this.targetView;if(!t){var e=this.model.target();return new ht(e.x,e.y)}var n=this.targetMagnet;return t.isNodeConnection(n)?new ht(this.targetAnchor):t.getNodeBBox(n||t.el)}});const dE=pf.extend({style:{"pointer-events":"none"},_gridCache:null,_gridSettings:null,init(){pf.prototype.init.apply(this,arguments);const{options:{paper:t}}=this;this._gridCache=null,this._gridSettings=[],this.listenTo(t,"transform resize",this.updateGrid)},setGrid(t){this._gridSettings=this.getGridSettings(t),this.renderGrid()},getGridSettings(t){const e=[];return t&&(Array.isArray(t)?t:[t||{}]).forEach(r=>{e.push(...this._resolveDrawGridOption(r))}),e},removeGrid(){const{_gridCache:t}=this;t&&(t.root.remove(),this._gridCache=null)},renderGrid(){const{options:{paper:t}}=this,{_gridSettings:e}=this;if(this.removeGrid(),e.length===0)return;const n=t.options.drawGridSize||t.options.gridSize;if(n<=1)return;const r=this._getGridRefs();e.forEach((s,a)=>{const l=this._getPatternId(a),c=Ee({},s),{scaleFactor:f=1}=c;c.width=n*f||1,c.height=n*f||1;let p;r.exist(l)?p=r.get(l):(p=rt("pattern",{id:l,patternUnits:"userSpaceOnUse"},rt(c.markup)),r.add(l,p)),Jt(c.render)&&c.render(p.node.firstChild,c,t),p.attr({width:c.width,height:c.height})}),r.root.appendTo(this.el),this.updateGrid()},updateGrid(){const{_gridCache:t,_gridSettings:e,options:{paper:n}}=this;if(!t)return;const{root:r,patterns:s}=t,{x:a,y:l,width:c,height:f}=n.getArea();r.attr({x:a,y:l,width:c,height:f});for(const p in s)s[p].attr({x:-a,y:-l});e.forEach((p,g)=>{if(Jt(p.update)){const h=s[this._getPatternId(g)];p.update(h.node.firstChild,p,n)}})},_getPatternId(t){return`pattern_${this.options.paper.cid}_${t}`},_getGridRefs(){let{_gridCache:t}=this;if(t)return t;const e=rt("defs"),n=rt("svg",{width:"100%",height:"100%"},[e]);return t=this._gridCache={root:n,patterns:{},add:function(r,s){const a=rt("rect",{width:"100%",height:"100%",fill:`url(#${r})`});e.append(s),n.append(a),this.patterns[r]=s},get:function(r){return this.patterns[r]},exist:function(r){return this.patterns[r]!==void 0}},t},_resolveDrawGridOption(t){var e=this.options.patterns;if(xe(t)&&Array.isArray(e[t]))return e[t].map(function(f){return wt({},f)});var n=t||{args:[{}]},r=Array.isArray(n),s=n.name;if(!r&&!s&&!n.markup&&(s="dot"),s&&Array.isArray(e[s])){var a=e[s].map(function(f){return wt({},f)}),l=Array.isArray(n.args)?n.args:[n.args||{}];dn(l[0],Ho(t,"args"));for(var c=0;c<l.length;c++)a[c]&&wt(a[c],l[c]);return a}return r?n:[n]}}),ms={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},hE=50,Dg=20,Bg=1e3,pE=1/0,hl=9007199254740991,qc=$t.Highlighting,zg={[qc.DEFAULT]:{name:"stroke",options:{padding:3}},[qc.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[qc.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},gE=[{name:Ue.GRID},{name:Ue.BACK},{name:Ue.CELLS},{name:Ue.LABELS},{name:Ue.FRONT},{name:Ue.TOOLS}],Vg=Ps.extend({className:"paper",options:{width:800,height:600,gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,elementView:Ts,linkView:_o,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(t,e){return!1},highlighting:zg,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:function(){const{cellNamespace:t}=this.model.get("cells"),e=Ls(t,["standard","Link"]);if(!e)throw new Error("dia.Paper: no default link model found. Use `options.defaultLink` to specify a default link model.");return new e},defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"boundary"},connectionStrategy:null,validateMagnet:function(t,e,n){return e.getAttribute("magnet")!=="passive"},validateConnection:function(t,e,n,r,s,a){return(s==="target"?n:t)instanceof Ts},embeddingMode:!1,validateEmbedding:function(t,e){return!0},validateUnembedding:function(t){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:ms.APPROX,frozen:!1,autoFreeze:!1,onViewUpdate:function(t,e,n,r,s){e&(t.FLAG_INSERT|t.FLAG_REMOVE)||r.mounting||r.isolate||s.requestConnectedLinksUpdate(t,n,r)},onViewPostponed:function(t,e,n){return n.forcePostponedViewUpdate(t,e)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:Q2,anchorNamespace:hf,linkAnchorNamespace:$b,connectionPointNamespace:ab,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},stylesheet:`
        .joint-element .scalable * {
            vector-effect: non-scaling-stroke;
        }
    `,svg:null,viewport:null,defs:null,tools:null,layers:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,DEFAULT_FIND_BUFFER:200,init:function(){const{options:t}=this;t.cellViewNamespace||(t.cellViewNamespace=typeof joint<"u"&&ir(joint,"shapes")?joint.shapes:null);const e=this.model=t.model||new Zf;this._layers={},this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.resetViews(e.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates&&this._updates.id&&vl(this._updates.id),this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var t=this.model;this.listenTo(t,"add",this.onCellAdded).listenTo(t,"remove",this.onCellRemoved).listenTo(t,"change",this.onCellChange).listenTo(t,"reset",this.onGraphReset).listenTo(t,"sort",this.onGraphSort).listenTo(t,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("transform",this.update)},onCellAdded:function(t,e,n){var r=n.position;this.isAsync()||!Ge(r)?this.renderView(t,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(t,n),r===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(t,e,n){const r=this.findViewByModel(t);r&&this.requestViewUpdate(r,r.FLAG_REMOVE,r.UPDATE_PRIORITY,n)},onCellChange:function(t,e){if(t!==this.model.attributes.cells&&t.hasChanged("z")&&this.options.sorting===ms.APPROX){const n=this.findViewByModel(t);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,e)}},onGraphReset:function(t,e){this.resetLayers(),this.resetViews(t.models,e)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(t){if(!this.isFrozen()){var e=t&&t.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(e)&&!n.hasActiveBatch(r)&&this.updateViews(t)}var s=this.SORT_DELAYING_BATCHES;s.includes(e)&&!n.hasActiveBatch(s)&&this.sortViews()}},cloneOptions:function(){const{options:t}=this,{defaultConnector:e,defaultRouter:n,defaultConnectionPoint:r,defaultAnchor:s,defaultLinkAnchor:a,highlighting:l,cellViewNamespace:c,interactive:f}=t;!c&&typeof joint<"u"&&ir(joint,"shapes")&&(t.cellViewNamespace=joint.shapes),Jt(e)||(t.defaultConnector=fn(e)),Jt(n)||(t.defaultRouter=fn(n)),Jt(r)||(t.defaultConnectionPoint=fn(r)),Jt(s)||(t.defaultAnchor=fn(s)),Jt(a)||(t.defaultLinkAnchor=fn(a)),ye(f)&&(t.interactive=wt({},f)),ye(l)&&(t.highlighting=Uf({},l,zg))},children:function(){var t=rt.namespace;return[{namespaceURI:t.xhtml,tagName:"div",className:wr("paper-background"),selector:"background",style:{position:"absolute",inset:0}},{namespaceURI:t.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":t.xlink},selector:"svg",style:{position:"absolute",inset:0},children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:wr("layers"),selector:"layers"}]}]},hasLayerView(t){return t in this._layers},getLayerView(t){const{_layers:e}=this;if(t in e)return e[t];throw new Error(`dia.Paper: Unknown layer "${t}"`)},getLayerNode(t){return this.getLayerView(t).el},render:function(){this.renderChildren();const{el:t,childNodes:e,options:n,stylesheet:r}=this,{svg:s,defs:a,layers:l}=e;return t.style.position="relative",s.style.overflow=n.overflow?"visible":"hidden",this.svg=s,this.defs=a,this.layers=l,this.renderLayers(),rt.ensureId(s),this.addStylesheet(r),n.background&&this.drawBackground(n.background),n.drawGrid&&this.setGrid(n.drawGrid),this},addStylesheet:function(t){t&&rt(this.svg).prepend(rt.createSVGStyle(t))},createLayer(t){switch(t){case Ue.GRID:return new dE({name:t,paper:this,patterns:this.constructor.gridPatterns});default:return new pf({name:t})}},renderLayers:function(t=gE){this.removeLayers(),t.forEach(({name:s,sorted:a})=>{const l=this.createLayer(s);this.layers.appendChild(l.el),this._layers[s]=l});const e=this.getLayerView(Ue.CELLS),n=this.getLayerView(Ue.TOOLS),r=this.getLayerView(Ue.LABELS);this.tools=n.el,this.cells=this.viewport=e.el,e.vel.addClass(wr("viewport")),r.vel.addClass(wr("viewport")),e.el.style.webkitUserSelect="none",e.el.style.userSelect="none",r.el.style.webkitUserSelect="none",r.el.style.userSelect="none"},removeLayers:function(){const{_layers:t}=this;Object.keys(t).forEach(e=>{t[e].remove(),delete t[e]})},resetLayers:function(){const{_layers:t}=this;Object.keys(t).forEach(e=>{t[e].removePivots()})},update:function(){return this._background&&this.updateBackgroundImage(this._background),this},scale:function(t,e,n){const r=this.matrix();return t===void 0?rt.matrixToScale(r):(e===void 0&&(e=t),t=Math.max(t||0,this.MIN_SCALE),e=Math.max(e||0,this.MIN_SCALE),r.a=t,r.d=e,this.matrix(r,n),this)},scaleUniformAtPoint:function(t,e,n){const{a:r,d:s,e:a,f:l}=this.matrix();if(t=Math.max(t||0,this.MIN_SCALE),t===r&&t===s)return this;const c=rt.createSVGMatrix().translate(a-e.x*(t-r),l-e.y*(t-s)).scale(t,t);return this.matrix(c,n),this},translate:function(t,e,n){const r=this.matrix();return t===void 0?rt.matrixToTranslate(r):(t||(t=0),e||(e=0),r.e===t&&r.f===e?this:(r.e=t,r.f=e,this.matrix(r,n),this))},matrix:function(t,e={}){var n=this.layers;if(t===void 0){var r=n.getAttribute("transform");return(this._viewportTransformString||null)===r?t=this._viewportMatrix:(t=n.getCTM(),this._viewportMatrix=t,this._viewportTransformString=r),rt.createSVGMatrix(t)}const s=this.matrix(),a=rt.createSVGMatrix(t),l=this._viewportTransformString,c=rt.matrixToTransformString(a);if(c===l)return this;if(!l&&rt.matrixToTransformString()===c)return this;const{a:f,d:p,e:g,f:h}=a;return n.setAttribute("transform",c),this._viewportMatrix=a,this._viewportTransformString=n.getAttribute("transform"),(f!==s.a||p!==s.d)&&this.trigger("scale",f,p,e),(g!==s.e||h!==s.f)&&this.trigger("translate",g,h,e),this.trigger("transform",a,e),this},clientMatrix:function(){return rt.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(t,e,n){if(t instanceof $t)for(var r=t.model,s=this.model.getConnectedLinks(r),a=0,l=s.length;a<l;a++){var c=s[a],f=this.findViewByModel(c);if(f){var p=["UPDATE"];c.getTargetCell()===r&&p.push("TARGET"),c.getSourceCell()===r&&p.push("SOURCE");var g=Math.max(e+1,f.UPDATE_PRIORITY);this.scheduleViewUpdate(f,f.getFlag(p),g,n)}}},forcePostponedViewUpdate:function(t,e){if(!t||!(t instanceof $t))return!1;var n=t.model;if(n.isElement())return!1;if(!(e&t.getFlag(["SOURCE","TARGET"]))){var r={silent:!0},s=0,a=this.findViewByModel(n.getSourceCell());a&&!this.isViewMounted(a)&&(s=this.dumpView(a,r),t.updateEndMagnet("source"));var l=0,c=this.findViewByModel(n.getTargetCell());if(c&&!this.isViewMounted(c)&&(l=this.dumpView(c,r),t.updateEndMagnet("target")),s===0&&l===0)return!this.dumpView(t,r)}return!1},requestViewUpdate:function(t,e,n,r){r||(r={}),this.scheduleViewUpdate(t,e,n,r);var s=this.isAsync();if(!(this.isFrozen()||s&&r.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var a=this.updateViews(r);s&&this.notifyAfterRender(a,r)}},scheduleViewUpdate:function(t,e,n,r){const{_updates:s,options:a}=this;s.idle&&a.autoFreeze&&(s.idle=!1,this.unfreeze());const{FLAG_REMOVE:l,FLAG_INSERT:c,UPDATE_PRIORITY:f,cid:p}=t;let g=s.priorities[n];if(g||(g=s.priorities[n]={}),n>f)for(let w=n-1;w>=f;w--){const b=s.priorities[w];!b||!(p in b)||(g[p]|=b[p],delete b[p])}let h=g[p]||0;if((h&e)===e)return;h||s.count++,e&l&&h&c?g[p]^=c:e&c&&h&l&&(g[p]^=l),g[p]|=e;const x=a.onViewUpdate;typeof x=="function"&&x.call(this,t,e,n,r||{},this)},dumpViewUpdate:function(t){if(!t)return 0;var e=this._updates,n=t.cid,r=e.priorities[t.UPDATE_PRIORITY],s=this.registerMountedView(t)|r[n];return delete r[n],s},dumpView:function(t,e={}){const n=this.dumpViewUpdate(t);if(!n)return 0;const r=!e.silent;r&&this.notifyBeforeRender(e);const s=this.updateView(t,n,e);if(r){const a={updated:1,priority:t.UPDATE_PRIORITY};this.notifyAfterRender(a,e)}return s},updateView:function(t,e,n){if(!t)return 0;const{FLAG_REMOVE:r,FLAG_INSERT:s,FLAG_INIT:a,model:l}=t;if(t instanceof $t){if(e&r)return this.removeView(l),0;if(e&s){const c=!!(e&a);c&&(e^=a),this.insertView(t,c),e^=s}}return e?t.confirmUpdate(e,n||{}):0},requireView:function(t,e){var n=this.findViewByModel(t);return n?(this.dumpView(n,e),n):null},registerUnmountedView:function(t){var e=t.cid,n=this._updates;if(e in n.unmounted)return 0;var r=n.unmounted[e]|=t.FLAG_INSERT;return n.unmountedCids.push(e),delete n.mounted[e],r},registerMountedView:function(t){var e=t.cid,n=this._updates;if(e in n.mounted)return 0;n.mounted[e]=!0,n.mountedCids.push(e);var r=n.unmounted[e]||0;return delete n.unmounted[e],r},isViewMounted:function(t){if(!t)return!1;var e=t.cid,n=this._updates;return e in n.mounted},dumpViews:function(t){var e=dn({},t,{viewport:null});this.checkViewport(e),this.updateViews(e)},updateViews:function(t){this.notifyBeforeRender(t);let e,n=0,r=0,s=hl;do r++,e=this.updateViewsBatch(t),n+=e.updated,s=Math.min(e.priority,s);while(!e.empty);const a={updated:n,batches:r,priority:s};return this.notifyAfterRender(a,t),a},hasScheduledUpdates:function(){const t=this._updates.priorities,e=Object.keys(t);let n=e.length;for(;n>0&&n--;)for(let r in t[e[n]])return!0;return!1},updateViewsAsync:function(t,e){t||(t={}),e||(e={processed:0,priority:hl});const{_updates:n,options:r}=this,s=n.id;if(s){vl(s),e.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(t);const a=this.updateViewsBatch(t),l=dn({},t,{mountBatchSize:Bg-a.mounted,unmountBatchSize:Bg-a.unmounted}),c=this.checkViewport(l),f=c.unmounted,p=c.mounted;let g=e.processed;const h=n.count;a.updated>0?(g+=a.updated+a.unmounted,a.processed=g,e.priority=Math.min(a.priority,e.priority),a.empty&&p===0?(a.unmounted+=f,a.mounted+=p,a.priority=e.priority,this.notifyAfterRender(a,t),e.processed=0,e.priority=hl,n.count=0):e.processed=g):n.idle||r.autoFreeze&&(this.freeze(),n.idle=!0,this.trigger("render:idle",t));const x=t.progress;if(h&&typeof x=="function"&&x.call(this,a.empty,g,h,a,this),n.id!==s)return}if(n.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");n.id=sf(this.updateViewsAsync,this,t,e)},notifyBeforeRender:function(t={}){let e=t.beforeRender;typeof e!="function"&&(e=this.options.beforeRender,typeof e!="function")||e.call(this,t,this)},notifyAfterRender:function(t,e={}){let n=e.afterRender;typeof n!="function"&&(n=this.options.afterRender),typeof n=="function"&&n.call(this,t,e,this),this.trigger("render:done",t,e)},updateViewsBatch:function(t){t||(t={});var e=t.batchSize||pE,n=this._updates,r=0,s=0,a=0,l=0,c=hl,f=!0,p=this.options,g=n.priorities,h="viewport"in t?t.viewport:p.viewport;typeof h!="function"&&(h=null);var x=p.onViewPostponed;typeof x!="function"&&(x=null);var w=Object.keys(g);t:for(var b=0,P=w.length;b<P;b++){var T=+w[b],C=g[T];for(var L in C){if(r>=e){f=!1;break t}var M=Ai[L];if(!M){delete C[L];continue}var R=C[L];if(!(R&M.FLAG_REMOVE)){var G=L in n.unmounted;if(M.DETACHABLE&&h&&!h.call(this,M,!G,this)){G||(this.registerUnmountedView(M),this.detachView(M)),n.unmounted[L]|=R,delete C[L],a++;continue}G&&(R|=M.FLAG_INSERT,l++),R|=this.registerMountedView(M)}var X=this.updateView(M,R,t);if(X>0&&(C[L]=X,!x||!x.call(this,M,X,this)||C[L])){s++,f=!1;continue}c>T&&(c=T),r++,delete C[L]}}return{priority:c,updated:r,postponed:s,unmounted:a,mounted:l,empty:f}},getUnmountedViews:function(){const t=this._updates,e=Object.keys(t.unmounted),n=e.length,r=new Array(n);for(var s=0;s<n;s++)r[s]=Ai[e[s]];return r},getMountedViews:function(){const t=this._updates,e=Object.keys(t.mounted),n=e.length,r=new Array(n);for(var s=0;s<n;s++)r[s]=Ai[e[s]];return r},checkUnmountedViews:function(t,e){e||(e={});var n=0;typeof t!="function"&&(t=null);for(var r=("mountBatchSize"in e)?e.mountBatchSize:1/0,s=this._updates,a=s.unmountedCids,l=s.unmounted,c=0,f=Math.min(a.length,r);c<f;c++){var p=a[c];if(p in l){var g=Ai[p];if(g){if(g.DETACHABLE&&t&&!t.call(this,g,!1,this)){a.push(p);continue}n++;var h=this.registerMountedView(g);h&&this.scheduleViewUpdate(g,h,g.UPDATE_PRIORITY,{mounting:!0})}}}return a.splice(0,c),n},checkMountedViews:function(t,e){e||(e={});var n=0;if(typeof t!="function")return n;for(var r=("unmountBatchSize"in e)?e.unmountBatchSize:1/0,s=this._updates,a=s.mountedCids,l=s.mounted,c=0,f=Math.min(a.length,r);c<f;c++){var p=a[c];if(p in l){var g=Ai[p];if(g){if(!g.DETACHABLE||t.call(this,g,!0,this)){a.push(p);continue}n++;var h=this.registerUnmountedView(g);h&&this.detachView(g)}}}return a.splice(0,c),n},checkViewVisibility:function(t,e={}){let n="viewport"in e?e.viewport:this.options.viewport;typeof n!="function"&&(n=null);const r=this._updates,{mounted:s,unmounted:a}=r,l=!t.DETACHABLE||!n||n.call(this,t,!1,this);let c=!1,f=!1;if(t.cid in s&&!l){this.registerUnmountedView(t)&&this.detachView(t);const h=r.mountedCids.indexOf(t.cid);r.mountedCids.splice(h,1),c=!0}if(!c&&t.cid in a&&l){const g=r.unmountedCids.indexOf(t.cid);r.unmountedCids.splice(g,1);var p=this.registerMountedView(t);p&&this.scheduleViewUpdate(t,p,t.UPDATE_PRIORITY,{mounting:!0}),f=!0}return{mounted:f?1:0,unmounted:c?1:0}},checkViewport:function(t){var e=dn({},t,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in e?e.viewport:this.options.viewport,r=this.checkMountedViews(n,e);if(r>0){var s=this._updates.unmountedCids;e.mountBatchSize=Math.min(s.length-r,e.mountBatchSize)}var a=this.checkUnmountedViews(n,e);return{mounted:a,unmounted:r}},freeze:function(t){t||(t={});var e=this._updates,n=t.key,r=this.options.frozen,s=e.freezeKey;if(n&&n!==s){if(r&&s)return;e.freezeKey=n,e.keyFrozen=r}this.options.frozen=!0;var a=e.id;e.id=null,this.isAsync()&&a&&vl(a)},unfreeze:function(t){t||(t={});var e=this._updates,n=t.key,r=e.freezeKey;n&&r&&n!==r||(e.freezeKey=null,!(n&&n===r&&e.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(t)):this.updateViews(t),this.options.frozen=e.keyFrozen=!1,e.sort&&(this.sortViews(),e.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===ms.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var t=this.options,e=t.width,n=t.height;return Ge(e)||(e=this.el.clientWidth),Ge(n)||(n=this.el.clientHeight),{width:e,height:n}},setDimensions:function(t,e,n={}){const{options:r}=this,{width:s,height:a}=r;let l=t===void 0?s:t,c=e===void 0?a:e;if(s===l&&a===c)return;r.width=l,r.height=c,this._setDimensions();const f=this.getComputedSize();this.trigger("resize",f.width,f.height,n)},_setDimensions:function(){const{options:t}=this;let e=t.width,n=t.height;Ge(e)&&(e=`${Math.round(e)}px`),Ge(n)&&(n=`${Math.round(n)}px`),this.$el.css({width:e===null?"":e,height:n===null?"":n})},fitToContent:function(t,e,n,r){qt(t)?r=t:r=wt({gridWidth:t,gridHeight:e,padding:n},r);const{x:s,y:a,width:l,height:c}=this.getFitToContentArea(r),{sx:f,sy:p}=this.scale();return this.translate(-s*f,-a*p,r),this.setDimensions(l*f,c*p,r),new ht(s,a,l,c)},getFitToContentArea:function(t={}){const e=t.gridWidth||1,n=t.gridHeight||1,r=Fi(t.padding||0),s=Math.max(t.minWidth||0,e),a=Math.max(t.minHeight||0,n),l=t.maxWidth||Number.MAX_VALUE,c=t.maxHeight||Number.MAX_VALUE,f=t.allowNewOrigin,p="contentArea"in t?new ht(t.contentArea):this.getContentArea(t),{sx:g,sy:h}=this.scale();p.x*=g,p.y*=h,p.width*=g,p.height*=h;let x=Math.ceil((p.width+p.x)/e),w=Math.ceil((p.height+p.y)/n);t.allowNegativeBottomRight||(x=Math.max(x,1),w=Math.max(w,1)),x*=e,w*=n;let b=0;(f==="negative"&&p.x<0||f==="positive"&&p.x>=0||f==="any")&&(b=Math.ceil(-p.x/e)*e,b+=r.left,x+=b);let P=0;return(f==="negative"&&p.y<0||f==="positive"&&p.y>=0||f==="any")&&(P=Math.ceil(-p.y/n)*n,P+=r.top,w+=P),x+=r.right,w+=r.bottom,x=Math.max(x,s),w=Math.max(w,a),x=Math.min(x,l),w=Math.min(w,c),new ht(-b/g,-P/h,x/g,w/h)},transformToFitContent:function(t){t||(t={});let e,n;if("contentArea"in t){const M=t.contentArea;e=this.localToPaperRect(M),n=new z(M)}else e=this.getContentBBox(t),n=this.paperToLocalPoint(e);if(!e.width||!e.height)return;dn(t,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const r=Fi(t.padding),s=t.minScaleX||t.minScale,a=t.maxScaleX||t.maxScale,l=t.minScaleY||t.minScale,c=t.maxScaleY||t.maxScale;let f;if(t.fittingBBox)f=t.fittingBBox;else{const M=this.translate(),R=this.getComputedSize();f={x:M.tx,y:M.ty,width:R.width,height:R.height}}f=new ht(f).moveAndExpand({x:r.left,y:r.top,width:-r.left-r.right,height:-r.top-r.bottom});const p=this.matrix(),{a:g,d:h,e:x,f:w}=p;let b=f.width/e.width*g,P=f.height/e.height*h;if(t.preserveAspectRatio&&(b=P=Math.min(b,P)),t.scaleGrid){const M=t.scaleGrid;b=M*Math.floor(b/M),P=M*Math.floor(P/M)}b=Math.min(a,Math.max(s,b)),P=Math.min(c,Math.max(l,P));const T={x:b/g,y:P/h};let C=f.x-n.x*b-x,L=f.y-n.y*P-w;switch(t.verticalAlign){case"middle":L=L+(f.height-e.height*T.y)/2;break;case"bottom":L=L+(f.height-e.height*T.y);break}switch(t.horizontalAlign){case"middle":C=C+(f.width-e.width*T.x)/2;break;case"right":C=C+(f.width-e.width*T.x);break}p.a=b,p.d=P,p.e=C,p.f=L,this.matrix(p,t)},scaleContentToFit:function(t){this.transformToFitContent(t)},getContentArea:function(t){return t&&t.useModelGeometry?this.model.getBBox()||new ht:rt(this.cells).getBBox()},getContentBBox:function(t){return this.localToPaperRect(this.getContentArea(t))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...t){const{restrictTranslate:e}=this.options;let n;return Jt(e)?n=e.apply(this,t):e===!0?n=this.getArea():e?n=new ht(e):n=null,n},createViewForModel:function(t){const{options:e}=this;var n,r,s=e.cellViewNamespace,a=t.get("type")+"View",l=Ls(s,a,".");t.isLink()?(n=e.linkView,r=_o):(n=e.elementView,r=Ts);var c=n.prototype instanceof ki?l||n:n.call(this,t)||l||r;return new c({model:t,interactive:e.interactive,labelsLayer:e.labelsLayer===!0?Ue.LABELS:e.labelsLayer})},removeView:function(t){const{id:e}=t,{_views:n,_updates:r}=this,s=n[e];if(s){var{cid:a}=s;const{mounted:l,unmounted:c}=r;s.remove(),delete n[e],delete l[a],delete c[a]}return s},renderView:function(t,e){const{id:n}=t,r=this._views;let s,a,l=!0;return n in r&&(s=r[n],s.model===t?(a=s.FLAG_INSERT,l=!1):this.removeView(t)),l&&(s=r[n]=this.createViewForModel(t),s.paper=this,a=this.registerUnmountedView(s)|this.FLAG_INIT|s.getFlag(ie(s,"initFlag"))),this.requestViewUpdate(s,a,s.UPDATE_PRIORITY,e),s},onImageDragStart:function(){return!1},resetViews:function(t,e){e||(e={}),t||(t=[]),this._resetUpdates(),this.removeViews();const n=this.options.autoFreeze?null:"reset";this.freeze({key:n});for(var r=0,s=t.length;r<s;r++)this.renderView(t[r],e);this.unfreeze({key:n}),this.sortViews()},removeViews:function(){rr(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var t=Array.from(this.cells.childNodes).filter(n=>n.getAttribute("model-id")),e=this.model.get("cells");Xw(t,function(n,r){var s=e.get(n.getAttribute("model-id")),a=e.get(r.getAttribute("model-id")),l=s.attributes.z||0,c=a.attributes.z||0;return l===c?0:l<c?-1:1})},insertView:function(t,e){const n=this.getLayerView(Ue.CELLS),{el:r,model:s}=t;switch(this.options.sorting){case ms.APPROX:n.insertSortedNode(r,s.get("z"));break;case ms.EXACT:default:n.insertNode(r);break}t.onMount(e)},detachView(t){t.unmount(),t.onDetach()},findView:function(t){var e=xe(t)?this.cells.querySelector(t):t instanceof dt?t[0]:t,n=this.findAttribute("model-id",e);if(n)return this._views[n]},findViewByModel:function(t){var e=xe(t)||Ge(t)?t:t&&t.id;return this._views[e]},findViewsFromPoint:function(t){t=new z(t);var e=this.model.getElements().map(this.findViewByModel,this);return e.filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(t)},this)},findViewsInArea:function(t,e){e=dn(e||{},{strict:!1}),t=new ht(t);var n=this.model.getElements().map(this.findViewByModel,this),r=e.strict?"containsRect":"intersect";return n.filter(function(s){return s&&t[r](s.vel.getBBox({target:this.cells}))},this)},findElementViewsInArea(t,e){return this._filterViewsInArea(t,(n,r)=>this.model.findElementsInArea(n,r),e)},findLinkViewsInArea:function(t,e){return this._filterViewsInArea(t,(n,r)=>this.model.findLinksInArea(n,r),e)},findCellViewsInArea:function(t,e){return this._filterViewsInArea(t,(n,r)=>this.model.findCellsInArea(n,r),e)},findElementViewsAtPoint:function(t,e){return this._filterViewsAtPoint(t,n=>this.model.findElementsInArea(n),e)},findLinkViewsAtPoint:function(t,e){return this._filterViewsAtPoint(t,n=>this.model.findLinksInArea(n),e)},findCellViewsAtPoint:function(t,e){return this._filterViewsAtPoint(t,n=>this.model.findCellsInArea(n),e)},_findInExtendedArea:function(t,e,n={}){const{buffer:r=this.DEFAULT_FIND_BUFFER}=n,s=new ht(t).inflate(r);return e(s,n).map(l=>this.findViewByModel(l))},_filterViewsInArea:function(t,e,n={}){const r=new ht(t);return this._findInExtendedArea(r,e,n).filter(l=>l?l.isInArea(r,n):!1)},_filterViewsAtPoint:function(t,e,n={}){const r=new ht(t);return this._findInExtendedArea(r,e,n).filter(l=>l?l.isAtPoint(t,n):!1)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(t,...e){typeof t=="string"&&this.trigger("tools:event",t,...e)},getModelById:function(t){return this.model.getCell(t)},snapToGrid:function(t,e){return this.clientToLocalPoint(t,e).snapToGrid(this.options.gridSize)},localToPaperPoint:function(t,e){var n=new z(t,e),r=rt.transformPoint(n,this.matrix());return r},localToPaperRect:function(t,e,n,r){var s=new ht(t,e,n,r),a=rt.transformRect(s,this.matrix());return a},paperToLocalPoint:function(t,e){var n=new z(t,e),r=rt.transformPoint(n,this.matrix().inverse());return r},paperToLocalRect:function(t,e,n,r){var s=new ht(t,e,n,r),a=rt.transformRect(s,this.matrix().inverse());return a},localToClientPoint:function(t,e){var n=new z(t,e),r=rt.transformPoint(n,this.clientMatrix());return r},localToClientRect:function(t,e,n,r){var s=new ht(t,e,n,r),a=rt.transformRect(s,this.clientMatrix());return a},clientToLocalPoint:function(t,e){var n=new z(t,e),r=rt.transformPoint(n,this.clientMatrix().inverse());return r},clientToLocalRect:function(t,e,n,r){var s=new ht(t,e,n,r),a=rt.transformRect(s,this.clientMatrix().inverse());return a},localToPagePoint:function(t,e){return this.localToPaperPoint(t,e).offset(this.pageOffset())},localToPageRect:function(t,e,n,r){return this.localToPaperRect(t,e,n,r).offset(this.pageOffset())},pageToLocalPoint:function(t,e){var n=new z(t,e),r=n.difference(this.pageOffset());return this.paperToLocalPoint(r)},pageToLocalRect:function(t,e,n,r){var s=this.pageOffset(),a=new ht(t,e,n,r);return a.x-=s.x,a.y-=s.y,this.paperToLocalRect(a)},clientOffset:function(){var t=this.svg.getBoundingClientRect();return new z(t.left,t.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(t){if(!(t instanceof _o))throw new Error("Must provide a linkView.");var e=t.model,n=this.options,r=this.model,s=r.constructor.validations;return!(!n.multiLinks&&!s.multiLinks.call(this,r,e)||!n.linkPinning&&!s.linkPinning.call(this,r,e)||typeof n.allowLink=="function"&&!n.allowLink.call(this,t,this))},getDefaultLink:function(t,e){return Jt(this.options.defaultLink)?this.options.defaultLink.call(this,t,e):this.options.defaultLink.clone()},resolveHighlighter:function(t={}){let{highlighter:e,type:n}=t;const{highlighting:r,highlighterNamespace:s}=this.options;if(e===void 0){if(!r||n&&(e=r[n],e===!1))return!1;e||(e=r.default)}if(!e)return!1;xe(e)&&(e={name:e});const a=e.name,l=s[a];if(!l)throw new Error('Unknown highlighter ("'+a+'")');if(typeof l.highlight!="function")throw new Error('Highlighter ("'+a+'") is missing required highlight() method');if(typeof l.unhighlight!="function")throw new Error('Highlighter ("'+a+'") is missing required unhighlight() method');return{highlighter:l,options:e.options||{},name:a}},onCellHighlight:function(t,e,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:s,options:a}=r;s.highlight(t,e,a)},onCellUnhighlight:function(t,e,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:s,options:a}=r;s.unhighlight(t,e,a)},pointerdblclick:function(t){t.preventDefault(),t=Le(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?e.pointerdblclick(t,n.x,n.y):this.trigger("blank:pointerdblclick",t,n.x,n.y)}},pointerclick:function(t){var e=this.eventData(t);if(e.mousemoved<=this.options.clickThreshold){t=Le(t);var n=this.findView(t.target);if(this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);n?n.pointerclick(t,r.x,r.y):this.trigger("blank:pointerclick",t,r.x,r.y)}},contextmenu:function(t){if(this.options.preventContextMenu&&t.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}t=Le(t),this.contextMenuTrigger(t)},contextMenuTrigger:function(t){var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?e.contextmenu(t,n.x,n.y):this.trigger("blank:contextmenu",t,n.x,n.y)}},pointerdown:function(t){t=Le(t);const{target:e,button:n}=t,r=this.findView(e),s=n===2;if(r){if(!s&&this.guard(t,r))return;const a=this.FORM_CONTROL_TAG_NAMES.includes(e.tagName);this.options.preventDefaultViewAction&&!a&&t.preventDefault(),a&&r.preventDefaultInteraction(t);const l=this.customEventTrigger(t,r);if(l){if(l.isPropagationStopped())return;t.data=l.data}const c=e.closest("[magnet]");if(c&&r.el!==c&&r.el.contains(c)){const f=Le(new dt.Event(t.originalEvent,{data:t.data,currentTarget:c}));if(this.onmagnet(f),f.isDefaultPrevented()&&t.preventDefault(),f.isPropagationStopped()){if(s)return;this.delegateDragEvents(r,f.data);return}t.data=f.data}}if(s){this.contextMenuFired=!0;const a=new dt.Event(t.originalEvent,{type:"contextmenu",data:t.data});this.contextMenuTrigger(a)}else{const a=this.snapToGrid(t.clientX,t.clientY);r?r.pointerdown(t,a.x,a.y):(this.options.preventDefaultBlankAction&&t.preventDefault(),this.trigger("blank:pointerdown",t,a.x,a.y)),this.delegateDragEvents(r,t.data)}},pointermove:function(t){var e=this.eventData(t);e.mousemoved||(e.mousemoved=0,this.undelegateEvents());var n=++e.mousemoved;if(!(n<=this.options.moveThreshold)){t=Le(t);var r=this.snapToGrid(t.clientX,t.clientY),s=e.sourceView;s?s.pointermove(t,r.x,r.y):this.trigger("blank:pointermove",t,r.x,r.y),this.eventData(t,e)}},pointerup:function(t){this.undelegateDocumentEvents();var e=Le(t),n=this.snapToGrid(e.clientX,e.clientY),r=this.eventData(t).sourceView;r?r.pointerup(e,n.x,n.y):this.trigger("blank:pointerup",e,n.x,n.y),e.isPropagationStopped()||this.pointerclick(new dt.Event(t.originalEvent,{type:"click",data:t.data})),this.delegateEvents()},mouseover:function(t){t=Le(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseover(t);else{if(this.el===t.target)return;this.trigger("blank:mouseover",t)}},mouseout:function(t){t=Le(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseout(t);else{if(this.el===t.target)return;this.trigger("blank:mouseout",t)}},mouseenter:function(t){t=Le(t);const{target:e,relatedTarget:n,currentTarget:r}=t,s=this.findView(e);if(this.guard(t,s))return;const a=this.findView(n);s&&(a===s||(s.mouseenter(t),this.el.contains(n)))||a||r===this.el&&this.trigger("paper:mouseenter",t)},mouseleave:function(t){t=Le(t);const{target:e,relatedTarget:n,currentTarget:r}=t,s=this.findView(e);if(this.guard(t,s))return;const a=this.findView(n);s&&(a===s||(s.mouseleave(t),this.el.contains(n)))||a||r===this.el&&this.trigger("paper:mouseleave",t)},_processMouseWheelEvtBuf:Kx(function(){const{event:t,deltas:e}=this._mw_evt_buffer,n=e.reduce((l,c)=>l+Ww(c,hE),0),r=Math.pow(.995,n),{x:s,y:a}=this.clientToLocalPoint(t.clientX,t.clientY);this.trigger("paper:pinch",t,s,a,r),this._mw_evt_buffer={event:null,deltas:[]}},Dg,{maxWait:Dg}),mousewheel:function(t){t=Le(t);const e=this.findView(t.target);if(this.guard(t,e))return;const n=t.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),{deltaX:s,deltaY:a}=Hw(n),l=this._events["paper:pinch"];if(t.ctrlKey&&l&&l.length>0)n.preventDefault(),this._mw_evt_buffer.event=t,this._mw_evt_buffer.deltas.push(a),this._processMouseWheelEvtBuf();else{const c=Math.max(-1,Math.min(1,n.wheelDelta));e?e.mousewheel(t,r.x,r.y,c):this.trigger("blank:mousewheel",t,r.x,r.y,c),this.trigger("paper:pan",t,s,a)}},onevent:function(t){var e=t.currentTarget,n=e.getAttribute("event");if(n){var r=this.findView(e);if(r){if(t=Le(t),this.guard(t,r))return;var s=this.snapToGrid(t.clientX,t.clientY);r.onevent(t,n,s.x,s.y)}}},magnetEvent:function(t,e){var n=t.currentTarget,r=n.getAttribute("magnet");if(r){var s=this.findView(n);if(s){if(t=Le(t),this.guard(t,s))return;var a=this.snapToGrid(t.clientX,t.clientY);e.call(this,s,t,n,a.x,a.y)}}},onmagnet:function(t){if(t.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const e=new dt.Event(t.originalEvent,{type:"contextmenu",data:t.data,currentTarget:t.currentTarget});this.magnetContextMenuTrigger(e),e.isPropagationStopped()&&t.stopPropagation()}else this.magnetEvent(t,function(e,n,r,s,a){e.onmagnet(n,s,a)})},magnetpointerdblclick:function(t){this.magnetEvent(t,function(e,n,r,s,a){e.magnetpointerdblclick(n,r,s,a)})},magnetcontextmenu:function(t){if(this.options.preventContextMenu&&t.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(t)},magnetContextMenuTrigger:function(t){this.magnetEvent(t,function(e,n,r,s,a){e.magnetcontextmenu(n,r,s,a)})},onlabel:function(t){var e=t.currentTarget,n=this.findView(e);if(!n||(t=Le(t),this.guard(t,n)))return;const r=this.customEventTrigger(t,n,e);if(r){if(r.isPropagationStopped())return;t.data=r.data}var s=this.snapToGrid(t.clientX,t.clientY);n.onlabel(t,s.x,s.y)},getPointerArgs(t){const e=Le(t),{x:n,y:r}=this.snapToGrid(e.clientX,e.clientY);return[e,n,r]},delegateDragEvents:function(t,e){e||(e={}),this.eventData({data:e},{sourceView:t||null,mousemoved:0}),this.delegateDocumentEvents(null,e)},guard:function(t,e){if(t.type==="mousedown"&&t.button===2||this.options.guard&&this.options.guard(t,e))return!0;if(t.data&&t.data.guarded!==void 0)return t.data.guarded;const{target:n}=t;return this.GUARDED_TAG_NAMES.includes(n.tagName)?!0:!(e&&e.model&&e.model instanceof or||this.el===n||this.svg.contains(n))},setGridSize:function(t){const{options:e}=this;return e.gridSize=t,e.drawGrid&&!e.drawGridSize&&this.getLayerView(Ue.GRID).renderGrid(),this},setGrid:function(t){return this.getLayerView(Ue.GRID).setGrid(t),this},updateBackgroundImage:function(t){t=t||{};var e=t.position||"center",n=t.size||"auto auto",r=this.scale(),s=this.translate();if(qt(e)){var a=s.tx+r.sx*(e.x||0),l=s.ty+r.sy*(e.y||0);e=a+"px "+l+"px"}qt(n)&&(n=new ht(n).scale(r.sx,r.sy),n=n.width+"px "+n.height+"px");const{background:c}=this.childNodes;c.style.backgroundSize=n,c.style.backgroundPosition=e},drawBackgroundImage:function(t,e){if(!(t instanceof HTMLImageElement)){this.childNodes.background.style.backgroundImage="";return}if(!(!this._background||this._background.id!==e.id)){e=e||{};var n,r=e.size,s=e.repeat||"no-repeat",a=e.opacity||1,l=Math.abs(e.quality)||1,c=this.constructor.backgroundPatterns[ov(s)];if(Jt(c)){t.width*=l,t.height*=l;var f=c(t,e);if(!(f instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=f.toDataURL("image/png"),s="repeat",qt(r)?(r.width*=f.width/t.width,r.height*=f.height/t.height):r===void 0&&(e.size={width:f.width/l,height:f.height/l})}else n=t.src,r===void 0&&(e.size={width:t.width,height:t.height});this.childNodes.background.style.opacity=a,this.childNodes.background.style.backgroundRepeat=s,this.childNodes.background.style.backgroundImage=`url(${n})`,this.updateBackgroundImage(e)}},updateBackgroundColor:function(t){this.$el.css("backgroundColor",t||"")},drawBackground:function(t){if(t=t||{},this.updateBackgroundColor(t.color),t.image){t=this._background=fn(t),bs(t);var e=document.createElement("img");e.onload=this.drawBackgroundImage.bind(this,e,t),e.src=t.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(t){this.options.interactive=t,rr(this._views,"setInteractivity",t)},isDefined:function(t){return!!this.svg.getElementById(t)},defineFilter:function(t){if(!qt(t))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var e=t.id,n=t.name;if(e||(e=n+this.svg.id+al(JSON.stringify(t))),!this.isDefined(e)){var r=Qw,s=r[n]&&r[n](t.args||{});if(!s)throw new Error("Non-existing filter "+n);var a=wt({filterUnits:"userSpaceOnUse"},t.attrs,{id:e});rt(s,a).appendTo(this.defs)}return e},defineGradient:function(t){if(!qt(t))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{type:r,id:s=r+e.id+al(JSON.stringify(t)),stops:a,attrs:l={}}=t;if(this.isDefined(s))return s;const c=Yt(a).map(({offset:p,color:g,opacity:h})=>rt("stop").attr({offset:p,"stop-color":g,"stop-opacity":Number.isFinite(h)?h:1})),f=rt(r,l,c);return f.id=s,f.appendTo(n),s},definePattern:function(t){if(!qt(t))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{id:r=e.id+al(JSON.stringify(t)),markup:s,attrs:a={}}=t;if(!s)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(r))return r;const l=rt("pattern",{patternUnits:"userSpaceOnUse"});if(l.id=r,l.attr(a),typeof s=="string")l.append(rt(s));else{const{fragment:c}=Pl(s);l.append(c)}return l.appendTo(n),r},defineMarker:function(t){if(!qt(t))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:e,defs:n}=this,{id:r=e.id+al(JSON.stringify(t)),markup:s,attrs:a={},markerUnits:l="userSpaceOnUse"}=t;if(this.isDefined(r))return r;const c=rt("marker",{orient:"auto",overflow:"visible",markerUnits:l});c.id=r,c.attr(a);let f;if(s){let h;if(typeof s=="string")h=rt(s),h=Array.isArray(h)?h:[h];else{const{fragment:x}=Pl(s);h=rt(x).children()}h.length>1?f=rt("g").append(h):f=h[0]}else{const{type:h="path"}=t;f=rt(h)}const p=Ho(t,"type","id","markup","attrs","markerUnits");return Object.keys(p).forEach(h=>{const x=p[h],w=f.attr(h);if(w==null)f.attr(h,x);else switch(h){case"transform":f.attr(h,x+" "+w);break}}),f.appendTo(c),c.appendTo(n),r},customEventTrigger:function(t,e,n=e.el){const r=t.target.closest("[event]");if(r&&n!==r&&e.el.contains(r)){const s=Le(new dt.Event(t.originalEvent,{data:t.data,currentTarget:r}));return this.onevent(s),s.isDefaultPrevented()&&t.preventDefault(),s}return null}},{sorting:ms,Layers:Ue,backgroundPatterns:{flipXy:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=2*n,e.height=2*r;var s=e.getContext("2d");return s.drawImage(t,0,0,n,r),s.setTransform(-1,0,0,-1,e.width,e.height),s.drawImage(t,0,0,n,r),s.setTransform(-1,0,0,1,e.width,0),s.drawImage(t,0,0,n,r),s.setTransform(1,0,0,-1,0,e.height),s.drawImage(t,0,0,n,r),e},flipX:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=n*2,e.height=r;var s=e.getContext("2d");return s.drawImage(t,0,0,n,r),s.translate(2*n,0),s.scale(-1,1),s.drawImage(t,0,0,n,r),e},flipY:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=n,e.height=r*2;var s=e.getContext("2d");return s.drawImage(t,0,0,n,r),s.translate(0,2*r),s.scale(1,-1),s.drawImage(t,0,0,n,r),e},watermark:function(t,e){e=e||{};var n=t.width,r=t.height,s=document.createElement("canvas");s.width=n*3,s.height=r*3;for(var a=s.getContext("2d"),l=Ge(e.watermarkAngle)?-e.watermarkAngle:-20,c=tn(l),f=s.width/4,p=s.height/4,g=0;g<4;g++)for(var h=0;h<4;h++)(g+h)%2>0&&(a.setTransform(1,0,0,1,(2*g-1)*f,(2*h-1)*p),a.rotate(c),a.drawImage(t,-n/2,-r/2,n,r));return s}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",render:function(t,e){rt(t).attr({width:e.thickness,height:e.thickness,fill:e.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",render:function(t,e){rt(t).attr({fill:e.color})},update:function(t,e,n){const{sx:r,sy:s}=n.scale(),a=r<=1?e.thickness:e.thickness/r,l=s<=1?e.thickness:e.thickness/s;rt(t).attr({width:a,height:l})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",render:function(t,e){var n,r=e.width,s=e.height,a=e.thickness;r-a>=0&&s-a>=0?n=["M",r,0,"H0 M0 0 V0",s].join(" "):n="M 0 0 0 0",rt(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",render:function(t,e){var n,r=e.width,s=e.height,a=e.thickness;r-a>=0&&s-a>=0?n=["M",r,0,"H0 M0 0 V0",s].join(" "):n="M 0 0 0 0",rt(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",render:function(t,e){var n,r=e.width,s=e.height,a=e.thickness;r-a>=0&&s-a>=0?n=["M",r,0,"H0 M0 0 V0",s].join(" "):n="M 0 0 0 0",rt(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}]}});function Gn(t,e,n,r){switch(t){case"full-circle":return`
            <circle
        cx="${e+r/2}"
        cy="${n+r/2}"
        r="${r/2}"
        stroke="#737475"
        stroke-width="1"
        fill="#737475"
      />`;case"empty-circle":return`
        <circle
    cx="${e+r/2}"
    cy="${n+r/2}"
    r="${r/2}"
    stroke="#737475"
    stroke-width="1"
    fill="none"
  />`;case"excel":return`
            <g transform="translate(${e}, ${n}) scale(${r/48})">
        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 48 48">
<path fill="#169154" d="M29,6H15.744C14.781,6,14,6.781,14,7.744v7.259h15V6z"></path><path fill="#18482a" d="M14,33.054v7.202C14,41.219,14.781,42,15.743,42H29v-8.946H14z"></path><path fill="#0c8045" d="M14 15.003H29V24.005000000000003H14z"></path><path fill="#17472a" d="M14 24.005H29V33.055H14z"></path><g><path fill="#29c27f" d="M42.256,6H29v9.003h15V7.744C44,6.781,43.219,6,42.256,6z"></path><path fill="#27663f" d="M29,33.054V42h13.257C43.219,42,44,41.219,44,40.257v-7.202H29z"></path><path fill="#19ac65" d="M29 15.003H44V24.005000000000003H29z"></path><path fill="#129652" d="M29 24.005H44V33.055H29z"></path></g><path fill="#0c7238" d="M22.319,34H5.681C4.753,34,4,33.247,4,32.319V15.681C4,14.753,4.753,14,5.681,14h16.638 C23.247,14,24,14.753,24,15.681v16.638C24,33.247,23.247,34,22.319,34z"></path><path fill="#fff" d="M9.807 19L12.193 19 14.129 22.754 16.175 19 18.404 19 15.333 24 18.474 29 16.123 29 14.013 25.07 11.912 29 9.526 29 12.719 23.982z"></path>
</svg>
</g>
            `;case"play":return`
                    <g transform="translate(${e}, ${n}) scale(${r/480})">
<svg width="200px" height="200px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle opacity="0.5" cx="12" cy="12" r="10" stroke="#1C274C" stroke-width="1.5"/>
<path d="M13.8876 9.9348C14.9625 10.8117 15.5 11.2501 15.5 12C15.5 12.7499 14.9625 13.1883 13.8876 14.0652C13.5909 14.3073 13.2966 14.5352 13.0261 14.7251C12.7888 14.8917 12.5201 15.064 12.2419 15.2332C11.1695 15.8853 10.6333 16.2114 10.1524 15.8504C9.6715 15.4894 9.62779 14.7336 9.54038 13.2222C9.51566 12.7947 9.5 12.3757 9.5 12C9.5 11.6243 9.51566 11.2053 9.54038 10.7778C9.62779 9.26636 9.6715 8.51061 10.1524 8.1496C10.6333 7.78859 11.1695 8.11466 12.2419 8.76679C12.5201 8.93597 12.7888 9.10831 13.0261 9.27492C13.2966 9.46483 13.5909 9.69274 13.8876 9.9348Z" stroke="#1C274C" stroke-width="1.5"/>
</svg>
</g>`;case"layer":return`
                     <g transform="translate(${e}, ${n}) scale(${r/480})">

     <svg width="200px" height="200px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M17.4 10L21 12L17.4 14M17.4 10L12 13L6.6 10M17.4 10L21 8L12 3L3 8L6.6 10M6.6 10L3 12L6.6 14M17.4 14L21 16L12 21L3 16L6.6 14M17.4 14L12 17L6.6 14" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</g>
 `;case"layer-blue":return`
                     <g @selector="layerBlue" transform="translate(${e}, ${n}) scale(${r/480})">

     <svg width="200px" height="200px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path  d="M17.4 10L21 12L17.4 14M17.4 10L12 13L6.6 10M17.4 10L21 8L12 3L3 8L6.6 10M6.6 10L3 12L6.6 14M17.4 14L21 16L12 21L3 16L6.6 14M17.4 14L12 17L6.6 14" stroke="#3173FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</g>
 `;case"collapse":return`
        
                     <g @selector="collapseIcon" transform="translate(${e}, ${n}) scale(${r/480})">

        <svg fill="#000000" width="200px" height="200px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.70710678,12 L19.5,12 C19.7761424,12 20,12.2238576 20,12.5 C20,12.7761424 19.7761424,13 19.5,13 L8.70710678,13 L11.8535534,16.1464466 C12.0488155,16.3417088 12.0488155,16.6582912 11.8535534,16.8535534 C11.6582912,17.0488155 11.3417088,17.0488155 11.1464466,16.8535534 L7.14644661,12.8535534 C6.95118446,12.6582912 6.95118446,12.3417088 7.14644661,12.1464466 L11.1464466,8.14644661 C11.3417088,7.95118446 11.6582912,7.95118446 11.8535534,8.14644661 C12.0488155,8.34170876 12.0488155,8.65829124 11.8535534,8.85355339 L8.70710678,12 L8.70710678,12 Z M4,5.5 C4,5.22385763 4.22385763,5 4.5,5 C4.77614237,5 5,5.22385763 5,5.5 L5,19.5 C5,19.7761424 4.77614237,20 4.5,20 C4.22385763,20 4,19.7761424 4,19.5 L4,5.5 Z"/>
</svg>
</g>
        `;case"clock":return`
                     <g @selector="clock" transform="translate(${e}, ${n}) scale(${r/480})">
                     <svg fill="#737475" height="200px" width="200px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 490 490" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path d="M245,0C109.5,0,0,109.5,0,245s109.5,245,245,245s245-109.5,245-245S380.5,0,245,0z M245,449.3 c-112.6,0-204.3-91.7-204.3-204.3S132.4,40.7,245,40.7S449.3,132.4,449.3,245S357.6,449.3,245,449.3z"></path> <path d="M290.9,224.1h-25v-95.9c0-11.5-9.4-20.9-20.9-20.9s-20.9,9.4-20.9,20.9V245c0,11.5,9.4,20.9,20.9,20.9h45.9 c11.5,0,20.9-9.4,20.9-20.9S302.3,224.1,290.9,224.1z"></path> </g> </g> </g></svg>
                     </g>`;case"commit":return`
            <g @selector="commit" transform="translate(${e}, ${n}) scale(${r/480})">
            <svg fill="#737475" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" stroke="#737475"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><title>ionicons-v5-d</title><path d="M448,224H380a128,128,0,0,0-247.9,0H64a32,32,0,0,0,0,64h68.05A128,128,0,0,0,380,288H448a32,32,0,0,0,0-64ZM256,320a64,64,0,1,1,64-64A64.07,64.07,0,0,1,256,320Z"></path></g></svg>
            </g>`;case"bright":return`
                <g @selector="bright" transform="translate(${e}, ${n}) scale(${r/480})">
                <svg viewBox="0 0 117 117" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title></title> <desc></desc> <defs></defs> <g fill="none" fill-rule="evenodd" id="Page-1" stroke="none" stroke-width="1"> <g fill-rule="nonzero" id="sun"> <path d="M58.5,86.6 C74,86.6 86.5,74 86.5,58.6 C86.5,43.2 73.9,30.6 58.5,30.6 C43.1,30.6 30.5,43.2 30.5,58.6 C30.5,74 43,86.6 58.5,86.6 Z M58.5,38.7 C69.5,38.7 78.4,47.6 78.4,58.6 C78.4,69.6 69.5,78.5 58.5,78.5 C47.5,78.5 38.6,69.6 38.6,58.6 C38.6,47.6 47.5,38.7 58.5,38.7 Z" fill="#737475" id="Shape"></path> <path d="M62.6,17.6 L62.6,4.7 C62.6,2.4 60.8,0.6 58.5,0.6 C56.2,0.6 54.4,2.4 54.4,4.7 L54.4,17.6 C54.4,19.9 56.2,21.7 58.5,21.7 C60.8,21.7 62.6,19.9 62.6,17.6 Z" fill="#747272" id="Shape"></path> <path d="M54.4,99.6 L54.4,112.5 C54.4,114.8 56.2,116.6 58.5,116.6 C60.8,116.6 62.6,114.8 62.6,112.5 L62.6,99.6 C62.6,97.3 60.8,95.5 58.5,95.5 C56.2,95.5 54.4,97.3 54.4,99.6 Z" fill="#747272" id="Shape"></path> <path d="M90.4,32.5 L99.5,23.4 C101.1,21.8 101.1,19.2 99.5,17.6 C97.9,16 95.3,16 93.7,17.6 L84.6,26.7 C83,28.3 83,30.9 84.6,32.5 C85.4,33.3 86.4,33.7 87.5,33.7 C88.6,33.7 89.6,33.3 90.4,32.5 Z" fill="#747272" id="Shape"></path> <path d="M17.5,99.6 C18.3,100.4 19.3,100.8 20.4,100.8 C21.4,100.8 22.5,100.4 23.3,99.6 L32.4,90.5 C34,88.9 34,86.3 32.4,84.7 C30.8,83.1 28.2,83.1 26.6,84.7 L17.5,93.8 C15.9,95.4 15.9,98 17.5,99.6 Z" fill="#747272" id="Shape"></path> <path d="M116.5,58.6 C116.5,56.3 114.7,54.5 112.4,54.5 L99.5,54.5 C97.2,54.5 95.4,56.3 95.4,58.6 C95.4,60.9 97.2,62.7 99.5,62.7 L112.4,62.7 C114.6,62.7 116.5,60.9 116.5,58.6 Z" fill="#747272" id="Shape"></path> <path d="M4.6,62.7 L17.5,62.7 C19.8,62.7 21.6,60.9 21.6,58.6 C21.6,56.3 19.8,54.5 17.5,54.5 L4.6,54.5 C2.3,54.5 0.5,56.3 0.5,58.6 C0.5,60.9 2.4,62.7 4.6,62.7 Z" fill="#747272" id="Shape"></path> <path d="M96.6,100.8 C97.6,100.8 98.7,100.4 99.5,99.6 C101.1,98 101.1,95.4 99.5,93.8 L90.4,84.7 C88.8,83.1 86.2,83.1 84.6,84.7 C83,86.3 83,88.9 84.6,90.5 L93.7,99.6 C94.5,100.4 95.6,100.8 96.6,100.8 Z" fill="#747272" id="Shape"></path> <path d="M32.4,32.5 C34,30.9 34,28.3 32.4,26.7 L23.3,17.6 C21.7,16 19.1,16 17.5,17.6 C15.9,19.2 15.9,21.8 17.5,23.4 L26.6,32.5 C27.4,33.3 28.4,33.7 29.5,33.7 C30.6,33.7 31.6,33.3 32.4,32.5 Z" fill="#747272" id="Shape"></path> </g> </g> </g></svg>
                </g>`;case"ticket":return`
                <g @selector="ticket" transform="translate(${e}, ${n}) scale(${r/480})">
                <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M16 2H0V6C1.10457 6 2 6.89543 2 8C2 9.10457 1.10457 10 0 10V14H16V10C14.8954 10 14 9.10457 14 8C14 6.89543 14.8954 6 16 6V2ZM8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z" fill="#737475"></path> </g></svg>
                </g>`;default:return""}}class hn extends Ne{defaults(){return{...super.defaults,hidden:!1}}isHidden(){return!!this.get("hidden")}static isUMLElement(e){return e instanceof hn}}class Ug extends hn{defaults(){return{...super.defaults(),type:"UMLInitialNode",size:{width:65,height:37},attrs:{body:{fill:"#030F2E",stroke:"#030F2E",strokeWidth:2,width:"calc(w)",height:"calc(h)",rx:4,ry:4,padding:10},label:{text:"Start",fill:"white",fontSize:14,fontWeight:500,textVerticalAnchor:"middle",textAnchor:"middle",fontFamily:"sans-serif",x:"calc(w/2)",y:"calc(h/2)"},port:{cx:"calc(0.5 * w)",cy:"calc(h)",fill:"#2BD4BD",stroke:"#FFFFFFF",strokeWidth:10,r:5},portOuter:{cx:"calc(0.5 * w)",cy:"calc(h)",fill:"#FFFFFF",stroke:"#FFFFFF",strokeWidth:10,r:3}}}}preinitialize(){this.markup=Sr`
            <rect @selector="body" />
            <text @selector="label" />
            <circle @selector="portOuter" />
            <circle @selector="port" />
        `}}class mE extends hn{defaults(){return{...super.defaults(),type:"UMLEndNode",size:{width:65,height:37},attrs:{body:{fill:"#030F2E",stroke:"#030F2E",strokeWidth:2,width:"calc(w)",height:"calc(h)",rx:4,ry:4,padding:10},label:{text:"End",fill:"white",fontSize:14,fontWeight:500,textVerticalAnchor:"middle",textAnchor:"middle",fontFamily:"sans-serif",x:"calc(w/2)",y:"calc(h/2)"},port:{cx:"calc(0.5 * w)",cy:"0",fill:"#2BD4BD",stroke:"#FFFFFFF",strokeWidth:10,r:5},portOuter:{cx:"calc(0.5 * w)",cy:"0",fill:"#FFFFFF",stroke:"#FFFFFF",strokeWidth:10,r:3}}}}preinitialize(){this.markup=Sr`
            <rect @selector="body" />
            <text @selector="label" />
            <circle @selector="portOuter" />
            <circle @selector="port" />
        `}}class vE extends hn{defaults(){return{...super.defaults(),type:"UMLActionNode",size:{width:300,height:150},attrs:{body:{fill:"#FFC107",stroke:"#FFC107",strokeWidth:2,rx:15,ry:15},label:{text:"Action",fill:"black",fontSize:16,fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"start",fontFamily:"sans-serif"},port:{cx:"calc(0.5 * w)",cy:"calc(h)",fill:"#2BD4BD",stroke:"#FFFFFFF",strokeWidth:10,r:5},portOuter:{cx:"calc(0.5 * w)",cy:"calc(h)",fill:"#FFFFFF",stroke:"#FFFFFF",strokeWidth:10,r:3}}}}preinitialize(){const e=Gn("excel",8,100,48),n=Gn("play",270,20,48);this.markup=Sr`
            <rect @selector="body" />
            <text @selector="label" />
            <circle @selector="icon1" />
            <text @selector="text1" />
            <circle @selector="icon2" />
            <text @selector="text2" />
            ${e}
            ${n}
            <circle @selector="portOuter" />
            <circle @selector="port" />

        `}}class yE extends hn{constructor(...e){super(...e),this.on("change:collapsed",this.onCollapseChange,this),this.onCollapseChange()}onCollapseChange(){const e=this.isCollapsed(),n=e?280:308,r=e?110:300;this.resize(n,r),this.attr({label:{x:e?120:150,y:e?50:80,textWrap:{width:e?"80%":"calc(w - 30)",height:e?"30%":"100%",ellipsis:!0}},clock:{display:e?"none":"block"},commit:{display:e?"none":"block"},bright:{display:e?"none":"block"},ticket:{display:e?"none":"block"},line:{display:e?"none":"block"},info1:{display:e?"none":"block"},info2:{display:e?"none":"block"},info3:{display:e?"none":"block"},info4:{display:e?"none":"block"},rectangleBox:{display:e?"none":"block"},description:{display:e?"none":"block"},collapseIcon:{transform:e?"translate(266,61) rotate(180) scale(0.208)":"translate(280,48) scale(0.125)"}})}toggleCollapse(){this.set("collapsed",!this.isCollapsed())}isCollapsed(){return!!this.get("collapsed")}defaults(){return{...super.defaults(),type:"UMLInformationNode",collapsed:!0,size:{width:400,height:300},attrs:{body:{fill:"#E6E6E6",stroke:"#FFFFFFF",strokeWidth:2,rx:15,ry:15,event:"info:collapse"},label:{text:"Information",fill:"black",color:"black",fontSize:16,fontWeight:"bold",textAnchor:"start",fontFamily:"sans-serif"},collapseIcon:{event:"info:collapse"}}}}preinitialize(){const e=Gn("collapse",300,48,60),n=Gn("clock",20,163,35),r=Gn("commit",75,40,15),s=Gn("bright",135,40,15),a=Gn("ticket",185,40,15);this.markup=Sr`
            <rect @selector="body" />
            <text @selector="label" />
            ${e}
            <line @selector="line" x1="20" y1="150" x2="280" y2="150" stroke="#99bbff" stroke-width="2" />
            ${n}
            <text @selector="info1"/>
            ${r}
            <text @selector="info2"/>
            ${s}
            <text @selector="info3"/>
            ${a}
            <text @selector="info4"/>
            
            <rect @selector="rectangleBox" x="20" y="200" width="280" height="60" fill="#e6ecff" rx="4" ry="4" />
            <text @selector="description"/>

            
        `}}class xE extends hn{defaults(){return{...super.defaults(),type:"UMLSmallActionNode",size:{width:300,height:100},attrs:{body:{fill:"#FFC107",stroke:"#FFC107",strokeWidth:2,rx:15,ry:15},label:{text:"Action",fill:"black",fontSize:16,fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"start",fontFamily:"sans-serif"},port:{cx:"calc(0.5 * w)",cy:"calc(h)",fill:"#2BD4BD",stroke:"#FFFFFFF",strokeWidth:10,r:5},portOuter:{cx:"calc(0.5 * w)",cy:"calc(h)",fill:"#FFFFFF",stroke:"#FFFFFF",strokeWidth:10,r:3}}}}preinitialize(){this.markup=Sr`
            <rect @selector="body" />
            <text @selector="label" />
            <circle @selector="icon1" />
            <text @selector="text1" />
            <circle @selector="icon2" />
            <text @selector="text2" />

            <circle @selector="portOuter" />
            <circle @selector="port" />

        `}}const Gg=60,wl=45,wE=8,vs=wl-wE*2,$g={"+":`M ${vs/2} 4 V ${vs-4} M 4 ${vs/2} H ${vs-4}`,"-":`M 4 ${vs/2} H ${vs-4}`};class Lo extends Ne{defaults(){return{...super.defaults,type:"UMLSwimlane",collapsed:!1,expandedHeight:null,sizeMap:{width:350,height:2750,collapsedWidth:50},attrs:{body:{fill:"transparent",stroke:"#E6E6E6",strokeWidth:1,width:"calc(w)",height:"calc(h)"},header:{stroke:"transparent",height:wl,width:"calc(w)",event:"header:collapse"},divider:{stroke:"transparent",strokeWidth:2,d:`M 0 ${wl} H calc(w)`},label:{text:"Swimlane",fill:"#333",fontSize:Gg*.4,fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"start",fontFamily:"sans-serif",x:"calc(0.33*w)",event:"header:collapse",textDecoration:"underline"}}}}preinitialize(...e){const n=Gn("layer-blue",10,15,60);this.markup=Sr`
            <g>
              <rect @selector="body" />
              <rect @selector="header" />
              <path @selector="divider" />
              <text @selector="label" />
              ${n}
              </g>
          `}constructor(...e){super(...e),this.on("change:collapsed",this.onCollapseChange,this),this.onCollapseChange()}toggleCollapse(){this.set("collapsed",!this.isCollapsed())}isCollapsed(){return!!this.get("collapsed")}onCollapseChange(){const e=this.get("sizeMap"),n=this.isCollapsed(),r=n?0:e.width;this.resize(r,e.height),this.attr({buttonSign:{d:n?$g["+"]:$g["-"]},layerBlue:{display:n?"none":"block"},label:n?{fontSize:0}:{writingMode:"lr",textAnchor:"middle",y:wl/2,fontSize:Gg*.4}})}triggerNextCollapse(e){e instanceof Lo&&e.set("collapsed",!1)}updateChildrenVisibility(){const e=this.isCollapsed();this.getEmbeddedCells().forEach(n=>{n.set("hidden",e),n.attr("./display",e?"none":"block")})}}const Eo=60;class Hg extends Ne{defaults(){return{...super.defaults,type:"UMLPool",attrs:{body:{fill:"#FFFFFF",width:"calc(w)",height:"calc(h)"},header:{stroke:"#F2F2F2",strokeWidth:2,fill:"#F6F6F6",height:Eo,width:"calc(w)"},label:{fill:"#fff",fontSize:Eo*.7,fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",fontFamily:"sans-serif",x:"calc(w / 2)",y:Eo/2,textWrap:{ellipsis:!0,width:"calc(w - 20)",maxLineCount:1}}}}}preinitialize(...e){this.markup=Sr`
              <rect @selector="body" />
              <rect @selector="header" />
              <text @selector="label" />
          `}layoutSwimlanes(e){let n=0,r=60;e.forEach(s=>{s.updateChildrenVisibility(),s.position(n,r,{deep:!0,parentRelative:!0}),n+=s.size().width,r+=Eo}),this.fitEmbeds({padding:{top:Eo}})}}class Yc extends hn{defaults(){return{...super.defaults(),type:"UMLActivity",size:{width:48,height:48},attrs:{body:{fill:"white",stroke:"#0000001A",strokeWidth:2,width:"calc(w)",height:"calc(h)",rx:8,ry:8},label:{text:"Activity",fill:"black",fontSize:16,fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",fontFamily:"sans-serif",x:"calc(w/2)",y:"calc(h/2)"}}}}preinitialize(){const e=Gn("layer",10,13,60);this.markup=Sr`
              <rect @selector="body" />
              ${e}
          `}}function SE(t,e,n){const r=n.sourceBBox,s=n.targetBBox,a=n.sourceAnchor,l=n.targetAnchor,{x:c,y:f}=s,{x:p,y:g}=r,h=a.clone(),x=e.spacing||28,w=r.sideNearestToPoint(a);switch(w){case"left":h.x=p-x;break;case"right":h.x=p+r.width+x;break;case"top":h.y=g-x;break;case"bottom":h.y=g+r.height+x;break}const b=l.clone(),P=s.sideNearestToPoint(l);switch(P){case"left":b.x=s.x-x;break;case"right":b.x=s.x+s.width+x;break;case"top":b.y=s.y-x;break;case"bottom":b.y=s.y+s.height+x;break}const{x:T,y:C}=h,{x:L,y:M}=b,R=c+s.width,G=f+s.height,X=(c+R)/2,v=(f+G)/2,S=p+r.width,E=g+r.height,k=(p+S)/2,O=(g+E)/2,U=(k<X?S+c:R+p)/2,W=(O<v?E+f:G+g)/2,Q=p-x,it=S+x,I=c-x,B=R+x,N=g-x,D=E+x;if(w==="left"&&P==="right"){if(p<R){let _=W;return T<c&&(G>=N&&v<O?_=Math.min(f-x,N):f<=D&&v>=O&&(_=Math.max(G+x,D))),[{x:T,y:C},{x:T,y:_},{x:L,y:_},{x:L,y:M}]}const $=(T+L)/2;return[{x:$,y:C},{x:$,y:M}]}else if(w==="right"&&P==="left"){if(p>R){let _=W;return T>R&&(G>=N&&v<O?_=Math.min(f-x,N):f<=D&&v>=O&&(_=Math.max(G+x,D))),[{x:T,y:C},{x:T,y:_},{x:L,y:_},{x:L,y:M}]}const $=(T+L)/2;return[{x:$,y:C},{x:$,y:M}]}else if(w==="top"&&P==="bottom"){if(C<M){let _=U,j=C;return C<f&&(R>=Q&&X<k?_=Math.min(c-x,Q):c<=it&&X>=k&&(_=Math.max(R+x,it))),[{x:T,y:j},{x:_,y:j},{x:_,y:M},{x:L,y:M}]}const $=(C+M)/2;return[{x:T,y:$},{x:L,y:$}]}else if(w==="bottom"&&P==="top"){if(C-x>M){let _=U,j=C;return C>G&&(R>=Q&&X<k?_=Math.min(c-x,Q):c<=it&&X>=k&&(_=Math.max(R+x,it))),[{x:T,y:j},{x:_,y:j},{x:_,y:M},{x:L,y:M}]}const $=(C+M)/2;return[{x:T,y:$},{x:L,y:$}]}else if(w==="top"&&P==="top"){let $,_=Math.min((E+f)/2,M),j=Math.min((g+G)/2,C);if(M<C){if(T>=B||T<=I)return[{x:T,y:Math.min(C,M)},{x:L,y:Math.min(C,M)}];L>T?$=Math.min(T,I):$=Math.max(T,B)}else{if(L>=it||L<=Q)return[{x:T,y:Math.min(C,M)},{x:L,y:Math.min(C,M)}];X>=k?$=Math.max(L,it):$=Math.min(L,Q)}return[{x:T,y:j},{x:$,y:j},{x:$,y:_},{x:L,y:_}]}else if(w==="bottom"&&P==="bottom"){if(c>=it||R<=Q)return[{x:T,y:Math.max(C,M)},{x:L,y:Math.max(C,M)}];let $,_,j;return M>C?(_=Math.max((E+f)/2,M),j=Math.max((E+f)/2,C),L>T?$=Math.min(T,I):$=Math.max(T,B)):(_=Math.max((g+G)/2,M),j=Math.max((g+G)/2,C),X>=k?$=Math.max(L,it):$=Math.min(L,Q)),[{x:T,y:j},{x:$,y:j},{x:$,y:_},{x:L,y:_}]}else if(w==="left"&&P==="left"){let $,_=Math.min((S+c)/2,L),j=Math.min((p+R)/2,T);const mt=g-x,st=E+x,ut=f-x,ft=G+x;return L>T?M<=C?$=Math.min(mt,M):$=Math.max(st,M):M>=C?$=Math.min(ut,C):$=Math.max(ft,C),[{x:j,y:C},{x:j,y:$},{x:_,y:$},{x:_,y:M}]}else if(w==="right"&&P==="right"){let $,_=Math.max((p+R)/2,L),j=Math.max((S+c)/2,T);const mt=g-x,st=E+x,ut=f-x,ft=G+x;return L<T?M<=C?$=Math.min(mt,M):$=Math.max(st,M):M>=C?$=Math.min(ut,C):$=Math.max(ft,C),[{x:j,y:C},{x:j,y:$},{x:_,y:$},{x:_,y:M}]}else if(w==="top"&&P==="right"){if(C>M){if(T<L){let _=(g+G)/2;return _>v&&_<G+x&&T<c-x&&(_=f-x),[{x:T,y:_},{x:L,y:_},{x:L,y:M}]}return[{x:T,y:M}]}const $=U;if(T>L&&E>=M)return[{x:T,y:C},{x:$,y:C},{x:$,y:M}];if($>Q&&C<G){const _=Math.min(g,f)-x,j=Math.max(S,R)+x;return[{x:T,y:_},{x:j,y:_},{x:j,y:M}]}return[{x:T,y:C},{x:$,y:C},{x:$,y:M}]}else if(w==="top"&&P==="left"){if(C>M){if(T>L){let _=(g+G)/2;return _>v&&_<G+x&&T>R+x&&(_=f-x),[{x:T,y:_},{x:L,y:_},{x:L,y:M}]}return[{x:T,y:M}]}const $=U;if(T<L&&E>=M)return[{x:T,y:C},{x:$,y:C},{x:$,y:M}];if($<it&&C<G){const _=Math.min(g,f)-x,j=Math.min(p,c)-x;return[{x:T,y:_},{x:j,y:_},{x:j,y:M}]}return[{x:T,y:C},{x:$,y:C},{x:$,y:M}]}else if(w==="bottom"&&P==="right"){if(C<M){if(T<L){let _=(E+f)/2;return _<v&&_>f-x&&T<c-x&&(_=G+x),[{x:T,y:_},{x:L,y:_},{x:L,y:M}]}return[{x:T,y:M}]}else if(p<L){const _=Math.max(E,G)+x,j=Math.max(S,R)+x;return[{x:T,y:_},{x:j,y:_},{x:j,y:M}]}const $=U;return[{x:T,y:C},{x:$,y:C},{x:$,y:M}]}else if(w==="bottom"&&P==="left"){if(C<M){if(T>L){let _=(E+f)/2;return _<v&&_>f-x&&T>R+x&&(_=G+x),[{x:T,y:_},{x:L,y:_},{x:L,y:M}]}return[{x:T,y:M}]}else if(S>L){const _=Math.max(E,G)+x,j=Math.min(p,c)-x;return[{x:T,y:_},{x:j,y:_},{x:j,y:M}]}const $=U;return[{x:T,y:C},{x:$,y:C},{x:$,y:M}]}else if(w==="left"&&P==="bottom"){if(T>L&&C>=M)return[{x:L,y:C}];if(T>R&&C<M){const j=U;return[{x:j,y:C},{x:j,y:M},{x:L,y:M}]}const $=Math.min(p,c)-x;let _=Math.max(E,G)+x;return L<=S&&M<C?(_=(G+g)/2,[{x:T,y:C},{x:T,y:_},{x:L,y:_}]):[{x:$,y:C},{x:$,y:_},{x:L,y:_}]}else if(w==="left"&&P==="top"){if(T>L&&C<=M)return[{x:L,y:C}];if(T>R&&C>M){const j=(p+R)/2;return[{x:j,y:C},{x:j,y:M},{x:L,y:M}]}const $=Math.min(p,c)-x;let _=Math.min(g,f)-x;return L<=S&&M>C?(_=(f+E)/2,[{x:T,y:C},{x:T,y:_},{x:L,y:_}]):[{x:$,y:C},{x:$,y:_},{x:L,y:_}]}else if(w==="right"&&P==="top"){if(T<L&&C<=M)return[{x:L,y:C}];let $=(S+c)/2;if(S<c&&C>M)return[{x:$,y:C},{x:$,y:M},{x:L,y:M}];if($<S+x&&E>f){$=Math.max(R+x,T);const j=Math.min(g,f)-x;return[{x:$,y:C},{x:$,y:j},{x:L,y:j}]}const _=(E+f)/2;if(_<=E&&L<p){const j=Math.max(S,R)+x,mt=Math.min(g,f)-x;return[{x:j,y:C},{x:j,y:mt},{x:L,y:mt}]}return[{x:T,y:C},{x:T,y:_},{x:L,y:_}]}else if(w==="right"&&P==="bottom"){let $=(S+c)/2;if(S<$)return C<M?[{x:$,y:C},{x:$,y:M},{x:L,y:M}]:[{x:L,y:C}];if($<S+x&&g<G){$=Math.max(R+x,T);const j=Math.max(E,G)+x;return[{x:$,y:C},{x:$,y:j},{x:L,y:j}]}const _=(g+G)/2;if(_>=g&&L<p){const j=Math.max(S,R)+x,mt=Math.max(E,G)+x;return[{x:j,y:C},{x:j,y:mt},{x:L,y:mt}]}return[{x:T,y:C},{x:T,y:_},{x:L,y:_}]}}function bE(){const t=Ce.useRef(null),e=Ce.useRef(null);Ce.useEffect(()=>{t.current&&t.current.fitToViewer()},[]);let n=600,r=30,s=1700,a=147;const[l,c]=Ce.useState(!1),[f,p]=Ce.useState(150),[,g]=Ce.useState(30),[h,x]=Ce.useState(!1),[w,b]=Ce.useState(600),[P,T]=Ce.useState(30),[C,L]=Ce.useState(!1),[M,R]=Ce.useState(600),[G,X]=Ce.useState(30),[v,S]=Ce.useState(!1),[E,k]=Ce.useState(600),[O,U]=Ce.useState(30),[W,Q]=Ce.useState(!1),it=[l,h,C,v,W],I=[c,x,L,S,Q];return Ce.useEffect(()=>{var Yo;const B=It=>function(Ut,Bt,xt,te,Xt,ce){const{model:ae}=Ut;if(!hn.isUMLElement(ae)||!ae.isHidden())return hf[It].call(this,Ut,Bt,xt,te,Xt,ce);const sn=ae.getParentCell();if(!sn)return null;const kr=sn.getBBox(),_r=ae.getBBox();let Yn=_r.y;switch(It){case"left":case"right":Yn+=_r.height/2;break;case"bottom":Yn+=_r.height;break;case"top":default:Yn+=_r.height/2}Yn+=te.dy||0;const re=1;let yn=kr.x;const{model:Lr}=ce.getEndView(Xt==="source"?"target":"source");return Lr.position().x>kr.x?yn+=kr.width-re:yn+=re,new z(yn,Yn)},$={width:350,height:19250,collapsedWidth:50},_={...l2,UMLPool:Hg,UMLSwimlane:Lo,UMLInitialNode:Ug,UMLActivity:Yc},j=[{title:"Subprocess",color:"#ffffff",text:"#191919",mainColor:"#FFFFFF"},{title:"Task",color:"#ffffff",text:"#191919",mainColor:"#FFFFFF"},{title:"Action",color:"#ffffff",text:"#191919",mainColor:"#FFFFFF"},{title:"Subaction",color:"#ffffff",text:"#191919",mainColor:"#FFFFFF"},{title:"Event",color:"#ffffff",text:"#191919",mainColor:"#FFFFFF"}],mt=new Zf({},{cellNamespace:_}),st=new Vg({gridSize:5,width:800,height:19350,model:mt,async:!0,sorting:Vg.sorting.APPROX,defaultRouter:SE,defaultConnectionPoint:{name:"anchor"},cellViewNamespace:_,restrictTranslate:It=>{const Ut=It.model.getParentCell();if(!Ut)return!1;const{x:Bt,y:xt,width:te,height:Xt}=Ut.getBBox();return new ht(Bt,xt+60,te,Xt-60).inflate(-5).toJSON()},interactive:It=>{const{model:Ut}=It;return{linkMove:!1,elementMove:hn.isUMLElement(Ut)}},viewport:It=>{const Ut=It.model;if(Ut.isLink()){const Bt=Ut.getSourceElement(),xt=Ut.getTargetElement();return!hn.isUMLElement(Bt)||!hn.isUMLElement(xt)?!0:!Bt.isHidden()||!xt.isHidden()}return hn.isUMLElement(Ut)?!Ut.isHidden():!0},elementView:Ts.extend({presentationAttributes:Ts.addPresentationAttributes({hidden:["UPDATE"]})}),anchorNamespace:{...hf,left:B("left"),right:B("right"),top:B("top"),bottom:B("bottom")}});function ut(It,Ut,Bt){const xt=new Ug;return Bt.embed(xt),xt.addTo(mt),xt.position(It,Ut+60,{parentRelative:!0}),xt}function ft(It,Ut,Bt){const xt=new mE;return Bt.embed(xt),xt.addTo(mt),xt.position(It,Ut+60,{parentRelative:!0}),xt}function et(It,Ut,{sourceSide:Bt,dx:xt=0,dy:te=0},{targetSide:Xt,dx:ce=0,dy:ae=0},sn="",kr,_r,Yn,re){const yn=new Dv({source:{id:It.id,anchor:{name:Bt,args:{dx:xt,dy:te}}},target:{id:Ut.id,anchor:{name:Xt,args:{dx:ce,dy:ae}}},defaultLabel:{markup:Sr`
          
                      <g>
            <rect @selector="labelBody" />
            
            ${Bt==="bottom"&&Xt==="right"||Bt==="right"&&Xt==="left"||Bt==="left"&&Xt==="right"?Gn(Yn,20,14,10):Gn(Yn,-15,14,10)}
           
           <text @selector="labelText"></text>
        </g>
                  `,attrs:{labelText:{fill:"#00000",fontSize:12,fontFamily:"sans-serif",fontWeight:"bold",textAnchor:"start",textVerticalAnchor:"middle",x:"35",y:"20"},labelBody:{rx:4,ry:4,ref:"labelText",x:"calc(x-20)",y:"calc(y - 10)",width:"calc(w + 25)",height:"calc(h + 17)",fill:"#F2F2F2",stroke:"#D3D3D3",strokeWidth:1}}}});if(sn){const Lr=Xt=="left";let Mr="middle";if(Lr)switch(Bt){case"left":Mr="end";break;case"right":Mr="start";break}else switch(Xt){case"left":Mr="end";break;case"right":Mr="start";break}const $i={distance:Lr?225:-60};yn.attr({line:{stroke:"#A1A1AA"}}),yn.connector("rounded"),yn.labels([{attrs:{labelText:{text:kr+"/"+_r,textAnchor:Mr}},position:$i}])}return yn.addTo(mt),re==null||re.embed(yn),yn}function ot(It,Ut,Bt,xt,te){const Xt={attrs:{body:{fill:"#ffc299",stroke:"#ffffff",strokeWidth:2,width:"calc(w)",height:"calc(h)",rx:15,ry:15,event:"swimlane:collapse",...xt==null?void 0:xt.body},label:{text:xt==null?void 0:xt.label,fill:"black",fontSize:16,fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",fontFamily:"sans-serif",y:"calc(h/5)",x:"calc(0.35 * w)"}}};xt!=null&&xt.info&&xt.info.forEach((ae,sn)=>{Xt.attrs[`text${sn+1}`]={text:ae.text,fill:"black",fontSize:14,fontFamily:"sans-serif",fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",x:ae.icon.x+45,y:ae.icon.y+20},Xt.attrs[`icon${sn+1}`]={cx:ae.icon.x,cy:ae.icon.y+20,r:ae.icon.r,fill:ae.icon.isFill?"#737475":"none",stroke:"#737475",strokeWidth:2}});let ce;return te?ce=new Yc(Xt):ce=new vE(Xt),Bt.embed(ce),ce.addTo(mt),ce.position(It,Ut+60,{parentRelative:!0}),ce}function vt(It,Ut,Bt,xt,te){const Xt={attrs:{body:{fill:"#ffc299",stroke:"#ffffff",strokeWidth:2,width:"calc(w)",height:"calc(h)",rx:15,ry:15,event:"swimlane:collapse",...xt==null?void 0:xt.body},label:{text:xt==null?void 0:xt.label,fill:"black",fontSize:16,fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",fontFamily:"sans-serif",y:"calc(h/5)",x:"calc(0.35 * w)"}}};xt!=null&&xt.info&&xt.info.forEach((ae,sn)=>{Xt.attrs[`text${sn+1}`]={text:ae.text,fill:"black",fontSize:14,fontFamily:"sans-serif",fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",x:ae.icon.x+45,y:ae.icon.y+20},Xt.attrs[`icon${sn+1}`]={cx:ae.icon.x,cy:ae.icon.y+20,r:ae.icon.r,fill:ae.icon.isFill?"#737475":"none",stroke:"#737475",strokeWidth:2}});let ce;return te?ce=new Yc(Xt):ce=new xE(Xt),Bt.embed(ce),ce.addTo(mt),ce.position(It,Ut+60,{parentRelative:!0}),ce}function Ot(It,Ut,Bt,xt){const te=new yE({attrs:{body:{fill:"#ffffff",stroke:"#F1f1f1",strokeWidth:2,width:"calc(w)",height:"calc(h)",rx:15,ry:15},header:{color:"#ffffff",text:xt==null?void 0:xt.header,fontSize:26,fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",fontFamily:"sans-serif",y:"60",x:"110"},label:{text:xt==null?void 0:xt.label,color:"#000000",fontSize:20,fontFamily:"sans-serif",fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",x:"130",y:"100"},description:{text:xt==null?void 0:xt.description.text,color:"#668cff",fill:"black",fontSize:14,fontFamily:"sans-serif",fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",x:xt==null?void 0:xt.description.x,y:xt==null?void 0:xt.description.y}}});return xt==null||xt.info.forEach((Xt,ce)=>{te.attr(`info${ce+1}`,{text:Xt.text,fill:"black",fontSize:14,fontFamily:"sans-serif",fontWeight:"bold",textVerticalAnchor:"middle",textAnchor:"middle",x:Xt.icon.x+25,y:Xt.icon.y+1}),te.attr(`icon${ce+1}`,{cx:Xt.icon.x,cy:Xt.icon.y,r:Xt.icon.r,fill:Xt.icon.isFill?"#737475":"none",stroke:"#737475",strokeWidth:2})}),Bt.embed(te),te.addTo(mt),te.position(It,Ut+60,{parentRelative:!0}),te}const kt=new Hg({attrs:{label:{}}});kt.addTo(mt);const Dt=j.map((It,Ut)=>{let Bt=!0,xt=3250;switch(Ut){case 0:xt=15250,Bt=!1;break;case 1:Bt=!it[0],xt=15250;break;case 2:Bt=!it[1],xt=15250;break;case 3:Bt=!it[2],xt=15250;break;case 4:Bt=!it[3],xt=15250;break}const te=new Lo({collapsed:Bt,sizeMap:{width:350,height:xt,collapsedWidth:50},attrs:{label:{text:It.title,fill:It.text||"#333"},header:{fill:It.color},body:{fill:It.mainColor},button:{fill:It.mainColor},buttonSign:{stroke:It.text||"#333"}}});return kt.embed(te),te.addTo(mt),te}),[Lt,Et,Ft,gt,q]=Dt;Dt.forEach(It=>{let Ut=40;(It===gt||It===q)&&(Ut=10);const Bt=Ot(Ut,10,It,{header:"Subaction",label:"Common Path for claim",info:[{icon:{x:25,y:170,r:8,isFill:!0},text:"23"},{icon:{x:85,y:170,r:8,isFill:!1},text:"3.1"},{icon:{x:145,y:170,r:8,isFill:!1},text:"5"},{icon:{x:195,y:170,r:8,isFill:!0},text:"23"}],description:{text:"The claim is based on common path",x:150,y:215}});(It===gt||It===q)&&Bt.toggleCollapse()});const tt=ut(147,150,Lt),J=vt(h?P:30,280,Lt,{label:"Claim Initiation         ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"2.6 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"540(75%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}},h);et(tt,J,{sourceSide:"bottom"},{targetSide:"top"},"label","28.6 min","72%","empty-circle",Lt);const bt=vt(h?P:30,450,Lt,{label:"Claim Validation         ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"3.4 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"138(45%)"}],body:{fill:"#F4F4F5",stroke:"#F1f1f1",strokeWidth:2,cursor:"pointer"}},h);et(J,bt,{sourceSide:"bottom"},{targetSide:"top"},"label","74.8 min","68%","empty-circle");const Ht=vt(P,f+500,Lt,{label:"Claim Processing        ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"4.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"592(82%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}},h);l||et(bt,Ht,{sourceSide:"bottom"},{targetSide:"top"},"label","38.2 min","45%","empty-circle");const Vt=vt(P,f+750,Lt,{label:"Quality check              ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"2.1 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"132(40%)"}],body:{fill:"#FED6A9",stroke:"#F1f1f1",strokeWidth:2}},h);et(Ht,Vt,{sourceSide:"bottom"},{targetSide:"top"},"label","25.9 min","51%","empty-circle");const ar=vt(P,f+1e3,Lt,{label:"Supervisor Approval     ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"7.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"278(60%)"}],body:{fill:"#FEC49A",stroke:"#F1f1f1",strokeWidth:2}},h);et(Vt,ar,{sourceSide:"bottom"},{targetSide:"top"},"label","91.4 min","73%","empty-circle");const Mn=vt(P,f+1250,Lt,{label:"Claim Closure               ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"6.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"102(25%)"}],body:{fill:"#F4F4F5",stroke:"#F1f1f1",strokeWidth:2}},h);et(ar,Mn,{sourceSide:"bottom"},{targetSide:"top"},"label","45.7 min","27%","empty-circle");const Hn=ft(147,f+1500,Lt);et(Mn,Hn,{sourceSide:"bottom"},{targetSide:"top"},"label","67.3 min","29%","empty-circle");const de=ut(147,350,Et),ee=vt(C?G:30,580,Et,{label:"Verify Claimant ID      ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"3.4 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"233(42%)"}],body:{fill:"#F4F4F5",stroke:"#F1f1f1",strokeWidth:2,cursor:"pointer"}},C);et(de,ee,{sourceSide:"bottom"},{targetSide:"top"},"label","24.1 min","28%","empty-circle"),l&&et(bt,de,{sourceSide:"bottom"},{targetSide:"left"},"label","24.1 min","28%","empty-circle",Et);const gn=vt(C?G:30,w+320,Et,{label:"Confirm Contact Info   ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"3.4 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"233(42%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}},C);h||et(ee,gn,{sourceSide:"bottom"},{targetSide:"top"},"label","55.2 min","63%","empty-circle");const ai=vt(G,w+540,Et,{label:"Check Claim Type       ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"4.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"258(60%)"}],body:{fill:"#F4F4F5",stroke:"#F1f1f1",strokeWidth:2}},C);et(gn,ai,{sourceSide:"bottom"},{targetSide:"top"},"label","62.1 min","54%","empty-circle");const Wn=vt(G,w+740,Et,{label:"Review Initial Documents",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"2.1 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"138(45%)"}],body:{fill:"#FE9B71",stroke:"#F1f1f1",strokeWidth:2}},C);et(ai,Wn,{sourceSide:"bottom"},{targetSide:"top"},"label","89.2 min","62%","empty-circle");const jn=vt(G,w+950,Et,{label:"Confirm Coverage",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"7.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"389(78%)"}],body:{fill:"#FEC49A",stroke:"#F1f1f1",strokeWidth:2}},C);et(Wn,jn,{sourceSide:"bottom"},{targetSide:"top"},"label","78.2 min","82%","empty-circle");const zi=vt(G,w+1120,Et,{label:"Supervisor Review   ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"6.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"138(26%)"}],body:{fill:"#F4F4F5",stroke:"#F1f1f1",strokeWidth:2}},C);et(jn,zi,{sourceSide:"bottom"},{targetSide:"top"},"label","62.2 min","45%","empty-circle");const li=vt(G,w+1300,Et,{label:"Approve for Processing",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"6.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"82(12%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}},C);et(zi,li,{sourceSide:"bottom"},{targetSide:"top"},"label","44.2 min","54%","empty-circle");const ui=ft(147,w+1500,Et);et(li,ui,{sourceSide:"bottom"},{targetSide:"top"},"label","33.2 min","18%","empty-circle");const Is=ut(147,350,Ft),Nn=ot(v?O:30,580,Ft,{label:"Open ID Verification Tab",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"12.1 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"432(86%)"}],body:{fill:"#FE9B71",stroke:"#F1f1f1",strokeWidth:2,cursor:"pointer"}},v);et(Is,Nn,{sourceSide:"bottom"},{targetSide:"top"},"label","24.1 min","62%","empty-circle"),h&&et(ee,Nn,{sourceSide:"bottom"},{targetSide:"left"},"label","24.1 min","28%","empty-circle",Ft);const qn=ot(O,M+320,Ft,{label:"Enter Claimant ID         ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"22.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"298(59%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}},v);C||et(Nn,qn,{sourceSide:"bottom"},{targetSide:"top"},"label","33.2 min","36%","empty-circle");const lr=ot(O,M+540,Ft,{label:"Cross check with data",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"3.1 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"398(77%)"}],body:{fill:"#FEC49A",stroke:"#F1f1f1",strokeWidth:2}},v);et(qn,lr,{sourceSide:"bottom"},{targetSide:"top"},"label","28.8 min","72%","empty-circle");const ur=ot(O,M+740,Ft,{label:"Check Claimant's DOB",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"6.6 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"102(29%)"}],body:{fill:"#FED6A9",stroke:"#F1f1f1",strokeWidth:2}},v);et(lr,ur,{sourceSide:"bottom"},{targetSide:"top"},"label","32.5 min","69%","empty-circle");const rn=ot(O,M+950,Ft,{label:"Confirm Address       ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"7.1 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"415(83%)"}],body:{fill:"#F4F4F5",stroke:"#F1f1f1",strokeWidth:2}},v);et(ur,rn,{sourceSide:"bottom"},{targetSide:"top"},"label","41.1 min","78%","empty-circle");const mn=ot(O,M+1150,Ft,{label:"Mark as Verified       ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"6.2 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"102(25%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}},v);et(rn,mn,{sourceSide:"bottom"},{targetSide:"top"},"label","28.8 min","72%","empty-circle");const vn=ft(147,M+1400,Ft);et(mn,vn,{sourceSide:"bottom"},{targetSide:"top"},"label","28.8 min","72%","empty-circle");const Er=ut(147,450,gt),Ar=ot(30,610,gt,{label:"Open System Dashboard ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"7.1 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"32(82%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2,cursor:"pointer"}});et(Er,Ar,{sourceSide:"bottom"},{targetSide:"top"},"label","24.1 min","36%","empty-circle");const Be=ot(30,E+320,gt,{label:"Click on claims Menu",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"9.8 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"154(52%)"}],body:{fill:"#E6E6E6",stroke:"#F1f1f1",strokeWidth:2}});C&&et(Nn,Er,{sourceSide:"bottom"},{targetSide:"left"},"label","24.1 min","28%","empty-circle",gt),v||et(Ar,Be,{sourceSide:"bottom"},{targetSide:"top"},"label","41.2 min","82%","empty-circle");const Rs=ot(30,E+540,gt,{label:"Select Verification Tab",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"7.3 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"132(43%)"}],body:{fill:"#E6E6E6",stroke:"#F1f1f1",strokeWidth:2}});et(Be,Rs,{sourceSide:"bottom"},{targetSide:"top"},"label","33.2 min","49%","empty-circle");const Ds=ot(30,E+740,gt,{label:"Wait for Tab Load      ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"8.1 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"212(69%)"}],body:{fill:"#FEC49A",stroke:"#F1f1f1",strokeWidth:2}});et(Rs,Ds,{sourceSide:"bottom"},{targetSide:"top"},"label","42.1 min","66%","empty-circle");const Vi=ot(30,E+950,gt,{label:"Confirm Load            ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"3.6 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"89(12%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}});et(Ds,Vi,{sourceSide:"bottom"},{targetSide:"top"},"label","69.2 min","12%","empty-circle");const Bs=ft(147,E+1220,gt);et(Vi,Bs,{sourceSide:"bottom"},{targetSide:"top"},"label","28.8 min","72%","empty-circle");const Pr=ut(147,550,q),Ui=ot(30,780,q,{label:"Double click CMS desktop",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"2.6 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"452(89%)"}],body:{fill:"#E6E6E6",stroke:"#F1f1f1",strokeWidth:2}});et(Pr,Ui,{sourceSide:"bottom"},{targetSide:"top"},"label","24.1 min","62%","empty-circle"),v&&et(Ar,Pr,{sourceSide:"bottom"},{targetSide:"left"},"label","24.1 min","28%","empty-circle",q);const Tr=ot(30,1020,q,{label:"Wait for app to open     ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"5.6 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"278(58%)"}],body:{fill:"#FE9B71",stroke:"#F1f1f1",strokeWidth:2}});et(Ui,Tr,{sourceSide:"bottom"},{targetSide:"top"},"label","33.2 min","36%","empty-circle");const qo=ot(30,1280,q,{label:"Enter Username           ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"7.3 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"132(43%)"}],body:{fill:"#FEC49A",stroke:"#F1f1f1",strokeWidth:2}});et(Tr,qo,{sourceSide:"bottom"},{targetSide:"top"},"label","45.1 min","51%","empty-circle");const Cr=ot(30,1500,q,{label:"Enter Password          ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"3.6 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"289(63%)"}],body:{fill:"#F4F4F5",stroke:"#F1f1f1",strokeWidth:2}});et(qo,Cr,{sourceSide:"bottom"},{targetSide:"top"},"label","32.5 min","69%","empty-circle");const ci=ot(30,1720,q,{label:"Log In                           ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"8.3 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"256(51%)"}],body:{fill:"#FFFFFF",stroke:"#F1f1f1",strokeWidth:2}});et(Cr,ci,{sourceSide:"bottom"},{targetSide:"top"},"label","41.1 min","78%","empty-circle");const fi=ot(30,1940,q,{label:"Wait for Dashboard          ",info:[{icon:{x:20,y:52,r:8,isFill:!0},text:"6.1 min"},{icon:{x:120,y:52,r:8,isFill:!1},text:"154(25%)"}],body:{fill:"#FED6A9",stroke:"#F1f1f1",strokeWidth:2}});et(ci,fi,{sourceSide:"bottom"},{targetSide:"top"},"label","29.1 min","12%","empty-circle");const Gi=ft(147,2160,q);if(et(fi,Gi,{sourceSide:"bottom"},{targetSide:"top"},"label","33.2 min","18%","empty-circle"),l&&et(ui,Ht,{sourceSide:"bottom"},{targetSide:"right"},"label","33.2 min","18%","empty-circle"),h&&et(vn,gn,{sourceSide:"left"},{targetSide:"right"},"label","33.2 min","18%","empty-circle"),C&&et(Bs,qn,{sourceSide:"left"},{targetSide:"right"},"label","33.2 min","18%","empty-circle"),v&&et(Gi,Be,{sourceSide:"left"},{targetSide:"right"},"label","33.2 min","18%","empty-circle"),st.on("swimlane:collapse",({model:It},Ut)=>{let Bt;Ut.stopPropagation(),It instanceof Lo||(Bt=It.getParentCell());const xt=Dt.findIndex(te=>te===Bt);It.attributes.attrs.label.text==="Claim Validation         "&&(c(!l),p(l?n:s),g(l?r:a),l&&(p(150),T(r),b(n),X(r),R(n),U(r),k(n))),It.attributes.attrs.label.text==="Verify Claimant ID      "&&(x(!h),b(h?n:s),T(h?r:a),h?(p(3*n),X(r),R(n),U(r),k(n)):p(5*n)),It.attributes.attrs.label.text==="Open ID Verification Tab"&&(L(!C),k(n),R(C?n:s),X(C?r:a),C?(b(3*n),p(5*n),U(r),k(n)):(b(5*n),p(7*n))),It.attributes.attrs.label.text==="Open System Dashboard "&&(S(!v),k(v?n:s+200),U(v?r:a),v?(R(3*n),b(4*n),p(5*n)):(R(4.5*n),b(6.5*n),p(8.5*n))),I.forEach((te,Xt)=>{Xt>xt&&te(!1)})}),st.on("info:collapse",({model:It},Ut)=>{Ut.stopPropagation(),It.toggleCollapse()}),st.on("header:collapse",({model:It},Ut)=>{Ut.stopPropagation();const Bt=Dt.findIndex(xt=>xt.id===It.id);console.log(It.attributes.attrs.label.text),It.attributes.attrs.label.text==="Subprocess"&&(p(150),T(r),b(n),X(r),R(n),U(r),k(n)),It.attributes.attrs.label.text==="Task"&&(p(3*n),T(r),b(n),X(r),R(n),U(r),k(n)),It.attributes.attrs.label.text==="Action"&&(p(5*n),X(r),R(n),b(3*n),U(r),k(n)),It.attributes.attrs.label.text==="Subaction"&&(p(7*n),R(3*n),b(5*n),U(r),k(n)),I.forEach((xt,te)=>{te>=Bt&&xt(!1)})}),kt.layoutSwimlanes(Dt),st.transformToFitContent({contentArea:new ht(0,0,50*2+Dt.length*$.width,1)}),st.fitToContent({contentArea:new ht(-50,-50,50*2+Dt.length*$.width-20,50*3+$.height+60),allowNewOrigin:"any"}),e.current)return(Yo=e.current)==null||Yo.appendChild(st.el),()=>{st.remove()}},[l,h,C,v]),ws.jsx(ws.Fragment,{children:ws.jsx("div",{id:"paper-contianer",children:ws.jsx("div",{id:"paper",ref:e})})})}W0.createRoot(document.getElementById("root")).render(ws.jsx(Ce.StrictMode,{children:ws.jsx(bE,{})}));
